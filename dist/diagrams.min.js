!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=c(1),f=d(e),g=c(34),h=d(g);(0,h["default"])(),window?window.diagrams=f["default"]:a.exports=f["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(2),f=d(e),g=c(28),h=d(g),i=c(29),j=d(i),k=c(30),l=d(k),m=c(32);b["default"]={Diagram:m.Diagram,events:h["default"],shared:j["default"],svg:l["default"],utils:f["default"]},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(3),f=d(e),g=c(4),h=d(g),i=c(6),j=d(i),k=c(8),l=d(k),m=c(12),n=d(m),o=c(13),p=d(o),q=c(14),r=d(q),s=c(15),t=d(s),u=c(19),v=d(u),w=c(21),x=d(w),y=c(20),z=d(y),A=c(18),B=d(A),C=c(22),D=d(C),E=c(7),F=d(E),G=c(23),H=d(G),I=c(24),J=d(I),K=c(16),L=d(K),M=c(25),N=d(M),O=c(26),P=d(O),Q=c(27),R=d(Q);b["default"]={applySimpleTransform:f["default"],codeBlockOfLanguageFn:h["default"],commasAndAndJoin:j["default"],composeWithEventEmitter:l["default"],createAnEventEmitter:n["default"],d3DefaultReturnFn:p["default"],dataFromGeneralToSpecificForATreeStructureType:r["default"],editedDescriptionTokenHandler:B["default"],formatShortDescription:t["default"],formatTextFragment:v["default"],generateATextDescriptionStr:x["default"],getClassedDivTokens:z["default"],getUrlParams:D["default"],joinWithLastDifferent:F["default"],positionFn:H["default"],pure:J["default"],replaceCodeFragmentOfText:L["default"],runWhenReady:N["default"],textFn:P["default"],wrapInParagraph:R["default"]},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a){a.attr("transform",function(a){return"translate("+a.x+","+a.y+")"})},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=(0,d.is)(String);b["default"]=function(a){var b=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return function(c,d,f){return f===!0&&(c=b+" ...\n"+c+"\n"+b+" ..."),e(d)&&(c=b+" @"+d+"\n"+c),"``"+a+"``"+c+"``"}},a.exports=b["default"]},function(a,b,c){(function(){"use strict";var b={"@@functional/placeholder":!0},c=function(a,b){switch(a){case 0:return function(){return b.apply(this,arguments)};case 1:return function(a){return b.apply(this,arguments)};case 2:return function(a,c){return b.apply(this,arguments)};case 3:return function(a,c,d){return b.apply(this,arguments)};case 4:return function(a,c,d,e){return b.apply(this,arguments)};case 5:return function(a,c,d,e,f){return b.apply(this,arguments)};case 6:return function(a,c,d,e,f,g){return b.apply(this,arguments)};case 7:return function(a,c,d,e,f,g,h){return b.apply(this,arguments)};case 8:return function(a,c,d,e,f,g,h,i){return b.apply(this,arguments)};case 9:return function(a,c,d,e,f,g,h,i,j){return b.apply(this,arguments)};case 10:return function(a,c,d,e,f,g,h,i,j,k){return b.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}},d=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c},e=function(a){return new RegExp(a.source,(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.sticky?"y":"")+(a.unicode?"u":""))},f=function(a){return function(){return!a.apply(this,arguments)}},g=function(a,b){a=a||[],b=b||[];var c,d=a.length,e=b.length,f=[];for(c=0;d>c;)f[f.length]=a[c],c+=1;for(c=0;e>c;)f[f.length]=b[c],c+=1;return f},h=function(a,b,c){for(var d=0,e=c.length;e>d;){if(a(b,c[d]))return!0;d+=1}return!1},i=function(a,b){for(var c=0,d=b.length,e=[];d>c;)a(b[c])&&(e[e.length]=b[c]),c+=1;return e},j=function(a){return{"@@transducer/value":a,"@@transducer/reduced":!0}},k=function(a,b){return Object.prototype.hasOwnProperty.call(b,a)},l=function(a){return a},m=function(){var a=Object.prototype.toString;return"[object Arguments]"===a.call(arguments)?function(b){return"[object Arguments]"===a.call(b)}:function(a){return k("callee",a)}}(),n=Array.isArray||function(a){return null!=a&&a.length>=0&&"[object Array]"===Object.prototype.toString.call(a)},o=Number.isInteger||function(a){return a<<0===a},p=function(a){return"[object Number]"===Object.prototype.toString.call(a)},q=function(a){return"[object Object]"===Object.prototype.toString.call(a)},r=function(a){return null!=a&&"object"==typeof a&&a["@@functional/placeholder"]===!0},s=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},t=function(a){return"[object String]"===Object.prototype.toString.call(a)},u=function(a){return"function"==typeof a["@@transducer/step"]},v=function(a,b){for(var c=0,d=b.length,e=Array(d);d>c;)e[c]=a(b[c]),c+=1;return e},w=function(a){return[a]},x=function(a,b){return function(){return b.call(this,a.apply(this,arguments))}},y=function(a,b){return function(){var c=this;return a.apply(c,arguments).then(function(a){return b.call(c,a)})}},z=function(a){var b=a.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+b.replace(/"/g,'\\"')+'"'},A=function(a){return a&&a["@@transducer/reduced"]?a:{"@@transducer/value":a,"@@transducer/reduced":!0}},B=function De(a,b,c){switch(arguments.length){case 1:return De(a,0,a.length);case 2:return De(a,b,a.length);default:for(var d=[],e=0,f=Math.max(0,Math.min(a.length,c)-b);f>e;)d[e]=a[b+e],e+=1;return d}},C=function(){var a=function(a){return(10>a?"0":"")+a};return"function"==typeof Date.prototype.toISOString?function(a){return a.toISOString()}:function(b){return b.getUTCFullYear()+"-"+a(b.getUTCMonth()+1)+"-"+a(b.getUTCDate())+"T"+a(b.getUTCHours())+":"+a(b.getUTCMinutes())+":"+a(b.getUTCSeconds())+"."+(b.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}(),D={init:function(){return this.xf["@@transducer/init"]()},result:function(a){return this.xf["@@transducer/result"](a)}},E=function(){function a(a){this.f=a}return a.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},a.prototype["@@transducer/result"]=function(a){return a},a.prototype["@@transducer/step"]=function(a,b){return this.f(a,b)},function(b){return new a(b)}}(),F=function(a,b){for(var c=0,d=b.length-(a-1),e=new Array(d>=0?d:0);d>c;)e[c]=B(b,c,c+a),c+=1;return e},G=function(a,b){return function(){var c=arguments.length;if(0===c)return b();var d=arguments[c-1];return n(d)||"function"!=typeof d[a]?b.apply(this,arguments):d[a].apply(d,B(arguments,0,c-1))}},H=function(a){return function b(c){return 0===arguments.length||r(c)?b:a.apply(this,arguments)}},I=function(a){return function b(c,d){switch(arguments.length){case 0:return b;case 1:return r(c)?b:H(function(b){return a(c,b)});default:return r(c)&&r(d)?b:r(c)?H(function(b){return a(b,d)}):r(d)?H(function(b){return a(c,b)}):a(c,d)}}},J=function(a){return function b(c,d,e){switch(arguments.length){case 0:return b;case 1:return r(c)?b:I(function(b,d){return a(c,b,d)});case 2:return r(c)&&r(d)?b:r(c)?I(function(b,c){return a(b,d,c)}):r(d)?I(function(b,d){return a(c,b,d)}):H(function(b){return a(c,d,b)});default:return r(c)&&r(d)&&r(e)?b:r(c)&&r(d)?I(function(b,c){return a(b,c,e)}):r(c)&&r(e)?I(function(b,c){return a(b,d,c)}):r(d)&&r(e)?I(function(b,d){return a(c,b,d)}):r(c)?H(function(b){return a(b,d,e)}):r(d)?H(function(b){return a(c,b,e)}):r(e)?H(function(b){return a(c,d,b)}):a(c,d,e)}}},K=function Ee(a,b,d){return function(){for(var e=[],f=0,g=a,h=0;h<b.length||f<arguments.length;){var i;h<b.length&&(!r(b[h])||f>=arguments.length)?i=b[h]:(i=arguments[f],f+=1),e[h]=i,r(i)||(g-=1),h+=1}return 0>=g?d.apply(this,e):c(g,Ee(a,e,d))}},L=function(a,b,c){return function(){var d=arguments.length;if(0===d)return c();var e=arguments[d-1];if(!n(e)){var f=B(arguments,0,d-1);if("function"==typeof e[a])return e[a].apply(e,f);if(u(e)){var g=b.apply(null,f);return g(e)}}return c.apply(this,arguments)}},M=function(a,b){for(var c=b.length-1;c>=0&&a(b[c]);)c-=1;return B(b,0,c+1)},N=function(){function a(a,b){this.xf=b,this.f=a,this.all=!0}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){return this.all&&(a=this.xf["@@transducer/step"](a,!0)),this.xf["@@transducer/result"](a)},a.prototype["@@transducer/step"]=function(a,b){return this.f(b)||(this.all=!1,a=A(this.xf["@@transducer/step"](a,!1))),a},I(function(b,c){return new a(b,c)})}(),O=function(){function a(a,b){this.xf=b,this.f=a,this.any=!1}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){return this.any||(a=this.xf["@@transducer/step"](a,!1)),this.xf["@@transducer/result"](a)},a.prototype["@@transducer/step"]=function(a,b){return this.f(b)&&(this.any=!0,a=A(this.xf["@@transducer/step"](a,!0))),a},I(function(b,c){return new a(b,c)})}(),P=function(){function a(a,b){this.xf=b,this.pos=0,this.full=!1,this.acc=new Array(a)}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){return this.acc=null,this.xf["@@transducer/result"](a)},a.prototype["@@transducer/step"]=function(a,b){return this.store(b),this.full?this.xf["@@transducer/step"](a,this.getCopy()):a},a.prototype.store=function(a){this.acc[this.pos]=a,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},a.prototype.getCopy=function(){return g(B(this.acc,this.pos),B(this.acc,0,this.pos))},I(function(b,c){return new a(b,c)})}(),Q=function(){function a(a,b){this.xf=b,this.n=a}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=D.result,a.prototype["@@transducer/step"]=function(a,b){return this.n>0?(this.n-=1,a):this.xf["@@transducer/step"](a,b)},I(function(b,c){return new a(b,c)})}(),R=function(){function a(a,b){this.xf=b,this.pos=0,this.full=!1,this.acc=new Array(a)}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){return this.acc=null,this.xf["@@transducer/result"](a)},a.prototype["@@transducer/step"]=function(a,b){return this.full&&(a=this.xf["@@transducer/step"](a,this.acc[this.pos])),this.store(b),a},a.prototype.store=function(a){this.acc[this.pos]=a,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},I(function(b,c){return new a(b,c)})}(),S=function(){function a(a,b){this.xf=b,this.pred=a,this.lastValue=void 0,this.seenFirstValue=!1}return a.prototype["@@transducer/init"]=function(){return this.xf["@@transducer/init"]()},a.prototype["@@transducer/result"]=function(a){return this.xf["@@transducer/result"](a)},a.prototype["@@transducer/step"]=function(a,b){var c=!1;return this.seenFirstValue?this.pred(this.lastValue,b)&&(c=!0):this.seenFirstValue=!0,this.lastValue=b,c?a:this.xf["@@transducer/step"](a,b)},I(function(b,c){return new a(b,c)})}(),T=function(){function a(a,b){this.xf=b,this.f=a}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=D.result,a.prototype["@@transducer/step"]=function(a,b){if(this.f){if(this.f(b))return a;this.f=null}return this.xf["@@transducer/step"](a,b)},I(function(b,c){return new a(b,c)})}(),U=function(){function a(a,b){this.xf=b,this.f=a}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=D.result,a.prototype["@@transducer/step"]=function(a,b){return this.f(b)?this.xf["@@transducer/step"](a,b):a},I(function(b,c){return new a(b,c)})}(),V=function(){function a(a,b){this.xf=b,this.f=a,this.found=!1}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){return this.found||(a=this.xf["@@transducer/step"](a,void 0)),this.xf["@@transducer/result"](a)},a.prototype["@@transducer/step"]=function(a,b){return this.f(b)&&(this.found=!0,a=A(this.xf["@@transducer/step"](a,b))),a},I(function(b,c){return new a(b,c)})}(),W=function(){function a(a,b){this.xf=b,this.f=a,this.idx=-1,this.found=!1}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){return this.found||(a=this.xf["@@transducer/step"](a,-1)),this.xf["@@transducer/result"](a)},a.prototype["@@transducer/step"]=function(a,b){return this.idx+=1,this.f(b)&&(this.found=!0,a=A(this.xf["@@transducer/step"](a,this.idx))),a},I(function(b,c){return new a(b,c)})}(),X=function(){function a(a,b){this.xf=b,this.f=a}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](a,this.last))},a.prototype["@@transducer/step"]=function(a,b){return this.f(b)&&(this.last=b),a},I(function(b,c){return new a(b,c)})}(),Y=function(){function a(a,b){this.xf=b,this.f=a,this.idx=-1,this.lastIdx=-1}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](a,this.lastIdx))},a.prototype["@@transducer/step"]=function(a,b){return this.idx+=1,this.f(b)&&(this.lastIdx=this.idx),a},I(function(b,c){return new a(b,c)})}(),Z=function(){function a(a,b){this.xf=b,this.f=a}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=D.result,a.prototype["@@transducer/step"]=function(a,b){return this.xf["@@transducer/step"](a,this.f(b))},I(function(b,c){return new a(b,c)})}(),$=function(){function a(a,b){this.xf=b,this.n=a}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=D.result,a.prototype["@@transducer/step"]=function(a,b){return 0===this.n?A(a):(this.n-=1,this.xf["@@transducer/step"](a,b))},I(function(b,c){return new a(b,c)})}(),_=function(){function a(a,b){this.xf=b,this.f=a}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=D.result,a.prototype["@@transducer/step"]=function(a,b){return this.f(b)?this.xf["@@transducer/step"](a,b):A(a)},I(function(b,c){return new a(b,c)})}(),aa=I(function(a,b){return a+b}),ba=J(function(a,b,c){if(b>=c.length||b<-c.length)return c;var d=0>b?c.length:0,e=d+b,f=g(c);return f[e]=a(c[e]),f}),ca=I(L("all",N,function(a,b){for(var c=0;c<b.length;){if(!a(b[c]))return!1;c+=1}return!0})),da=H(function(a){return function(){return a}}),ea=I(function(a,b){return a&&b}),fa=I(L("any",O,function(a,b){for(var c=0;c<b.length;){if(a(b[c]))return!0;c+=1}return!1})),ga=I(L("aperture",P,F)),ha=I(function(a,b){return g(b,[a])}),ia=I(function(a,b){return a.apply(this,b)}),ja=J(function(a,b,c){var d={};for(var e in c)d[e]=c[e];return d[a]=b,d}),ka=J(function Fe(a,b,c){switch(a.length){case 0:return b;case 1:return ja(a[0],b,c);default:return ja(a[0],Fe(B(a,1),b,Object(c[a[0]])),c)}}),la=I(function(a,b){return c(a.length,function(){return a.apply(b,arguments)})}),ma=I(function(a,b){return function(){return a.apply(this,arguments)&&b.apply(this,arguments)}}),na=H(function(a){return function(b,c){return a(b,c)?-1:a(c,b)?1:0}}),oa=H(function(a){return function(){for(var b=0;b<a.length;){if(a[b][0].apply(this,arguments))return a[b][1].apply(this,arguments);b+=1}}}),pa=I(function(a,b){for(var c={},d=b.length,e=0;d>e;){var f=a(b[e]);c[f]=(k(f,c)?c[f]:0)+1,e+=1}return c}),qa=I(function(a,b){return 1===a?H(b):c(a,K(a,[],b))}),ra=aa(-1),sa=I(function(a,b){return null==b||b!==b?a:b}),ta=J(function(a,b,c){for(var d=[],e=0,f=b.length;f>e;)h(a,b[e],c)||h(a,b[e],d)||d.push(b[e]),e+=1;return d}),ua=I(function(a,b){var c={};for(var d in b)d!==a&&(c[d]=b[d]);return c}),va=I(function Ge(a,b){switch(a.length){case 0:return b;case 1:return ua(a[0],b);default:var c=a[0],d=B(a,1);return null==b[c]?b:ja(c,Ge(d,b[c]),b)}}),wa=I(function(a,b){return a/b}),xa=I(L("dropWhile",T,function(a,b){for(var c=0,d=b.length;d>c&&a(b[c]);)c+=1;return B(b,c)})),ya=I(function(a,b){return function(){return a.apply(this,arguments)||b.apply(this,arguments)}}),za=H(function(a){return null!=a&&"function"==typeof a.empty?a.empty():null!=a&&null!=a.constructor&&"function"==typeof a.constructor.empty?a.constructor.empty():n(a)?[]:t(a)?"":q(a)?{}:m(a)?function(){return arguments}():void 0}),Aa=I(function He(a,b){var c,d,e,f={};for(d in b)c=a[d],e=typeof c,f[d]="function"===e?c(b[d]):"object"===e?He(a[d],b[d]):b[d];return f}),Ba=I(L("find",V,function(a,b){for(var c=0,d=b.length;d>c;){if(a(b[c]))return b[c];c+=1}})),Ca=I(L("findIndex",W,function(a,b){for(var c=0,d=b.length;d>c;){if(a(b[c]))return c;c+=1}return-1})),Da=I(L("findLast",X,function(a,b){for(var c=b.length-1;c>=0;){if(a(b[c]))return b[c];c-=1}})),Ea=I(L("findLastIndex",Y,function(a,b){for(var c=b.length-1;c>=0;){if(a(b[c]))return c;c-=1}return-1})),Fa=I(G("forEach",function(a,b){for(var c=b.length,d=0;c>d;)a(b[d]),d+=1;return b})),Ga=H(function(a){for(var b=0,c=a.length,d={};c>b;)n(a[b])&&a[b].length&&(d[a[b][0]]=a[b][1]),b+=1;return d}),Ha=I(function(a,b){return a>b}),Ia=I(function(a,b){return a>=b}),Ja=I(k),Ka=I(function(a,b){return a in b}),La=I(function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}),Ma=H(l),Na=J(function(a,b,c){return qa(Math.max(a.length,b.length,c.length),function(){return a.apply(this,arguments)?b.apply(this,arguments):c.apply(this,arguments)})}),Oa=aa(1),Pa=J(function(a,b,c){a=a<c.length&&a>=0?a:c.length;var d=B(c);return d.splice(a,0,b),d}),Qa=J(function(a,b,c){return a=a<c.length&&a>=0?a:c.length,g(g(B(c,0,a),b),B(c,a))}),Ra=I(G("intersperse",function(a,b){for(var c=[],d=0,e=b.length;e>d;)d===e-1?c.push(b[d]):c.push(b[d],a),d+=1;return c})),Sa=I(function(a,b){return null!=b&&b.constructor===a||b instanceof a}),Ta=H(function(a){return n(a)?!0:a?"object"!=typeof a?!1:a instanceof String?!1:1===a.nodeType?!!a.length:0===a.length?!0:a.length>0?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1:!1}),Ua=H(function(a){return null==a}),Va=function(){var a=!{toString:null}.propertyIsEnumerable("toString"),b=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){return arguments.propertyIsEnumerable("length")}(),d=function(a,b){for(var c=0;c<a.length;){if(a[c]===b)return!0;c+=1}return!1};return H("function"!=typeof Object.keys||c?function(e){if(Object(e)!==e)return[];var f,g,h=[],i=c&&m(e);for(f in e)!k(f,e)||i&&"length"===f||(h[h.length]=f);if(a)for(g=b.length-1;g>=0;)f=b[g],k(f,e)&&!d(h,f)&&(h[h.length]=f),g-=1;return h}:function(a){return Object(a)!==a?[]:Object.keys(a)})}(),Wa=H(function(a){var b,c=[];for(b in a)c[c.length]=b;return c}),Xa=H(function(a){return null!=a&&Sa(Number,a.length)?a.length:NaN}),Ya=I(function(a,b){return b>a}),Za=I(function(a,b){return b>=a}),$a=J(function(a,b,c){for(var d=0,e=c.length,f=[],g=[b];e>d;)g=a(g[0],c[d]),f[d]=g[1],d+=1;return[g[0],f]}),_a=J(function(a,b,c){for(var d=c.length-1,e=[],f=[b];d>=0;)f=a(f[0],c[d]),e[d]=f[1],d-=1;return[f[0],e]}),ab=I(function(a,b){return b.match(a)||[]}),bb=I(function(a,b){return o(a)?!o(b)||1>b?NaN:(a%b+b)%b:NaN}),cb=I(function(a,b){return b>a?b:a}),db=J(function(a,b,c){return a(c)>a(b)?c:b}),eb=J(function(a,b,c){var d,e={};for(d in b)k(d,b)&&(e[d]=k(d,c)?a(d,b[d],c[d]):b[d]);for(d in c)k(d,c)&&!k(d,e)&&(e[d]=c[d]);return e}),fb=I(function(a,b){return a>b?b:a}),gb=J(function(a,b,c){return a(c)<a(b)?c:b}),hb=I(function(a,b){return a%b}),ib=I(function(a,b){return a*b}),jb=I(function(a,b){switch(a){case 0:return function(){return b.call(this)};case 1:return function(a){return b.call(this,a)};case 2:return function(a,c){return b.call(this,a,c)};case 3:return function(a,c,d){return b.call(this,a,c,d)};case 4:return function(a,c,d,e){return b.call(this,a,c,d,e)};case 5:return function(a,c,d,e,f){return b.call(this,a,c,d,e,f)};case 6:return function(a,c,d,e,f,g){return b.call(this,a,c,d,e,f,g)};case 7:return function(a,c,d,e,f,g,h){return b.call(this,a,c,d,e,f,g,h)};case 8:return function(a,c,d,e,f,g,h,i){return b.call(this,a,c,d,e,f,g,h,i)};case 9:return function(a,c,d,e,f,g,h,i,j){return b.call(this,a,c,d,e,f,g,h,i,j)};case 10:return function(a,c,d,e,f,g,h,i,j,k){return b.call(this,a,c,d,e,f,g,h,i,j,k)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),kb=H(function(a){return-a}),lb=I(f(L("any",O,fa))),mb=H(function(a){return!a}),nb=I(function(a,b){var c=0>a?b.length+a:a;return t(b)?b.charAt(c):b[c]}),ob=H(function(a){return function(){return nb(a,arguments)}}),pb=I(function(a,b){var c={};return c[a]=b,c}),qb=H(w),rb=H(function(a){var b,d=!1;return c(a.length,function(){return d?b:(d=!0,b=a.apply(this,arguments))})}),sb=I(function(a,b){return a||b}),tb=function(){var a=function(b){return{value:b,map:function(c){return a(c(b))}}};return J(function(b,c,d){return b(function(b){return a(c(b))})(d).value})}(),ub=I(function(a,b){return[a,b]}),vb=I(function(a,b){for(var c=b,d=0;d<a.length;){if(null==c)return;c=c[a[d]],d+=1}return c}),wb=J(function(a,b,c){return sa(a,vb(b,c))}),xb=J(function(a,b,c){return b.length>0&&a(vb(b,c))}),yb=I(function(a,b){for(var c={},d=0;d<a.length;)a[d]in b&&(c[a[d]]=b[a[d]]),d+=1;return c}),zb=I(function(a,b){for(var c={},d=0,e=a.length;e>d;){var f=a[d];c[f]=b[f],d+=1}return c}),Ab=I(function(a,b){var c={};for(var d in b)a(b[d],d,b)&&(c[d]=b[d]);return c}),Bb=I(function(a,b){return g([a],b)}),Cb=I(function(a,b){return b[a]}),Db=J(function(a,b,c){return null!=c&&k(b,c)?c[b]:a}),Eb=J(function(a,b,c){return a(c[b])}),Fb=I(function(a,b){for(var c=a.length,d=[],e=0;c>e;)d[e]=b[a[e]],e+=1;return d}),Gb=I(function(a,b){if(!p(a)||!p(b))throw new TypeError("Both arguments to range must be numbers");for(var c=[],d=a;b>d;)c.push(d),d+=1;return c}),Hb=J(function(a,b,c){for(var d=c.length-1;d>=0;)b=a(b,c[d]),d-=1;return b}),Ib=H(A),Jb=J(function(a,b,c){return g(B(c,0,Math.min(a,c.length)),B(c,Math.min(c.length,a+b)))}),Kb=J(function(a,b,c){return c.replace(a,b)}),Lb=H(function(a){return t(a)?a.split("").reverse().join(""):B(a).reverse()}),Mb=J(function(a,b,c){for(var d=0,e=c.length,f=[b];e>d;)b=a(b,c[d]),f[d+1]=b,d+=1;return f}),Nb=J(function(a,b,c){return tb(a,da(b),c)}),Ob=J(G("slice",function(a,b,c){return Array.prototype.slice.call(c,a,b)})),Pb=I(function(a,b){return B(b).sort(a)}),Qb=I(function(a,b){return B(b).sort(function(b,c){var d=a(b),e=a(c);return e>d?-1:d>e?1:0})}),Rb=I(function(a,b){return[Ob(0,a,b),Ob(a,Xa(b),b)]}),Sb=I(function(a,b){if(0>=a)throw new Error("First argument to splitEvery must be a positive integer");for(var c=[],d=0;d<b.length;)c.push(Ob(d,d+=a,b));return c}),Tb=I(function(a,b){for(var c=0,d=b.length,e=[];d>c&&!a(b[c]);)e.push(b[c]),c+=1;return[e,B(b,c)]}),Ub=I(function(a,b){return a-b}),Vb=G("tail",Ob(1,1/0)),Wb=I(L("take",$,function(a,b){return Ob(0,0>a?1/0:a,b)})),Xb=I(function(a,b){for(var c=b.length-1;c>=0&&a(b[c]);)c-=1;return B(b,c+1,1/0)}),Yb=I(L("takeWhile",_,function(a,b){for(var c=0,d=b.length;d>c&&a(b[c]);)c+=1;return B(b,0,c)})),Zb=I(function(a,b){return a(b),b}),$b=I(function(a,b){var c,d=Number(b),e=0;if(0>d||isNaN(d))throw new RangeError("n must be a non-negative number");for(c=new Array(d);d>e;)c[e]=a(e),e+=1;return c}),_b=H(function(a){var b=[];for(var c in a)k(c,a)&&(b[b.length]=[c,a[c]]);return b}),ac=H(function(a){var b=[];for(var c in a)b[b.length]=[c,a[c]];return b}),bc=H(function(a){for(var b=0,c=[];b<a.length;){for(var d=a[b],e=0;e<d.length;)"undefined"==typeof c[e]&&(c[e]=[]),c[e].push(d[e]),e+=1;b+=1}return c}),cc=function(){var a="	\n\f\r   ᠎             　\u2028\u2029\ufeff",b="​",c="function"==typeof String.prototype.trim;return H(c&&!a.trim()&&b.trim()?function(a){return a.trim()}:function(b){var c=new RegExp("^["+a+"]["+a+"]*"),d=new RegExp("["+a+"]["+a+"]*$");return b.replace(c,"").replace(d,"")})}(),dc=H(function(a){return null===a?"Null":void 0===a?"Undefined":Object.prototype.toString.call(a).slice(8,-1)}),ec=H(function(a){return function(){return a(B(arguments))}}),fc=H(function(a){return jb(1,a)}),gc=I(function(a,b){return qa(a,function(){for(var c,d=1,e=b,f=0;a>=d&&"function"==typeof e;)c=d===a?arguments.length:f+e.length,e=e.apply(this,B(arguments,f,c)),d+=1,f=c;return e})}),hc=I(function(a,b){for(var c=a(b),d=[];c&&c.length;)d[d.length]=c[0],c=a(c[1]);return d}),ic=I(function(a,b){for(var c,d=0,e=b.length,f=[];e>d;)c=b[d],h(a,c,f)||(f[f.length]=c),d+=1;return f}),jc=J(function(a,b,c){return a(c)?c:b(c)}),kc=J(function(a,b,c){return ba(da(b),a,c)}),lc=I(function(a,b){return qa(b.length,function(){for(var c=[],d=0;d<b.length;)c.push(b[d].call(this,arguments[d])),d+=1;return a.apply(this,c.concat(B(arguments,b.length)))})}),mc=H(function(a){for(var b=Va(a),c=b.length,d=[],e=0;c>e;)d[e]=a[b[e]],e+=1;return d}),nc=H(function(a){var b,c=[];for(b in a)c[c.length]=a[b];return c}),oc=function(){var a=function(a){return{value:a,map:function(){return this}}};return I(function(b,c){return b(a)(c).value})}(),pc=J(function(a,b,c){return a(c)?b(c):c}),qc=I(function(a,b){for(var c in a)if(k(c,a)&&!a[c](b[c]))return!1;return!0}),rc=I(function(a,b){return qa(a.length,function(){return b.apply(this,g([a],arguments))})}),sc=I(function(a,b){for(var c,d=0,e=a.length,f=b.length,g=[];e>d;){for(c=0;f>c;)g[g.length]=[a[d],b[c]],c+=1;d+=1}return g}),tc=I(function(a,b){for(var c=[],d=0,e=Math.min(a.length,b.length);e>d;)c[d]=[a[d],b[d]],d+=1;return c}),uc=I(function(a,b){for(var c=0,d=a.length,e={};d>c;)e[a[c]]=b[c],c+=1;return e}),vc=J(function(a,b,c){for(var d=[],e=0,f=Math.min(b.length,c.length);f>e;)d[e]=a(b[e],c[e]),e+=1;return d}),wc=da(!1),xc=da(!0),yc=function Ie(a,b,c){var d=function(d){for(var e=b.length,f=0;e>f;){if(a===b[f])return c[f];f+=1}b[f+1]=a,c[f+1]=d;for(var g in a)d[g]=Ie(a[g],b,c);return d};switch(dc(a)){case"Object":return d({});case"Array":return d([]);case"Date":return new Date(a.valueOf());case"RegExp":return e(a);default:return a}},zc=function(a){return I(function(b,d){return c(Math.max(0,b.length-d.length),function(){return b.apply(this,a(d,arguments))})})},Ac=function(a,b){return Wb(a<b.length?b.length-a:0,b)},Bc=function Je(a,b,c,e){if(La(a,b))return!0;if(dc(a)!==dc(b))return!1;if(null==a||null==b)return!1;if("function"==typeof a.equals||"function"==typeof b.equals)return"function"==typeof a.equals&&a.equals(b)&&"function"==typeof b.equals&&b.equals(a);switch(dc(a)){case"Arguments":case"Array":case"Object":break;case"Boolean":case"Number":case"String":if(typeof a!=typeof b||!La(a.valueOf(),b.valueOf()))return!1;break;case"Date":if(!La(a.valueOf(),b.valueOf()))return!1;break;case"Error":return a.name===b.name&&a.message===b.message;case"RegExp":if(a.source!==b.source||a.global!==b.global||a.ignoreCase!==b.ignoreCase||a.multiline!==b.multiline||a.sticky!==b.sticky||a.unicode!==b.unicode)return!1;break;case"Map":case"Set":if(!Je(d(a.entries()),d(b.entries()),c,e))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":break;case"ArrayBuffer":break;default:return!1}var f=Va(a);if(f.length!==Va(b).length)return!1;for(var g=c.length-1;g>=0;){if(c[g]===a)return e[g]===b;g-=1}for(c.push(a),e.push(b),g=f.length-1;g>=0;){var h=f[g];if(!k(h,b)||!Je(b[h],a[h],c,e))return!1;g-=1}return c.pop(),e.pop(),!0},Cc=function(a){return function b(c){for(var d,e,f,g=[],h=0,i=c.length;i>h;){if(Ta(c[h]))for(d=a?b(c[h]):c[h],f=0,e=d.length;e>f;)g[g.length]=d[f],f+=1;else g[g.length]=c[h];h+=1}return g}},Dc=function(){function a(a,b,c){for(var d=0,e=c.length;e>d;){if(b=a["@@transducer/step"](b,c[d]),b&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break}d+=1}return a["@@transducer/result"](b)}function b(a,b,c){for(var d=c.next();!d.done;){if(b=a["@@transducer/step"](b,d.value),b&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break}d=c.next()}return a["@@transducer/result"](b)}function c(a,b,c){return a["@@transducer/result"](c.reduce(la(a["@@transducer/step"],a),b))}var d="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(e,f,g){if("function"==typeof e&&(e=E(e)),Ta(g))return a(e,f,g);if("function"==typeof g.reduce)return c(e,f,g);if(null!=g[d])return b(e,f,g[d]());if("function"==typeof g.next)return b(e,f,g);throw new TypeError("reduce: list must be array or iterable")}}(),Ec=function(){function a(a,b){this.f=a,this.retained=[],this.xf=b}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){return this.retained=null,this.xf["@@transducer/result"](a)},a.prototype["@@transducer/step"]=function(a,b){return this.f(b)?this.retain(a,b):this.flush(a,b)},a.prototype.flush=function(a,b){return a=Dc(this.xf["@@transducer/step"],a,this.retained),this.retained=[],this.xf["@@transducer/step"](a,b)},a.prototype.retain=function(a,b){return this.retained.push(b),a},I(function(b,c){return new a(b,c)})}(),Fc=function(){function a(a,b){this.xf=b,this.f=a,this.inputs={}}return a.prototype["@@transducer/init"]=D.init,a.prototype["@@transducer/result"]=function(a){var b;for(b in this.inputs)if(k(b,this.inputs)&&(a=this.xf["@@transducer/step"](a,this.inputs[b]),a["@@transducer/reduced"])){a=a["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](a)},a.prototype["@@transducer/step"]=function(a,b){var c=this.f(b);return this.inputs[c]=this.inputs[c]||[c,[]],this.inputs[c][1]=ha(b,this.inputs[c][1]),a},I(function(b,c){return new a(b,c)})}(),Gc=H(function(a){return qa(a.length,function(){var b=0,c=arguments[0],d=arguments[arguments.length-1],e=B(arguments);return e[0]=function(){var a=c.apply(this,g(arguments,[b,d]));return b+=1,a},a.apply(this,e)})}),Hc=H(function(a){return jb(2,a)}),Ic=H(function(a){return null!=a&&"function"==typeof a.clone?a.clone():yc(a,[],[])}),Jc=H(function(a){return qa(a.length,a)}),Kc=I(L("drop",Q,function(a,b){return Ob(Math.max(0,a),1/0,b)})),Lc=I(L("dropLast",R,Ac)),Mc=I(L("dropLastWhile",Ec,M)),Nc=I(function(a,b){return Bc(a,b,[],[])}),Oc=I(L("filter",U,function(a,b){return q(b)?Dc(function(c,d){return a(b[d])&&(c[d]=b[d]),c},{},Va(b)):i(a,b)})),Pc=H(Cc(!0)),Qc=H(function(a){return Jc(function(b,c){var d=B(arguments);return d[0]=c,d[1]=b,a.apply(this,d)})}),Rc=I(L("groupBy",Fc,function(a,b){return Dc(function(b,c){var d=a(c);return b[d]=ha(c,b[d]||(b[d]=[])),b},{},b)})),Sc=nb(0),Tc=I(function(a,b){return Dc(function(b,c){var d=a(c);return b[d]=c,b},{},b)}),Uc=Ob(0,-1),Vc=J(function(a,b,c){for(var d=[],e=0;e<b.length;)h(a,b[e],c)&&(d[d.length]=b[e]),e+=1;return ic(a,d)}),Wc=H(function(a){for(var b=Va(a),c=b.length,d=0,e={};c>d;){var f=b[d],g=a[f],h=k(g,e)?e[g]:e[g]=[];h[h.length]=f,d+=1}return e}),Xc=H(function(a){for(var b=Va(a),c=b.length,d=0,e={};c>d;){var f=b[d];e[a[f]]=f,d+=1}return e}),Yc=H(function(a){return null!=a&&Nc(a,za(a))}),Zc=nb(-1),$c=I(function(a,b){if("function"!=typeof b.lastIndexOf||n(b)){for(var c=b.length-1;c>=0;){if(Nc(b[c],a))return c;c-=1}return-1}return b.lastIndexOf(a)}),_c=I(L("map",Z,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return qa(b.length,function(){return a.call(this,b.apply(this,arguments))});case"[object Object]":return Dc(function(c,d){return c[d]=a(b[d]),c},{},Va(b));default:return v(a,b)}})),ad=I(function(a,b){return Dc(function(c,d){return c[d]=a(b[d],d,b),c},{},Va(b))}),bd=J(function(a,b,c){return eb(function(b,c,d){return a(c,d)},b,c)}),cd=zc(g),dd=zc(Qc(g)),ed=I(function(a,b){return Dc(function(b,c){var d=b[a(c)?0:1];return d[d.length]=c,b},[[],[]],b)}),fd=J(function(a,b,c){return Nc(vb(a,c),b)}),gd=I(function(a,b){return _c(Cb(a),b)}),hd=lc(v,[zb,Ma]),id=J(function(a,b,c){return Eb(Nc(b),a,c)}),jd=J(function(a,b,c){return Eb(Sa(a),b,c)}),kd=J(Dc),ld=I(function(a,b){return Oc(f(a),b)}),md=I(function(a,b){return $b(da(a),b)}),nd=kd(aa,0),od=I(function(a,b){return Kc(a>=0?b.length-a:0,b)}),pd=qa(4,function(a,b,c,d){return Dc(a("function"==typeof b?E(b):b),c,d)}),qd=J(function(a,b,c){return ic(a,g(b,c))}),rd=I(function(a,b){return qc(_c(Nc,a),b)}),sd=function(){var a=function(a){return{"@@transducer/init":D.init,"@@transducer/result":function(b){return a["@@transducer/result"](b);
},"@@transducer/step":function(b,c){var d=a["@@transducer/step"](b,c);return d["@@transducer/reduced"]?j(d):d}}};return function(b){var c=a(b);return{"@@transducer/init":D.init,"@@transducer/result":function(a){return c["@@transducer/result"](a)},"@@transducer/step":function(a,b){return Ta(b)?Dc(c,a,b):Dc(c,a,[b])}}}}(),td=function(a,b,c){var d,e;if("function"==typeof a.indexOf)switch(typeof b){case"number":if(0===b){for(d=1/b;c<a.length;){if(e=a[c],0===e&&1/e===d)return c;c+=1}return-1}if(b!==b){for(;c<a.length;){if(e=a[c],"number"==typeof e&&e!==e)return c;c+=1}return-1}return a.indexOf(b,c);case"string":case"boolean":case"function":case"undefined":return a.indexOf(b,c);case"object":if(null===b)return a.indexOf(b,c)}for(;c<a.length;){if(Nc(a[c],b))return c;c+=1}return-1},ud=I(function(a,b){return _c(a,sd(b))}),vd=H(function(a){return qa(kd(cb,0,gd("length",a)),function(){for(var b=0,c=a.length;c>b;){if(!a[b].apply(this,arguments))return!1;b+=1}return!0})}),wd=H(function(a){for(var b=a.length,c=0;b>c;){if(td(a,a[c],c+1)>=0)return!1;c+=1}return!0}),xd=H(function(a){return qa(kd(cb,0,gd("length",a)),function(){for(var b=0,c=a.length;c>b;){if(a[b].apply(this,arguments))return!0;b+=1}return!1})}),yd=I(function(a,b){return"function"==typeof a.ap?a.ap(b):"function"==typeof a?qa(Math.max(a.length,b.length),function(){return a.apply(this,arguments)(b.apply(this,arguments))}):Dc(function(a,c){return g(a,_c(c,b))},[],a)}),zd=Jc(function(a){return a.apply(this,B(arguments,1))}),Ad=I(L("chain",ud,function(a,b){return"function"==typeof b?function(){return b.call(this,a.apply(this,arguments)).apply(this,arguments)}:Cc(!1)(_c(a,b))})),Bd=J(function(a,b,c){function d(b,c){return yd(_c(Bb,a(c)),b)}return Hb(d,b([]),c)}),Cd=I(function(a,b){if(a>10)throw new Error("Constructor with greater than ten arguments");return 0===a?function(){return new b}:Jc(jb(a,function(a,c,d,e,f,g,h,i,j,k){switch(arguments.length){case 1:return new b(a);case 2:return new b(a,c);case 3:return new b(a,c,d);case 4:return new b(a,c,d,e);case 5:return new b(a,c,d,e,f);case 6:return new b(a,c,d,e,f,g);case 7:return new b(a,c,d,e,f,g,h);case 8:return new b(a,c,d,e,f,g,h,i);case 9:return new b(a,c,d,e,f,g,h,i,j);case 10:return new b(a,c,d,e,f,g,h,i,j,k)}}))}),Dd=I(function(a,b){return qa(Math.max.apply(Math,gd("length",b)),function(){var c=arguments,d=this;return a.apply(d,v(function(a){return a.apply(d,c)},b))})}),Ed=I(L("dropRepeatsWith",S,function(a,b){var c=[],d=1,e=b.length;if(0!==e)for(c[0]=b[0];e>d;)a(Zc(c),b[d])||(c[c.length]=b[d]),d+=1;return c})),Fd=J(function(a,b,c){return Nc(a(b),a(c))}),Gd=J(function(a,b,c){return Nc(b[a],c[a])}),Hd=I(function(a,b){return"function"!=typeof b.indexOf||n(b)?td(b,a,0):b.indexOf(a)}),Id=H(function(a){return function(){return _c(ia(b,arguments),a)}}),Jd=I(function(a,b){return function(c){return function(d){return _c(function(a){return b(a,d)},c(a(d)))}}}),Kd=H(function(a){return Jd(nb(a),kc(a))}),Ld=H(function(a){return Jd(vb(a),ka(a))}),Md=H(function(a){return Jd(Cb(a),ja(a))}),Nd=I(function(a,b){var c=qa(a,b);return qa(a,function(){return Dc(yd,_c(c,arguments[0]),B(arguments,1))})}),Od=H(function(a){return nd(a)/a.length}),Pd=H(function(a){var b=a.length;if(0===b)return NaN;var c=2-b%2,d=(b-c)/2;return Od(B(a).sort(function(a,b){return b>a?-1:a>b?1:0}).slice(d,d+c))}),Qd=bd(function(a,b){return b}),Rd=H(function(a){return kd(Qd,{},a)}),Sd=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return c(arguments[0].length,kd(x,arguments[0],Vb(arguments)))},Td=function(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return c(arguments[0].length,kd(y,arguments[0],Vb(arguments)))},Ud=kd(ib,1),Vd=I(function(a,b){return"function"==typeof b.sequence?b.sequence(a):Hb(function(a,b){return yd(_c(Bb,b),a)},a([]),b)}),Wd=J(function(a,b,c){return Vd(a,_c(b,c))}),Xd=Ad(l),Yd=function(a,b){return td(b,a,0)>=0},Zd=function(){var a={"@@transducer/init":Array,"@@transducer/step":function(a,b){return g(a,[b])},"@@transducer/result":l},b={"@@transducer/init":String,"@@transducer/step":function(a,b){return a+b},"@@transducer/result":l},c={"@@transducer/init":Object,"@@transducer/step":function(a,b){return Qd(a,Ta(b)?pb(b[0],b[1]):b)},"@@transducer/result":l};return function(d){if(u(d))return d;if(Ta(d))return a;if("string"==typeof d)return b;if("object"==typeof d)return c;throw new Error("Cannot create transformer for "+d)}}(),$d=function Ke(a,b){var c=function(c){var d=b.concat([a]);return Yd(c,d)?"<Circular>":Ke(c,d)},d=function(a,b){return v(function(b){return z(b)+": "+c(a[b])},b.slice().sort())};switch(Object.prototype.toString.call(a)){case"[object Arguments]":return"(function() { return arguments; }("+v(c,a).join(", ")+"))";case"[object Array]":return"["+v(c,a).concat(d(a,ld(function(a){return/^\d+$/.test(a)},Va(a)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof a?"new Boolean("+c(a.valueOf())+")":a.toString();case"[object Date]":return"new Date("+(isNaN(a.valueOf())?c(NaN):z(C(a)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof a?"new Number("+c(a.valueOf())+")":1/a===-(1/0)?"-0":a.toString(10);case"[object String]":return"object"==typeof a?"new String("+c(a.valueOf())+")":z(a);case"[object Undefined]":return"undefined";default:if("function"==typeof a.toString){var e=a.toString();if("[object Object]"!==e)return e}return"{"+d(a,Va(a)).join(", ")+"}"}},_d=Bd(Ma),ae=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Sd.apply(this,Lb(arguments))},be=function(){return ae.apply(this,Bb(Ma,_c(Ad,arguments)))},ce=function(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return Td.apply(this,Lb(arguments))},de=H(function(a){return Cd(a.length,a)}),ee=I(Yd),fe=I(function(a,b){for(var c=[],d=0,e=a.length;e>d;)Yd(a[d],b)||Yd(a[d],c)||(c[c.length]=a[d]),d+=1;return c}),ge=H(L("dropRepeats",S(Nc),Ed(Nc))),he=J(function(a,b,c){return u(a)?Dc(b(a),a["@@transducer/init"](),c):Dc(b(Zd(a)),a,c)}),ie=H(function(a){return Nd(a.length,a)}),je=I(function(a,b){var c={};for(var d in b)Yd(d,a)||(c[d]=b[d]);return c}),ke=function(){return be.apply(this,Lb(arguments))},le=H(function(a){return $d(a,[])}),me=I("undefined"==typeof Set?function(a,b){for(var c,d,e=0,f=[],g=[];e<b.length;)d=b[e],c=a(d),Yd(c,f)||(g.push(d),f.push(c)),e+=1;return g}:function(a,b){for(var c,d,e,f=new Set,g=[],h=0,i=[],j=!1,k=!1,l=0;l<b.length;){switch(d=b[l],c=a(d),typeof c){case"number":if(0===c&&!k&&1/c===-(1/0)){k=!0,i.push(d);break}case"string":case"boolean":case"function":case"undefined":f.add(c),e=f.size,e>h&&(i.push(d),h=e);break;case"object":if(null===c){j||(j=!0,i.push(null));break}default:Yd(c,g)||(g.push(c),i.push(d))}l+=1}return i}),ne=I(function(a,b){return ld(Qc(Yd)(a),b)}),oe=ie(mb),pe=I(function(a,b){return qa(a+1,function(){var c=arguments[a];if(null!=c&&Sa(Function,c[b]))return c[b].apply(c,B(arguments,0,a));throw new TypeError(le(c)+' does not have a method named "'+b+'"')})}),qe=pe(1,"join"),re=H(function(a){var b={};return c(a.length,function(){var c=le(arguments);return k(c,b)||(b[c]=a.apply(this,arguments)),b[c]})}),se=pe(1,"split"),te=I(function(a,b){if(!s(a))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+le(a));return e(a).test(b)}),ue=pe(0,"toLowerCase"),ve=pe(0,"toUpperCase"),we=me(Ma),xe=Qc(pe(1,"concat")),ye=I(function(a,b){return we(i(Qc(Yd)(a),b))}),ze=I(function(a,b){return xe(fe(a,b),fe(b,a))}),Ae=J(function(a,b,c){return xe(ta(a,b,c),ta(a,c,b))}),Be=I(ae(we,g)),Ce={F:wc,T:xc,__:b,add:aa,addIndex:Gc,adjust:ba,all:ca,allPass:vd,allUniq:wd,always:da,and:ea,any:fa,anyPass:xd,ap:yd,aperture:ga,append:ha,apply:ia,assoc:ja,assocPath:ka,binary:Hc,bind:la,both:ma,call:zd,chain:Ad,clone:Ic,commute:_d,commuteMap:Bd,comparator:na,complement:oe,compose:ae,composeK:be,composeP:ce,concat:xe,cond:oa,construct:de,constructN:Cd,contains:ee,converge:Dd,countBy:pa,curry:Jc,curryN:qa,dec:ra,defaultTo:sa,difference:fe,differenceWith:ta,dissoc:ua,dissocPath:va,divide:wa,drop:Kc,dropLast:Lc,dropLastWhile:Mc,dropRepeats:ge,dropRepeatsWith:Ed,dropWhile:xa,either:ya,empty:za,eqBy:Fd,eqProps:Gd,equals:Nc,evolve:Aa,filter:Oc,find:Ba,findIndex:Ca,findLast:Da,findLastIndex:Ea,flatten:Pc,flip:Qc,forEach:Fa,fromPairs:Ga,groupBy:Rc,gt:Ha,gte:Ia,has:Ja,hasIn:Ka,head:Sc,identical:La,identity:Ma,ifElse:Na,inc:Oa,indexBy:Tc,indexOf:Hd,init:Uc,insert:Pa,insertAll:Qa,intersection:ye,intersectionWith:Vc,intersperse:Ra,into:he,invert:Wc,invertObj:Xc,invoker:pe,is:Sa,isArrayLike:Ta,isEmpty:Yc,isNil:Ua,join:qe,juxt:Id,keys:Va,keysIn:Wa,last:Zc,lastIndexOf:$c,length:Xa,lens:Jd,lensIndex:Kd,lensPath:Ld,lensProp:Md,lift:ie,liftN:Nd,lt:Ya,lte:Za,map:_c,mapAccum:$a,mapAccumRight:_a,mapObjIndexed:ad,match:ab,mathMod:bb,max:cb,maxBy:db,mean:Od,median:Pd,memoize:re,merge:Qd,mergeAll:Rd,mergeWith:bd,mergeWithKey:eb,min:fb,minBy:gb,modulo:hb,multiply:ib,nAry:jb,negate:kb,none:lb,not:mb,nth:nb,nthArg:ob,objOf:pb,of:qb,omit:je,once:rb,or:sb,over:tb,pair:ub,partial:cd,partialRight:dd,partition:ed,path:vb,pathEq:fd,pathOr:wb,pathSatisfies:xb,pick:yb,pickAll:zb,pickBy:Ab,pipe:Sd,pipeK:ke,pipeP:Td,pluck:gd,prepend:Bb,product:Ud,project:hd,prop:Cb,propEq:id,propIs:jd,propOr:Db,propSatisfies:Eb,props:Fb,range:Gb,reduce:kd,reduceRight:Hb,reduced:Ib,reject:ld,remove:Jb,repeat:md,replace:Kb,reverse:Lb,scan:Mb,sequence:Vd,set:Nb,slice:Ob,sort:Pb,sortBy:Qb,split:se,splitAt:Rb,splitEvery:Sb,splitWhen:Tb,subtract:Ub,sum:nd,symmetricDifference:ze,symmetricDifferenceWith:Ae,tail:Vb,take:Wb,takeLast:od,takeLastWhile:Xb,takeWhile:Yb,tap:Zb,test:te,times:$b,toLower:ue,toPairs:_b,toPairsIn:ac,toString:le,toUpper:ve,transduce:pd,transpose:bc,traverse:Wd,trim:cc,type:dc,unapply:ec,unary:fc,uncurryN:gc,unfold:hc,union:Be,unionWith:qd,uniq:we,uniqBy:me,uniqWith:ic,unless:jc,unnest:Xd,update:kc,useWith:lc,values:mc,valuesIn:nc,view:oc,when:pc,where:qc,whereEq:rd,without:ne,wrap:rc,xprod:sc,zip:tc,zipObj:uc,zipWith:vc};a.exports=Ce}).call(this)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(7),g=d(f);b["default"]=(0,g["default"])(e.__,", "," and "),a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5);b["default"]=(0,d.curry)(function(a,b,c){return""+a.slice(0,-1).join(b)+c+a[a.length-1]}),a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(9);b["default"]=function(a){var b={},c=function(a){return"$"+a},e=function(a){({}).hasOwnProperty.call(b,a)&&(b[a].dispose(),b[a]=null)};a.prototype.emit=function(a,e){var f=c(a);b[f]=b[f]||new d.Subject,b[f].onNext(e)},a.prototype.listen=function(a,e){var f=c(a);return b[f]=b[f]||new d.Subject,b[f].subscribe(e)},a.prototype.unlisten=function(a){var b=c(a);e(b)},a.prototype.dispose=function(){for(var a in b)e(a);b={}}},a.exports=b["default"]},function(a,b,c){var d;(function(a,e,f){(function(g){function h(a){return a&&a.Object===Object?a:null}function i(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(a[c]);return b}function j(a){return function(){try{return a.apply(this,arguments)}catch(b){return db.e=b,db}}}function k(a){throw a}function l(a,b){if(fb&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(jb)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+jb+"\n");a.stack=m(e)}}function m(a){for(var b=a.split("\n"),c=[],d=0,e=b.length;e>d;d++){var f=b[d];n(f)||o(f)||!f||c.push(f)}return c.join("\n")}function n(a){var b=q(a);if(!b)return!1;var c=b[0],d=b[1];return c===hb&&d>=ib&&Mg>=d}function o(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function p(){if(fb)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=q(c);if(!d)return;return hb=d[0],d[1]}}function q(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function r(a,b,c,d,e,f){var h=Yb(a),i=h.length,j=Yb(b),k=j.length;if(i!==k&&!d)return!1;for(var l,m=i;m--;)if(l=h[m],!(d?l in b:Vb.call(b,l)))return!1;for(var n=d;++m<i;){l=h[m];var o,p=a[l],q=b[l];if(!(o===g?c(p,q,d,e,f):o))return!1;n||(n="constructor"===l)}if(!n){var r=a.constructor,s=b.constructor;if(r!==s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function s(a,b,c){switch(c){case yb:case zb:return+a===+b;case Ab:return a.name===b.name&&a.message===b.message;case Db:return a!==+a?b!==+b:a===+b;case Fb:case Hb:return a===b+""}return!1}function t(a){return!!a&&"object"==typeof a}function u(a){return"number"==typeof a&&a>-1&&a%1===0&&Xb>=a}function v(a){return t(a)&&u(a.length)&&!!Tb[Wb.call(a)]}function w(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function x(a,b,c,d,e,f){var h=-1,i=a.length,j=b.length;if(i!==j&&!(d&&j>i))return!1;for(;++h<i;){var k,l=a[h],m=b[h];if(k!==g){if(k)continue;return!1}if(d){if(!w(b,function(a){return l===a||c(l,a,d,e,f)}))return!1}else if(l!==m&&!c(l,m,d,e,f))return!1}return!0}function y(a,b,c,d,e,f){var g=$b(a),h=$b(b),i=xb,j=xb;g||(i=Wb.call(a),i===wb?i=Eb:i!==Eb&&(g=v(a))),h||(j=Wb.call(b),j===wb&&(j=Eb));var k=i===Eb&&!Zb(a),l=j===Eb&&!Zb(b),m=i===j;if(m&&!g&&!k)return s(a,b,i);if(!d){var n=k&&Vb.call(a,"__wrapped__"),o=l&&Vb.call(b,"__wrapped__");if(n||o)return c(n?a.value():a,o?b.value():b,d,e,f)}if(!m)return!1;e||(e=[]),f||(f=[]);for(var p=e.length;p--;)if(e[p]===a)return f[p]===b;e.push(a),f.push(b);var q=(g?x:r)(a,b,c,d,e,f);return e.pop(),f.pop(),q}function z(a,b,c,d,e){return a===b?!0:null==a||null==b||!ha(a)&&!t(b)?a!==a&&b!==b:y(a,b,z,c,d,e)}function A(a,b){for(var c=new Array(a),d=0;a>d;d++)c[d]=b();return c}function B(a,b){this.id=a,this.value=b}function C(a,b){this.scheduler=a,this.disposable=b,this.isDisposed=!1}function D(a,b){b.isDisposed||(b.isDisposed=!0,b.disposable.dispose())}function E(a){this._s=a,this.isDisposed=!1}function F(a){this._s=a}function G(a){this._s=a,this._l=a.length,this._i=0}function H(a){this._a=a}function I(a){this._a=a,this._l=M(a),this._i=0}function J(a){return"number"==typeof a&&Va.isFinite(a)}function K(a){var b,c=a[qb];if(!c&&"string"==typeof a)return b=new F(a),b[qb]();if(!c&&a.length!==g)return b=new H(a),b[qb]();if(!c)throw new TypeError("Object is not iterable");return a[qb]()}function L(a){var b=+a;return 0===b?b:isNaN(b)?b:0>b?-1:1}function M(a){var b=+a.length;return isNaN(b)?0:0!==b&&J(b)?(b=L(b)*Math.floor(Math.abs(b)),0>=b?0:b>rd?rd:b):b}function N(a,b){return vc(a)||(a=Cc),new td(b,a)}function O(a,b){this.observer=a,this.parent=b}function P(a,b){return a.amb(b)}function Q(){return!1}function R(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];return b}function Q(){return!1}function R(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];return b}function Q(){return!1}function S(){return[]}function Q(){return!1}function S(){return[]}function R(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];return b}function T(a){return function(b){return a.subscribe(b)}}function U(a){return a.toArray()}function V(a){return a.length>0}function W(a){return{"@@iterator":function(){return{next:function(){return{done:!1,value:a}}}}}}function W(a){return{"@@iterator":function(){return{next:function(){return{done:!1,value:a}}}}}}function X(a,b,c){var d=ub(b,c,3);return a.map(function(b,c){var e=d(b,c,a);return bb(e)&&(e=jd(e)),(tb(e)||sb(e))&&(e=sd(e)),e}).concatAll()}function Y(a,b,c){for(var d=0,e=a.length;e>d;d++)if(c(a[d],b))return d;return-1}function Z(a){this.comparer=a,this.set=[]}function $(a,b){return function(c){for(var d=c,e=0;b>e;e++){var f=d[a[e]];if("undefined"==typeof f)return g;d=f}return d}}function _(a){if(0===a.length)throw new kb;return a[0]}function aa(a,b,c,d){var e=ub(b,c,3);return new Dg(function(b){return a.subscribe(new nf(b,a,e,d))},a)}function ba(a){return a?Yc.isObservable(a)?a:bb(a)?Yc.fromPromise(a):ga(a)||fa(a)?wf.call(this,a):cb(a)?ea.call(this,a):tb(a)||sb(a)?ca.call(this,a):ha(a)?da.call(this,a):a:a}function ca(a){return Yc.from(a).concatMap(function(a){return Yc.isObservable(a)||ha(a)?ba.call(null,a):Wa.Observable.just(a)}).toArray()}function da(a){function b(a,b){c[b]=g,e.push(a.map(function(a){c[b]=a}))}for(var c=new a.constructor,d=Object.keys(a),e=[],f=0,h=d.length;h>f;f++){var i=d[f],j=ba.call(this,a[i]);j&&Yc.isObservable(j)?b(j,i):c[i]=a[i]}return Yc.forkJoin.apply(Yc,e).map(function(){return c})}function ea(a){var b=this;return new Dg(function(c){a.call(b,function(){var a=arguments[0],b=arguments[1];if(a)return c.onError(a);if(arguments.length>2){for(var d=[],e=1,f=arguments.length;f>e;e++)d.push(arguments[e]);b=d}c.onNext(b),c.onCompleted()})})}function fa(a){return cb(a.next)&&cb(a["throw"])}function ga(a){var b=a.constructor;return b?"GeneratorFunction"===b.name||"GeneratorFunction"===b.displayName?!0:fa(b.prototype):!1}function ha(a){return Object==a.constructor}function ia(a,b,c,d){var e=new Ig;return d.push(ja(e,b,c)),a.apply(b,d),e.asObservable()}function ja(a,b,c){return function(){for(var d=arguments.length,e=new Array(d),f=0;d>f;f++)e[f]=arguments[f];if(cb(c)){if(e=eb(c).apply(b,e),e===db)return a.onError(e.e);a.onNext(e)}else e.length<=1?a.onNext(e[0]):a.onNext(e);a.onCompleted()}}function ka(a,b,c,d){var e=new Ig;return d.push(la(e,b,c)),a.apply(b,d),e.asObservable()}function la(a,b,c){return function(){var d=arguments[0];if(d)return a.onError(d);for(var e=arguments.length,f=[],g=1;e>g;g++)f[g-1]=arguments[g];if(cb(c)){var f=eb(c).apply(b,f);if(f===db)return a.onError(f.e);a.onNext(f)}else f.length<=1?a.onNext(f[0]):a.onNext(f);a.onCompleted()}}function ma(a){return Va.StaticNodeList?a instanceof Va.StaticNodeList||a instanceof Va.NodeList:"[object NodeList]"===Object.prototype.toString.call(a)}function na(a,b,c){this._e=a,this._n=b,this._fn=c,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function oa(a,b,c){var d=new fc,e=Object.prototype.toString.call(a);if(ma(a)||"[object HTMLCollection]"===e)for(var f=0,g=a.length;g>f;f++)d.add(oa(a.item(f),b,c));else a&&d.add(new na(a,b,c));return d}function pa(a,b,c){return new Dg(function(d){function e(a,b){if(j[b]=a,g[b]=!0,h||(h=g.every(Ya))){if(f)return d.onError(f);var e=eb(c).apply(null,j);if(e===db)return d.onError(e.e);d.onNext(e)}i&&j[1]&&d.onCompleted()}var f,g=[!1,!1],h=!1,i=!1,j=new Array(2);return new pc(a.subscribe(function(a){e(a,0)},function(a){j[1]?d.onError(a):f=a},function(){i=!0,j[1]&&d.onCompleted()}),b.subscribe(function(a){e(a,1)},function(a){d.onError(a)},function(){i=!0,e(!0,1)}))},a)}function U(a){return a.toArray()}function qa(a,b){return a.groupJoin(this,b,pd,function(a,b){return b})}function ra(a){var b=this;return new Dg(function(c){var d=new Hg,e=new fc,f=new rc(e);return c.onNext(cc(d,f)),e.add(b.subscribe(function(a){d.onNext(a)},function(a){d.onError(a),c.onError(a)},function(){d.onCompleted(),c.onCompleted()})),bb(a)&&(a=jd(a)),e.add(a.subscribe(function(a){d.onCompleted(),d=new Hg,c.onNext(cc(d,f))},function(a){d.onError(a),c.onError(a)},function(){d.onCompleted(),c.onCompleted()})),f},b)}function sa(a){var b=this;return new Dg(function(c){function d(){var b;try{b=a()}catch(f){return void c.onError(f)}bb(b)&&(b=jd(b));var i=new nc;e.setDisposable(i),i.setDisposable(b.take(1).subscribe(Xa,function(a){h.onError(a),c.onError(a)},function(){h.onCompleted(),h=new Hg,c.onNext(cc(h,g)),d()}))}var e=new oc,f=new fc(e),g=new rc(f),h=new Hg;return c.onNext(cc(h,g)),f.add(b.subscribe(function(a){h.onNext(a)},function(a){h.onError(a),c.onError(a)},function(){h.onCompleted(),c.onCompleted()})),d(),g},b)}function ta(a,b){return new Nf(a,b)}function R(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];return b}function ua(a){this.patterns=a}function va(a,b){this.expression=a,this.selector=b}function wa(a){return function(b){a.onError(b)}}function xa(a,b){return function(){var c=eb(a.selector).apply(a,arguments);return c===db?b.onError(c.e):void b.onNext(c)}}function ya(a,b,c){var d=a.get(b);if(!d){var e=new Vf(b,c);return a.set(b,e),e}return d}function za(a,b,c){this.joinObserverArray=a,this.onNext=b,this.onCompleted=c,this.joinObservers=new Uf;for(var d=0,e=this.joinObserverArray.length;e>d;d++){var f=this.joinObserverArray[d];this.joinObservers.set(f,f)}}function Aa(a,b){return new Wf(a,b)}function Ba(a,b,c){return new Dg(function(d){var e=a,f=uc(b);return c.scheduleRecursiveFuture(0,e,function(a,b){if(f>0){var g=c.now();e=new Date(e.getTime()+f),e.getTime()<=g&&(e=new Date(g+f))}d.onNext(a),b(a+1,new Date(e))})})}function Ca(a,b,c){return a===b?new Dg(function(a){return c.schedulePeriodic(0,b,function(b){return a.onNext(b),b+1})}):md(function(){return Ba(new Date(c.now()+a),b,c)})}function Da(a,b,c){return new Dg(function(d){var e,f=!1,g=new oc,h=null,i=[],j=!1;return e=a.materialize().timestamp(c).subscribe(function(a){var e,k;"E"===a.value.kind?(i=[],i.push(a),h=a.value.error,k=!j):(i.push({value:a.value,timestamp:a.timestamp+b}),k=!f,f=!0),k&&(null!==h?d.onError(h):(e=new nc,g.setDisposable(e),e.setDisposable(c.scheduleRecursiveFuture(null,b,function(a,b){var e,g,k,l;if(null===h){j=!0;do k=null,i.length>0&&i[0].timestamp-c.now()<=0&&(k=i.shift().value),null!==k&&k.accept(d);while(null!==k);l=!1,g=0,i.length>0?(l=!0,g=Math.max(0,i[0].timestamp-c.now())):f=!1,e=h,j=!1,null!==e?d.onError(e):l&&b(null,g)}}))))}),new pc(e,g)},a)}function Ea(a,b,c){return md(function(){return Da(a,b-c.now(),c)})}function Fa(a,b,c){var d,e;return cb(b)?e=b:(d=b,e=c),new Dg(function(b){function c(){i.setDisposable(a.subscribe(function(a){var c=eb(e)(a);if(c===db)return b.onError(c.e);var d=new nc;g.add(d),d.setDisposable(c.subscribe(function(){b.onNext(a),g.remove(d),f()},function(a){b.onError(a)},function(){b.onNext(a),g.remove(d),f()}))},function(a){b.onError(a)},function(){h=!0,i.dispose(),f()}))}function f(){h&&0===g.length&&b.onCompleted()}var g=new fc,h=!1,i=new oc;return d?i.setDisposable(d.subscribe(c,function(a){b.onError(a)},c)):c(),new pc(i,g)},a)}function Ga(a,b){return new Dg(function(c){var d,e=!1,f=new oc,g=0,h=a.subscribe(function(a){var h=eb(b)(a);if(h===db)return c.onError(h.e);bb(h)&&(h=jd(h)),e=!0,d=a,g++;var i=g,j=new nc;f.setDisposable(j),j.setDisposable(h.subscribe(function(){e&&g===i&&c.onNext(d),e=!1,j.dispose()},function(a){c.onError(a)},function(){e&&g===i&&c.onNext(d),e=!1,j.dispose()}))},function(a){f.dispose(),c.onError(a),e=!1,g++},function(){f.dispose(),e&&c.onNext(d),c.onCompleted(),e=!1,g++});return new pc(h,f)},a)}function U(a){return a.toArray()}function U(a){return a.toArray()}function Ha(a,b,c,d){return cb(b)&&(d=c,c=b,b=yd()),Yc.isObservable(d)||(d=Ed(new fg)),new Dg(function(e){function f(a){function b(){return l=c===k}var c=k,f=new nc;i.setDisposable(f),f.setDisposable(a.subscribe(function(){b()&&h.setDisposable(d.subscribe(e)),f.dispose()},function(a){b()&&e.onError(a)},function(){b()&&h.setDisposable(d.subscribe(e))}))}function g(){var a=!l;return a&&k++,a}var h=new oc,i=new oc,j=new nc;h.setDisposable(j);var k=0,l=!1;return f(b),j.setDisposable(a.subscribe(function(a){if(g()){e.onNext(a);var b=eb(c)(a);if(b===db)return e.onError(b.e);f(bb(b)?jd(b):b)}},function(a){g()&&e.onError(a)},function(){g()&&e.onCompleted()})),new pc(h,i)},a)}function Ia(a,b,c,d){return vc(c)&&(d=c,c=Ed(new fg)),c instanceof Error&&(c=Ed(c)),vc(d)||(d=Hc),Yc.isObservable(c)||(c=Ed(new fg)),new Dg(function(e){function f(){var a=g;k.setDisposable(d.scheduleFuture(null,b,function(){j=g===a,j&&(bb(c)&&(c=jd(c)),i.setDisposable(c.subscribe(e)))}))}var g=0,h=new nc,i=new oc,j=!1,k=new oc;return i.setDisposable(h),f(),h.setDisposable(a.subscribe(function(a){j||(g++,e.onNext(a),f())},function(a){j||(g++,e.onError(a))},function(){j||(g++,e.onCompleted())})),new pc(i,k)},a)}function Ja(a){return{"@@transducer/init":function(){return a},"@@transducer/step":function(a,b){return a.onNext(b)},"@@transducer/result":function(a){return a.onCompleted()}}}function Ka(a){this.predicate=a}function La(a){this.predicate=a}function Ma(a,b){var c=this;this.scheduler=a,this.messages=b,this.subscriptions=[],this.observers=[];for(var d=0,e=this.messages.length;e>d;d++){var f=this.messages[d],g=f.value;!function(b){a.scheduleAbsolute(null,f.time,function(){for(var a=c.observers.slice(0),d=0,e=a.length;e>d;d++)b.accept(a[d]);return jc})}(g)}}var Na={"function":!0,object:!0},Oa=Na[typeof b]&&b&&!b.nodeType?b:null,Pa=Na[typeof a]&&a&&!a.nodeType?a:null,Qa=h(Oa&&Pa&&"object"==typeof e&&e),Ra=h(Na[typeof self]&&self),Sa=h(Na[typeof window]&&window),Ta=Pa&&Pa.exports===Oa?Oa:null,Ua=h(Na[typeof this]&&this),Va=Qa||Sa!==(Ua&&Ua.window)&&Sa||Ra||Ua||Function("return this")(),Wa={internals:{},config:{Promise:Va.Promise},helpers:{}},Xa=Wa.helpers.noop=function(){},Ya=Wa.helpers.identity=function(a){return a},Za=Wa.helpers.defaultNow=Date.now,$a=Wa.helpers.defaultComparer=function(a,b){return _b(a,b)},_a=Wa.helpers.defaultSubComparer=function(a,b){return a>b?1:b>a?-1:0},ab=(Wa.helpers.defaultKeySerializer=function(a){return a.toString()},Wa.helpers.defaultError=function(a){throw a}),bb=Wa.helpers.isPromise=function(a){return!!a&&"function"!=typeof a.subscribe&&"function"==typeof a.then},cb=Wa.helpers.isFunction=function(){var a=function(a){return"function"==typeof a||!1};return a(/x/)&&(a=function(a){return"function"==typeof a&&"[object Function]"==toString.call(a)}),a}(),db={e:{}},eb=Wa.internals.tryCatch=function(a){if(!cb(a))throw new TypeError("fn must be a function");return j(a)};Wa.config.longStackSupport=!1;var fb=!1,gb=eb(function(){throw new Error})();fb=!!gb.e&&!!gb.e.stack;var hb,ib=p(),jb="From previous event:",kb=Wa.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};kb.prototype=Object.create(Error.prototype),kb.prototype.name="EmptyError";var lb=Wa.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};lb.prototype=Object.create(Error.prototype),lb.prototype.name="ObjectDisposedError";var mb=Wa.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};mb.prototype=Object.create(Error.prototype),mb.prototype.name="ArgumentOutOfRangeError";var nb=Wa.NotSupportedError=function(a){this.message=a||"This operation is not supported",Error.call(this)};nb.prototype=Object.create(Error.prototype),nb.prototype.name="NotSupportedError";var ob=Wa.NotImplementedError=function(a){this.message=a||"This operation is not implemented",Error.call(this)};ob.prototype=Object.create(Error.prototype),ob.prototype.name="NotImplementedError";var pb=Wa.helpers.notImplemented=function(){throw new ob},qb=(Wa.helpers.notSupported=function(){throw new nb},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");Va.Set&&"function"==typeof(new Va.Set)["@@iterator"]&&(qb="@@iterator");var rb=Wa.doneEnumerator={done:!0,value:g},sb=Wa.helpers.isIterable=function(a){return a&&a[qb]!==g},tb=Wa.helpers.isArrayLike=function(a){return a&&a.length!==g};Wa.helpers.iterator=qb;var ub=Wa.internals.bindCallback=function(a,b,c){if("undefined"==typeof b)return a;switch(c){case 0:return function(){return a.call(b)};case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}},vb=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],wb=(vb.length,"[object Arguments]"),xb="[object Array]",yb="[object Boolean]",zb="[object Date]",Ab="[object Error]",Bb="[object Function]",Cb="[object Map]",Db="[object Number]",Eb="[object Object]",Fb="[object RegExp]",Gb="[object Set]",Hb="[object String]",Ib="[object WeakMap]",Jb="[object ArrayBuffer]",Kb="[object Float32Array]",Lb="[object Float64Array]",Mb="[object Int8Array]",Nb="[object Int16Array]",Ob="[object Int32Array]",Pb="[object Uint8Array]",Qb="[object Uint8ClampedArray]",Rb="[object Uint16Array]",Sb="[object Uint32Array]",Tb={};Tb[Kb]=Tb[Lb]=Tb[Mb]=Tb[Nb]=Tb[Ob]=Tb[Pb]=Tb[Qb]=Tb[Rb]=Tb[Sb]=!0,Tb[wb]=Tb[xb]=Tb[Jb]=Tb[yb]=Tb[zb]=Tb[Ab]=Tb[Bb]=Tb[Cb]=Tb[Db]=Tb[Eb]=Tb[Fb]=Tb[Gb]=Tb[Hb]=Tb[Ib]=!1;var Ub=Object.prototype,Vb=Ub.hasOwnProperty,Wb=Ub.toString,Xb=Math.pow(2,53)-1,Yb=Object.keys||function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}(),ha=Wa.internals.isObject=function(a){var b=typeof a;return!!a&&("object"===b||"function"===b)},Zb=function(){try{Object({toString:0}+"")}catch(a){return function(){return!1}}return function(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}}(),$b=Array.isArray||function(a){return t(a)&&u(a.length)&&Wb.call(a)===xb},_b=Wa.internals.isEqual=function(a,b){return z(a,b)},ac=({}.hasOwnProperty,Array.prototype.slice,Wa.internals.inherits=function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}),bc=Wa.internals.addProperties=function(a){for(var b=[],c=1,d=arguments.length;d>c;c++)b.push(arguments[c]);for(var e=0,f=b.length;f>e;e++){var g=b[e];for(var h in g)a[h]=g[h]}},cc=Wa.internals.addRef=function(a,b){return new Dg(function(c){return new pc(b.getDisposable(),a.subscribe(c))})};B.prototype.compareTo=function(a){var b=this.value.compareTo(a.value);return 0===b&&(b=this.id-a.id),b};var dc=Wa.internals.PriorityQueue=function(a){this.items=new Array(a),this.length=0},ec=dc.prototype;ec.isHigherPriority=function(a,b){return this.items[a].compareTo(this.items[b])<0},ec.percolate=function(a){if(!(a>=this.length||0>a)){var b=a-1>>1;if(!(0>b||b===a)&&this.isHigherPriority(a,b)){var c=this.items[a];this.items[a]=this.items[b],this.items[b]=c,this.percolate(b)}}},ec.heapify=function(a){if(+a||(a=0),!(a>=this.length||0>a)){var b=2*a+1,c=2*a+2,d=a;if(b<this.length&&this.isHigherPriority(b,d)&&(d=b),c<this.length&&this.isHigherPriority(c,d)&&(d=c),d!==a){var e=this.items[a];this.items[a]=this.items[d],this.items[d]=e,this.heapify(d)}}},ec.peek=function(){return this.items[0].value},ec.removeAt=function(a){this.items[a]=this.items[--this.length],this.items[this.length]=g,this.heapify()},ec.dequeue=function(){var a=this.peek();return this.removeAt(0),a},ec.enqueue=function(a){var b=this.length++;this.items[b]=new B(dc.count++,a),this.percolate(b)},ec.remove=function(a){for(var b=0;b<this.length;b++)if(this.items[b].value===a)return this.removeAt(b),!0;return!1},dc.count=0;var fc=Wa.CompositeDisposable=function(){var a,b,c=[];if(Array.isArray(arguments[0]))c=arguments[0];else for(b=arguments.length,c=new Array(b),a=0;b>a;a++)c[a]=arguments[a];this.disposables=c,this.isDisposed=!1,this.length=c.length},gc=fc.prototype;gc.add=function(a){this.isDisposed?a.dispose():(this.disposables.push(a),this.length++)},gc.remove=function(a){var b=!1;if(!this.isDisposed){var c=this.disposables.indexOf(a);-1!==c&&(b=!0,this.disposables.splice(c,1),this.length--,a.dispose())}return b},gc.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var a=this.disposables.length,b=new Array(a),c=0;a>c;c++)b[c]=this.disposables[c];for(this.disposables=[],this.length=0,c=0;a>c;c++)b[c].dispose()}};var hc=Wa.Disposable=function(a){this.isDisposed=!1,this.action=a||Xa};hc.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var ic=hc.create=function(a){return new hc(a)},jc=hc.empty={
dispose:Xa},kc=hc.isDisposable=function(a){return a&&cb(a.dispose)},lc=hc.checkDisposed=function(a){if(a.isDisposed)throw new lb},mc=hc._fixup=function(a){return kc(a)?a:jc},nc=Wa.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};nc.prototype.getDisposable=function(){return this.current},nc.prototype.setDisposable=function(a){if(this.current)throw new Error("Disposable has already been assigned");var b=this.isDisposed;!b&&(this.current=a),b&&a&&a.dispose()},nc.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var a=this.current;this.current=null,a&&a.dispose()}};var oc=Wa.SerialDisposable=function(){this.isDisposed=!1,this.current=null};oc.prototype.getDisposable=function(){return this.current},oc.prototype.setDisposable=function(a){var b=this.isDisposed;if(!b){var c=this.current;this.current=a}c&&c.dispose(),b&&a&&a.dispose()},oc.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var a=this.current;this.current=null}a&&a.dispose()};var pc=Wa.BinaryDisposable=function(a,b){this._first=a,this._second=b,this.isDisposed=!1};pc.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var a=this._first;this._first=null,a&&a.dispose();var b=this._second;this._second=null,b&&b.dispose()}};var qc=Wa.NAryDisposable=function(a){this._disposables=a,this.isDisposed=!1};qc.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var a=0,b=this._disposables.length;b>a;a++)this._disposables[a].dispose();this._disposables.length=0}};var rc=Wa.RefCountDisposable=function(){function a(a){this.disposable=a,this.disposable.count++,this.isInnerDisposed=!1}function b(a){this.underlyingDisposable=a,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return a.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},b.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},b.prototype.getDisposable=function(){return this.isDisposed?jc:new a(this)},b}();C.prototype.dispose=function(){this.scheduler.schedule(this,D)};var sc=Wa.internals.ScheduledItem=function(a,b,c,d,e){this.scheduler=a,this.state=b,this.action=c,this.dueTime=d,this.comparer=e||_a,this.disposable=new nc};sc.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},sc.prototype.compareTo=function(a){return this.comparer(this.dueTime,a.dueTime)},sc.prototype.isCancelled=function(){return this.disposable.isDisposed},sc.prototype.invokeCore=function(){return mc(this.action(this.scheduler,this.state))};var tc=Wa.Scheduler=function(){function a(){}a.isScheduler=function(b){return b instanceof a};var b=a.prototype;return b.schedule=function(a,b){throw new ob},b.scheduleFuture=function(b,c,d){var e=c;return e instanceof Date&&(e-=this.now()),e=a.normalize(e),0===e?this.schedule(b,d):this._scheduleFuture(b,e,d)},b._scheduleFuture=function(a,b,c){throw new ob},a.now=Za,a.prototype.now=Za,a.normalize=function(a){return 0>a&&(a=0),a},a}(),uc=tc.normalize,vc=tc.isScheduler;!function(a){function b(a,b){function c(b){function d(a,b){return g?f.remove(i):h=!0,e(b,c),jc}var g=!1,h=!1,i=a.schedule(b,d);h||(f.add(i),g=!0)}var d=b[0],e=b[1],f=new fc;return e(d,c),f}function c(a,b){function c(b,d){function g(a,b){return h?f.remove(j):i=!0,e(b,c),jc}var h=!1,i=!1,j=a.scheduleFuture(b,d,g);i||(f.add(j),h=!0)}var d=b[0],e=b[1],f=new fc;return e(d,c),f}a.scheduleRecursive=function(a,c){return this.schedule([a,c],b)},a.scheduleRecursiveFuture=function(a,b,d){return this.scheduleFuture([a,d],b,c)}}(tc.prototype),function(a){a.schedulePeriodic=function(a,b,c){if("undefined"==typeof Va.setInterval)throw new nb;b=uc(b);var d=a,e=Va.setInterval(function(){d=c(d)},b);return ic(function(){Va.clearInterval(e)})}}(tc.prototype),function(a){a.catchError=a["catch"]=function(a){return new Ic(this,a)}}(tc.prototype);var wc,xc,yc=Wa.internals.SchedulePeriodicRecursive=function(){function a(a){return function(b,c){c(0,a._period);var d=eb(a._action)(a._state);d===db&&(a._cancel.dispose(),k(d.e)),a._state=d}}function b(a,b,c,d){this._scheduler=a,this._state=b,this._period=c,this._action=d}return b.prototype.start=function(){var b=new nc;return this._cancel=b,b.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,a(this))),b},b}(),zc=function(a){function b(){a.call(this)}return ac(b,a),b.prototype.schedule=function(a,b){return mc(b(this,a))},b}(tc),Ac=tc.immediate=new zc,Bc=function(a){function b(){for(;d.length>0;){var a=d.dequeue();!a.isCancelled()&&a.invoke()}}function c(){a.call(this)}var d;return ac(c,a),c.prototype.schedule=function(a,c){var e=new sc(this,a,c,this.now());if(d)d.enqueue(e);else{d=new dc(4),d.enqueue(e);var f=eb(b)();d=null,f===db&&k(f.e)}return e.disposable},c.prototype.scheduleRequired=function(){return!d},c}(tc),Cc=tc.currentThread=new Bc,Dc=function(){var a,b=Xa;if(Va.setTimeout)a=Va.setTimeout,b=Va.clearTimeout;else{if(!Va.WScript)throw new nb;a=function(a,b){Va.WScript.Sleep(b),a()}}return{setTimeout:a,clearTimeout:b}}(),Ec=Dc.setTimeout,Fc=Dc.clearTimeout;!function(){function a(b){if(e)Ec(function(){a(b)},0);else{var c=d[b];if(c){e=!0;var f=eb(c)();xc(b),e=!1,f===db&&k(f.e)}}}function b(){if(!Va.postMessage||Va.importScripts)return!1;var a=!1,b=Va.onmessage;return Va.onmessage=function(){a=!0},Va.postMessage("","*"),Va.onmessage=b,a}var c=1,d={},e=!1;xc=function(a){delete d[a]};var g=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),h="function"==typeof(h=Qa&&Ta&&Qa.setImmediate)&&!g.test(h)&&h;if(cb(h))wc=function(b){var e=c++;return d[e]=b,h(function(){a(e)}),e};else if("undefined"!=typeof f&&"[object process]"==={}.toString.call(f))wc=function(b){var e=c++;return d[e]=b,f.nextTick(function(){a(e)}),e};else if(b()){var i="ms.rx.schedule"+Math.random(),j=function(b){"string"==typeof b.data&&b.data.substring(0,i.length)===i&&a(b.data.substring(i.length))};Va.addEventListener("message",j,!1),wc=function(a){var b=c++;return d[b]=a,Va.postMessage(i+b,"*"),b}}else if(Va.MessageChannel){var l=new Va.MessageChannel;l.port1.onmessage=function(b){a(b.data)},wc=function(a){var b=c++;return d[b]=a,l.port2.postMessage(b),b}}else wc="document"in Va&&"onreadystatechange"in Va.document.createElement("script")?function(b){var e=Va.document.createElement("script"),f=c++;return d[f]=b,e.onreadystatechange=function(){a(f),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},Va.document.documentElement.appendChild(e),f}:function(b){var e=c++;return d[e]=b,Ec(function(){a(e)},0),e}}();var Gc=function(a){function b(){a.call(this)}function c(a,b,c,d){return function(){a.setDisposable(hc._fixup(b(c,d)))}}function d(a){this._id=a,this.isDisposed=!1}function e(a){this._id=a,this.isDisposed=!1}function f(a,b,c){return function(){b(a,c)}}return ac(b,a),d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,xc(this._id))},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Fc(this._id))},b.prototype.schedule=function(a,b){var e=new nc,f=wc(c(e,b,this,a));return new pc(e,new d(f))},b.prototype._scheduleFuture=function(a,b,d){if(0===b)return this.schedule(a,d);var f=new nc,g=Ec(c(f,d,this,a),b);return new pc(f,new e(g))},b.prototype.scheduleLongRunning=function(a,b){var c=ic(Xa);return wc(f(a,b,c)),c},b}(tc),Hc=tc["default"]=tc.async=new Gc,Ic=function(a){function b(b,c){this._scheduler=b,this._handler=c,this._recursiveOriginal=null,this._recursiveWrapper=null,a.call(this)}return ac(b,a),b.prototype.schedule=function(a,b){return this._scheduler.schedule(a,this._wrap(b))},b.prototype._scheduleFuture=function(a,b,c){return this._scheduler.schedule(a,b,this._wrap(c))},b.prototype.now=function(){return this._scheduler.now()},b.prototype._clone=function(a){return new b(a,this._handler)},b.prototype._wrap=function(a){var b=this;return function(c,d){var e=eb(a)(b._getRecursiveWrapper(c),d);return e===db?(b._handler(e.e)||k(e.e),jc):mc(e)}},b.prototype._getRecursiveWrapper=function(a){if(this._recursiveOriginal!==a){this._recursiveOriginal=a;var b=this._clone(a);b._recursiveOriginal=a,b._recursiveWrapper=b,this._recursiveWrapper=b}return this._recursiveWrapper},b.prototype.schedulePeriodic=function(a,b,c){var d=this,e=!1,f=new nc;return f.setDisposable(this._scheduler.schedulePeriodic(a,b,function(a){if(e)return null;var b=eb(c)(a);return b===db?(e=!0,d._handler(b.e)||k(b.e),f.dispose(),null):b})),f},b}(tc),Jc=Wa.Notification=function(){function a(){}return a.prototype._accept=function(a,b,c){throw new ob},a.prototype._acceptObserver=function(a,b,c){throw new ob},a.prototype.accept=function(a,b,c){return a&&"object"==typeof a?this._acceptObserver(a):this._accept(a,b,c)},a.prototype.toObservable=function(a){var b=this;return vc(a)||(a=Ac),new Dg(function(c){return a.schedule(b,function(a,b){b._acceptObserver(c),"N"===b.kind&&c.onCompleted()})})},a}(),Kc=function(a){function b(a){this.value=a,this.kind="N"}return ac(b,a),b.prototype._accept=function(a){return a(this.value)},b.prototype._acceptObserver=function(a){return a.onNext(this.value)},b.prototype.toString=function(){return"OnNext("+this.value+")"},b}(Jc),Lc=function(a){function b(a){this.error=a,this.kind="E"}return ac(b,a),b.prototype._accept=function(a,b){return b(this.error)},b.prototype._acceptObserver=function(a){return a.onError(this.error)},b.prototype.toString=function(){return"OnError("+this.error+")"},b}(Jc),Mc=function(a){function b(){this.kind="C"}return ac(b,a),b.prototype._accept=function(a,b,c){return c()},b.prototype._acceptObserver=function(a){return a.onCompleted()},b.prototype.toString=function(){return"OnCompleted()"},b}(Jc),Nc=Jc.createOnNext=function(a){return new Kc(a)},Oc=Jc.createOnError=function(a){return new Lc(a)},Pc=Jc.createOnCompleted=function(){return new Mc},Qc=Wa.Observer=function(){};Qc.prototype.toNotifier=function(){var a=this;return function(b){return b.accept(a)}},Qc.prototype.asObserver=function(){var a=this;return new Uc(function(b){a.onNext(b)},function(b){a.onError(b)},function(){a.onCompleted()})},Qc.prototype.checked=function(){return new Vc(this)};var Rc=Qc.create=function(a,b,c){return a||(a=Xa),b||(b=ab),c||(c=Xa),new Uc(a,b,c)};Qc.fromNotifier=function(a,b){var c=ub(a,b,1);return new Uc(function(a){return c(Nc(a))},function(a){return c(Oc(a))},function(){return c(Pc())})},Qc.prototype.notifyOn=function(a){return new Xc(a,this)},Qc.prototype.makeSafe=function(a){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,a)};var Sc,Tc=Wa.internals.AbstractObserver=function(a){function b(){this.isStopped=!1}return ac(b,a),b.prototype.next=pb,b.prototype.error=pb,b.prototype.completed=pb,b.prototype.onNext=function(a){!this.isStopped&&this.next(a)},b.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.error(a))},b.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},b.prototype.dispose=function(){this.isStopped=!0},b.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.error(a),!0)},b}(Qc),Uc=Wa.AnonymousObserver=function(a){function b(b,c,d){a.call(this),this._onNext=b,this._onError=c,this._onCompleted=d}return ac(b,a),b.prototype.next=function(a){this._onNext(a)},b.prototype.error=function(a){this._onError(a)},b.prototype.completed=function(){this._onCompleted()},b}(Tc),Vc=function(a){function b(b){a.call(this),this._observer=b,this._state=0}ac(b,a);var c=b.prototype;return c.onNext=function(a){this.checkAccess();var b=eb(this._observer.onNext).call(this._observer,a);this._state=0,b===db&&k(b.e)},c.onError=function(a){this.checkAccess();var b=eb(this._observer.onError).call(this._observer,a);this._state=2,b===db&&k(b.e)},c.onCompleted=function(){this.checkAccess();var a=eb(this._observer.onCompleted).call(this._observer);this._state=2,a===db&&k(a.e)},c.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},b}(Qc),Wc=Wa.internals.ScheduledObserver=function(a){function b(b,c){a.call(this),this.scheduler=b,this.observer=c,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new oc}function c(a,b){return function(){a.onNext(b)}}function d(a,b){return function(){a.onError(b)}}function e(a){return function(){a.onCompleted()}}function f(a,b){var c;if(!(a.queue.length>0))return void(a.isAcquired=!1);c=a.queue.shift();var d=eb(c)();return d===db?(a.queue=[],a.hasFaulted=!0,k(d.e)):void b(a)}return ac(b,a),b.prototype.next=function(a){this.queue.push(c(this.observer,a))},b.prototype.error=function(a){this.queue.push(d(this.observer,a))},b.prototype.completed=function(){this.queue.push(e(this.observer))},b.prototype.ensureActive=function(){var a=!1;!this.hasFaulted&&this.queue.length>0&&(a=!this.isAcquired,this.isAcquired=!0),a&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,f))},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.disposable.dispose()},b}(Tc),Xc=function(a){function b(b,c,d){a.call(this,b,c),this._cancel=d}return ac(b,a),b.prototype.next=function(b){a.prototype.next.call(this,b),this.ensureActive()},b.prototype.error=function(b){a.prototype.error.call(this,b),this.ensureActive()},b.prototype.completed=function(){a.prototype.completed.call(this),this.ensureActive()},b.prototype.dispose=function(){a.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},b}(Wc),Yc=Wa.Observable=function(){function a(a,b){return function(c){var d=c.onError;return c.onError=function(b){l(b,a),d.call(c,b)},b.call(a,c)}}function b(){if(Wa.config.longStackSupport&&fb){var b=this._subscribe,c=eb(k)(new Error).e;this.stack=c.stack.substring(c.stack.indexOf("\n")+1),this._subscribe=a(this,b)}}return Sc=b.prototype,b.isObservable=function(a){return a&&cb(a.subscribe)},Sc.subscribe=Sc.forEach=function(a,b,c){return this._subscribe("object"==typeof a?a:Rc(a,b,c))},Sc.subscribeOnNext=function(a,b){return this._subscribe(Rc("undefined"!=typeof b?function(c){a.call(b,c)}:a))},Sc.subscribeOnError=function(a,b){return this._subscribe(Rc(null,"undefined"!=typeof b?function(c){a.call(b,c)}:a))},Sc.subscribeOnCompleted=function(a,b){return this._subscribe(Rc(null,null,"undefined"!=typeof b?function(){a.call(b)}:a))},b}(),Zc=Wa.ObservableBase=function(a){function b(a){return a&&cb(a.dispose)?a:cb(a)?ic(a):jc}function c(a,c){var d=c[0],e=c[1],f=eb(e.subscribeCore).call(e,d);f!==db||d.fail(db.e)||k(db.e),d.setDisposable(b(f))}function d(){a.call(this)}return ac(d,a),d.prototype._subscribe=function(a){var b=new Eg(a),d=[b,this];return Cc.scheduleRequired()?Cc.schedule(d,c):c(null,d),b},d.prototype.subscribeCore=pb,d}(Yc),$c=Wa.FlatMapObservable=function(a){function b(b,c,d,e){this.resultSelector=cb(d)?d:null,this.selector=ub(cb(c)?c:function(){return c},e,3),this.source=b,a.call(this)}function c(a,b,c,d){this.i=0,this.selector=b,this.resultSelector=c,this.source=d,this.o=a,Tc.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a,this.selector,this.resultSelector,this))},ac(c,Tc),c.prototype._wrapResult=function(a,b,c){return this.resultSelector?a.map(function(a,d){return this.resultSelector(b,a,c,d)},this):a},c.prototype.next=function(a){var b=this.i++,c=eb(this.selector)(a,b,this.source);return c===db?this.o.onError(c.e):(bb(c)&&(c=jd(c)),(tb(c)||sb(c))&&(c=Yc.from(c)),void this.o.onNext(this._wrapResult(c,a,b)))},c.prototype.error=function(a){this.o.onError(a)},c.prototype.completed=function(){this.o.onCompleted()},b}(Zc),_c=Wa.internals.Enumerable=function(){};E.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var ad=function(a){function b(b){this.sources=b,a.call(this)}function c(a,b){if(!a.isDisposed){var c=eb(a.e.next).call(a.e);if(c===db)return a.o.onError(c.e);if(c.done)return a.o.onCompleted();var e=c.value;bb(e)&&(e=jd(e));var f=new nc;a.subscription.setDisposable(f),f.setDisposable(e.subscribe(new d(a,b)))}}function d(a,b){this._state=a,this._recurse=b,Tc.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new oc,d={isDisposed:!1,o:a,subscription:b,e:this.sources[qb]()},e=Cc.scheduleRecursive(d,c);return new qc([b,e,new E(d)])},ac(d,Tc),d.prototype.next=function(a){this._state.o.onNext(a)},d.prototype.error=function(a){this._state.o.onError(a)},d.prototype.completed=function(){this._recurse(this._state)},b}(Zc);_c.prototype.concat=function(){return new ad(this)};var bd=function(a){function b(b){this.sources=b,a.call(this)}function c(a,b){if(!a.isDisposed){var c=eb(a.e.next).call(a.e);if(c===db)return a.o.onError(c.e);if(c.done)return null!==a.lastError?a.o.onError(a.lastError):a.o.onCompleted();var e=c.value;bb(e)&&(e=jd(e));var f=new nc;a.subscription.setDisposable(f),f.setDisposable(e.subscribe(new d(a,b)))}}function d(a,b){this._state=a,this._recurse=b,Tc.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new oc,d={isDisposed:!1,e:this.sources[qb](),subscription:b,lastError:null,o:a},e=Cc.scheduleRecursive(d,c);return new qc([b,e,new E(d)])},ac(d,Tc),d.prototype.next=function(a){this._state.o.onNext(a)},d.prototype.error=function(a){this._state.lastError=a,this._recurse(this._state)},d.prototype.completed=function(){this._state.o.onCompleted()},b}(Zc);_c.prototype.catchError=function(){return new bd(this)};var cd=function(a){function b(a,b){this.v=a,this.c=null==b?-1:b}function c(a){this.v=a.v,this.l=a.c}return ac(b,a),b.prototype[qb]=function(){return new c(this)},c.prototype.next=function(){return 0===this.l?rb:(this.l>0&&this.l--,{done:!1,value:this.v})},b}(_c),dd=_c.repeat=function(a,b){return new cd(a,b)},ed=function(a){function b(a,b,c){this.s=a,this.fn=b?ub(b,c,3):null}function c(a){this.i=-1,this.s=a.s,this.l=this.s.length,this.fn=a.fn}return ac(b,a),b.prototype[qb]=function(){return new c(this)},c.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:rb},b}(_c),fd=_c.of=function(a,b,c){return new ed(a,b,c)},gd=function(a){function b(b,c){this.source=b,this._s=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new Xc(this._s,a))},b}(Zc);Sc.observeOn=function(a){return new gd(this,a)};var hd=function(a){function b(b,c){this.source=b,this._s=c,a.call(this)}function c(a,b){var c=b[0],d=b[1],e=b[2];d.setDisposable(new C(a,c.subscribe(e)))}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new nc,d=new oc;return d.setDisposable(b),b.setDisposable(this._s.schedule([this.source,d,a],c)),d},b}(Zc);Sc.subscribeOn=function(a){return new hd(this,a)};var id=function(a){function b(b,c){this._p=b,this._s=c,a.call(this)}function c(a,b){var c=b[0],d=b[1];c.onNext(d),c.onCompleted()}function d(a,b){var c=b[0],d=b[1];c.onError(d)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new nc,e=this,f=this._p;return cb(f)&&(f=eb(f)(),f===db)?(a.onError(f.e),b):(f.then(function(d){b.setDisposable(e._s.schedule([a,d],c))},function(c){b.setDisposable(e._s.schedule([a,c],d))}),b)},b}(Zc),jd=Yc.fromPromise=function(a,b){return b||(b=Hc),new id(a,b)};Sc.toPromise=function(a){if(a||(a=Wa.config.Promise),!a)throw new nb("Promise type not provided nor in Rx.config.Promise");var b=this;return new a(function(a,c){var d;b.subscribe(function(a){d=a},c,function(){a(d)})})};var kd=function(a){function b(b){this.source=b,a.call(this)}function c(a){this.o=a,this.a=[],Tc.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a))},ac(c,Tc),c.prototype.next=function(a){this.a.push(a)},c.prototype.error=function(a){this.o.onError(a)},c.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},b}(Zc);Sc.toArray=function(){return new kd(this)},Yc.create=function(a,b){return new Dg(a,b)};var ld=function(a){function b(b){this._f=b,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=eb(this._f)();return b===db?Ed(b.e).subscribe(a):(bb(b)&&(b=jd(b)),b.subscribe(a))},b}(Zc),md=Yc.defer=function(a){return new ld(a)},nd=function(a){function b(b){this.scheduler=b,a.call(this)}function c(a,b){this.observer=a,this.scheduler=b}function d(a,b){return b.onCompleted(),jc}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new c(a,this.scheduler);return b.run()},c.prototype.run=function(){var a=this.observer;return this.scheduler===Ac?d(null,a):this.scheduler.schedule(a,d)},b}(Zc),od=new nd(Ac),pd=Yc.empty=function(a){return vc(a)||(a=Ac),a===Ac?od:new nd(a)},qd=function(a){function b(b,c,d){this._iterable=b,this._fn=c,this._scheduler=d,a.call(this)}function c(a,b,c){return function(d,e){var f=eb(b.next).call(b);if(f===db)return a.onError(f.e);if(f.done)return a.onCompleted();var g=f.value;return cb(c)&&(g=eb(c)(g,d),g===db)?a.onError(g.e):(a.onNext(g),void e(d+1))}}return ac(b,a),b.prototype.subscribeCore=function(a){var b=Object(this._iterable),d=K(b);return this._scheduler.scheduleRecursive(0,c(a,d,this._fn))},b}(Zc),rd=Math.pow(2,53)-1;F.prototype[qb]=function(){return new G(this._s)},G.prototype[qb]=function(){return this},G.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:rb},H.prototype[qb]=function(){return new I(this._a)},I.prototype[qb]=function(){return this},I.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:rb};var sd=Yc.from=function(a,b,c,d){if(null==a)throw new Error("iterable cannot be null.");if(b&&!cb(b))throw new Error("mapFn when provided must be a function");if(b)var e=ub(b,c,2);return vc(d)||(d=Cc),new qd(a,e,d)},td=function(a){function b(b,c){this._args=b,this._scheduler=c,a.call(this)}function c(a,b){var c=b.length;return function(d,e){c>d?(a.onNext(b[d]),e(d+1)):a.onCompleted()}}return ac(b,a),b.prototype.subscribeCore=function(a){return this._scheduler.scheduleRecursive(0,c(a,this._args))},b}(Zc),ud=Yc.fromArray=function(a,b){return vc(b)||(b=Cc),new td(a,b)},vd=function(a){function b(b,c,d,e,f){this._initialState=b,this._cndFn=c,this._itrFn=d,this._resFn=e,this._s=f,a.call(this)}function c(a,b){if(a.first)a.first=!1;else if(a.newState=eb(a.self._itrFn)(a.newState),a.newState===db)return a.o.onError(a.newState.e);var c=eb(a.self._cndFn)(a.newState);if(c===db)return a.o.onError(c.e);if(c){var d=eb(a.self._resFn)(a.newState);if(d===db)return a.o.onError(d.e);a.o.onNext(d),b(a)}else a.o.onCompleted()}return ac(b,a),b.prototype.subscribeCore=function(a){var b={o:a,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(b,c)},b}(Zc);Yc.generate=function(a,b,c,d,e){return vc(e)||(e=Cc),new vd(a,b,c,d,e)},Yc.of=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];return new td(b,Cc)},Yc.ofWithScheduler=function(a){for(var b=arguments.length,c=new Array(b-1),d=1;b>d;d++)c[d-1]=arguments[d];return new td(c,a)},Yc.ofArrayChanges=function(a){if(!Array.isArray(a))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Dg(function(b){function c(a){for(var c=0,d=a.length;d>c;c++)b.onNext(a[c])}return Array.observe(a,c),function(){Array.unobserve(a,c)}})},Yc.ofObjectChanges=function(a){if(null==a)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Dg(function(b){function c(a){for(var c=0,d=a.length;d>c;c++)b.onNext(a[c])}return Object.observe(a,c),function(){Object.unobserve(a,c)}})};var wd=function(a){function b(){a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return jc},b}(Zc),xd=new wd,yd=Yc.never=function(){return xd},zd=function(a){function b(b,c){this._o=b,this._keys=Object.keys(b),this._scheduler=c,a.call(this)}function c(a,b,c){return function(d,e){if(d<c.length){var f=c[d];a.onNext([f,b[f]]),e(d+1)}else a.onCompleted()}}return ac(b,a),b.prototype.subscribeCore=function(a){return this._scheduler.scheduleRecursive(0,c(a,this._o,this._keys))},b}(Zc);Yc.pairs=function(a,b){return b||(b=Cc),new zd(a,b)};var Ad=function(a){function b(b,c,d){this.start=b,this.rangeCount=c,this.scheduler=d,a.call(this)}function c(a,b,c){return function(d,e){b>d?(c.onNext(a+d),e(d+1)):c.onCompleted()}}return ac(b,a),b.prototype.subscribeCore=function(a){return this.scheduler.scheduleRecursive(0,c(this.start,this.rangeCount,a))},b}(Zc);Yc.range=function(a,b,c){return vc(c)||(c=Cc),new Ad(a,b,c)};var Bd=function(a){function b(b,c,d){this.value=b,this.repeatCount=null==c?-1:c,this.scheduler=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new O(a,this);return b.run()},b}(Zc);O.prototype.run=function(){function a(a,d){return(-1===a||a>0)&&(b.onNext(c),a>0&&a--),0===a?b.onCompleted():void d(a)}var b=this.observer,c=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,a)},Yc.repeat=function(a,b,c){return vc(c)||(c=Cc),new Bd(a,b,c)};var Cd=function(a){function b(b,c){this._value=b,this._scheduler=c,a.call(this)}function c(a,b){var c=b[0],d=b[1];return d.onNext(c),d.onCompleted(),jc}return ac(b,a),b.prototype.subscribeCore=function(a){var b=[this._value,a];return this._scheduler===Ac?c(null,b):this._scheduler.schedule(b,c)},b}(Zc),Dd=(Yc["return"]=Yc.just=function(a,b){return vc(b)||(b=Ac),new Cd(a,b)},function(a){function b(b,c){this._error=b,this._scheduler=c,a.call(this)}function c(a,b){var c=b[0],d=b[1];return d.onError(c),jc}return ac(b,a),b.prototype.subscribeCore=function(a){var b=[this._error,a];return this._scheduler===Ac?c(null,b):this._scheduler.schedule(b,c)},b}(Zc)),Ed=Yc["throw"]=function(a,b){return vc(b)||(b=Ac),new Dd(a,b)},Fd=function(a){function b(b,c){this._resFn=b,this._obsFn=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=jc,c=eb(this._resFn)();if(c===db)return new pc(Ed(c.e).subscribe(a),b);c&&(b=c);var d=eb(this._obsFn)(c);return d===db?new pc(Ed(d.e).subscribe(a),b):new pc(d.subscribe(a),b)},b}(Zc);Yc.using=function(a,b){return new Fd(a,b)},Sc.amb=function(a){var b=this;return new Dg(function(c){function d(){f||(f=g,j.dispose())}function e(){f||(f=h,i.dispose())}var f,g="L",h="R",i=new nc,j=new nc;bb(a)&&(a=jd(a));var k=Rc(function(a){d(),f===g&&c.onNext(a)},function(a){d(),f===g&&c.onError(a)},function(){d(),f===g&&c.onCompleted()}),l=Rc(function(a){e(),f===h&&c.onNext(a)},function(a){e(),f===h&&c.onError(a)},function(){e(),f===h&&c.onCompleted()});return i.setDisposable(b.subscribe(k)),j.setDisposable(a.subscribe(l)),new pc(i,j)})},Yc.amb=function(){var a,b=yd();if(Array.isArray(arguments[0]))a=arguments[0];else{var c=arguments.length;a=new Array(a);for(var d=0;c>d;d++)a[d]=arguments[d]}for(var d=0,c=a.length;c>d;d++)b=P(b,a[d]);return b};var Gd=function(a){function b(b,c){this.source=b,this._fn=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new nc,c=new oc;return c.setDisposable(b),b.setDisposable(this.source.subscribe(new Hd(a,c,this._fn))),c},b}(Zc),Hd=function(a){function b(b,c,d){this._o=b,this._s=c,this._fn=d,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._o.onNext(a)},b.prototype.completed=function(){return this._o.onCompleted()},b.prototype.error=function(a){var b=eb(this._fn)(a);if(b===db)return this._o.onError(b.e);bb(b)&&(b=jd(b));var c=new nc;this._s.setDisposable(c),c.setDisposable(b.subscribe(this._o))},b}(Tc);Sc["catch"]=function(a){return cb(a)?new Gd(this,a):Id([this,a])};var Id=Yc["catch"]=function(){var a;if(Array.isArray(arguments[0]))a=arguments[0];else{var b=arguments.length;a=new Array(b);for(var c=0;b>c;c++)a[c]=arguments[c]}return fd(a).catchError()};Sc.combineLatest=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];return Array.isArray(b[0])?b[0].unshift(this):b.unshift(this),Ld.apply(this,b)};var Jd=function(a){function b(b,c){this._params=b,this._cb=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){for(var b=this._params.length,c=new Array(b),d={hasValue:A(b,Q),hasValueAll:!1,isDone:A(b,Q),values:new Array(b)},e=0;b>e;e++){var f=this._params[e],g=new nc;c[e]=g,bb(f)&&(f=jd(f)),g.setDisposable(f.subscribe(new Kd(a,e,this._cb,d)))}return new qc(c)},b}(Zc),Kd=function(a){function b(b,c,d,e){this._o=b,this._i=c,this._cb=d,this._state=e,a.call(this)}function c(a){return function(b,c){return c!==a}}return ac(b,a),b.prototype.next=function(a){if(this._state.values[this._i]=a,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(Ya))){var b=eb(this._cb).apply(null,this._state.values);if(b===db)return this._o.onError(b.e);this._o.onNext(b)}else this._state.isDone.filter(c(this._i)).every(Ya)&&this._o.onCompleted()},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(Ya)&&this._o.onCompleted()},b}(Tc),Ld=Yc.combineLatest=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=cb(b[a-1])?b.pop():R;return Array.isArray(b[0])&&(b=b[0]),new Jd(b,d)};Sc.concat=function(){for(var a=[],b=0,c=arguments.length;c>b;b++)a.push(arguments[b]);return a.unshift(this),Od.apply(null,a)};var Md=function(a){function b(b,c){this._s=b,this._fn=c,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._s.o.onNext(a)},b.prototype.error=function(a){this._s.o.onError(a)},b.prototype.completed=function(){this._s.i++,this._fn(this._s)},b}(Tc),Nd=function(a){function b(b){this._sources=b,a.call(this)}function c(a,b){if(!a.disposable.isDisposed){if(a.i===a.sources.length)return a.o.onCompleted();var c=a.sources[a.i];bb(c)&&(c=jd(c));var d=new nc;a.subscription.setDisposable(d),d.setDisposable(c.subscribe(new Md(a,b)))}}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new oc,d=ic(Xa),e={o:a,i:0,subscription:b,disposable:d,sources:this._sources},f=Ac.scheduleRecursive(e,c);return new qc([b,d,f])},b}(Zc),Od=Yc.concat=function(){var a;if(Array.isArray(arguments[0]))a=arguments[0];else{a=new Array(arguments.length);for(var b=0,c=arguments.length;c>b;b++)a[b]=arguments[b]}return new Nd(a)};Sc.concatAll=function(){return this.merge(1)};var Pd=function(a){function b(b,c){this.source=b,this.maxConcurrent=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new fc;return b.add(this.source.subscribe(new Qd(a,this.maxConcurrent,b))),b},b}(Zc),Qd=function(a){function b(b,c,d){this.o=b,this.max=c,this.g=d,this.done=!1,this.q=[],this.activeCount=0,a.call(this)}function c(b,c){this.parent=b,this.sad=c,a.call(this)}return ac(b,a),b.prototype.handleSubscribe=function(a){var b=new nc;this.g.add(b),bb(a)&&(a=jd(a)),b.setDisposable(a.subscribe(new c(this,b)))},b.prototype.next=function(a){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(a)):this.q.push(a)},b.prototype.error=function(a){this.o.onError(a)},b.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},ac(c,a),c.prototype.next=function(a){this.parent.o.onNext(a)},c.prototype.error=function(a){this.parent.o.onError(a)},c.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},b}(Tc);Sc.merge=function(a){return"number"!=typeof a?Rd(this,a):new Pd(this,a)};var Rd=Yc.merge=function(){var a,b,c=[],d=arguments.length;if(arguments[0])if(vc(arguments[0]))for(a=arguments[0],
b=1;d>b;b++)c.push(arguments[b]);else for(a=Ac,b=0;d>b;b++)c.push(arguments[b]);else for(a=Ac,b=1;d>b;b++)c.push(arguments[b]);return Array.isArray(c[0])&&(c=c[0]),N(a,c).mergeAll()},Sd=function(a){function b(b){this.source=b,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new fc,c=new nc;return b.add(c),c.setDisposable(this.source.subscribe(new Td(a,b))),b},b}(Zc),Td=function(a){function b(b,c){this.o=b,this.g=c,this.done=!1,a.call(this)}function c(b,c){this.parent=b,this.sad=c,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=new nc;this.g.add(b),bb(a)&&(a=jd(a)),b.setDisposable(a.subscribe(new c(this,b)))},b.prototype.error=function(a){this.o.onError(a)},b.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},ac(c,a),c.prototype.next=function(a){this.parent.o.onNext(a)},c.prototype.error=function(a){this.parent.o.onError(a)},c.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},b}(Tc);Sc.mergeAll=function(){return new Sd(this)};var Ud=Wa.CompositeError=function(a){this.innerErrors=a,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Ud.prototype=Object.create(Error.prototype),Ud.prototype.name="CompositeError";var Vd=function(a){function b(b){this.source=b,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new fc,c=new nc,d={isStopped:!1,errors:[],o:a};return b.add(c),c.setDisposable(this.source.subscribe(new Wd(b,d))),b},b}(Zc),Wd=function(a){function b(b,c){this._group=b,this._state=c,a.call(this)}function c(a,b){0===b.length?a.onCompleted():1===b.length?a.onError(b[0]):a.onError(new Ud(b))}function d(b,c,d){this._inner=b,this._group=c,this._state=d,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=new nc;this._group.add(b),bb(a)&&(a=jd(a)),b.setDisposable(a.subscribe(new d(b,this._group,this._state)))},b.prototype.error=function(a){this._state.errors.push(a),this._state.isStopped=!0,1===this._group.length&&c(this._state.o,this._state.errors)},b.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&c(this._state.o,this._state.errors)},ac(d,a),d.prototype.next=function(a){this._state.o.onNext(a)},d.prototype.error=function(a){this._state.errors.push(a),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&c(this._state.o,this._state.errors)},d.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&c(this._state.o,this._state.errors)},b}(Tc);Yc.mergeDelayError=function(){var a;if(Array.isArray(arguments[0]))a=arguments[0];else{var b=arguments.length;a=new Array(b);for(var c=0;b>c;c++)a[c]=arguments[c]}var d=N(null,a);return new Vd(d)},Sc.onErrorResumeNext=function(a){if(!a)throw new Error("Second observable is required");return Zd([this,a])};var Xd=function(a){function b(b){this.sources=b,a.call(this)}function c(a,b){if(a.pos<a.sources.length){var c=a.sources[a.pos++];bb(c)&&(c=jd(c));var d=new nc;a.subscription.setDisposable(d),d.setDisposable(c.subscribe(new Yd(a,b)))}else a.o.onCompleted()}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new oc,d={pos:0,subscription:b,o:a,sources:this.sources},e=Ac.scheduleRecursive(d,c);return new pc(b,e)},b}(Zc),Yd=function(a){function b(b,c){this._state=b,this._recurse=c,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._state.o.onNext(a)},b.prototype.error=function(){this._recurse(this._state)},b.prototype.completed=function(){this._recurse(this._state)},b}(Tc),Zd=Yc.onErrorResumeNext=function(){var a=[];if(Array.isArray(arguments[0]))a=arguments[0];else{var b=arguments.length;a=new Array(b);for(var c=0;b>c;c++)a[c]=arguments[c]}return new Xd(a)},$d=function(a){function b(b,c){this._s=b,this._o=bb(c)?jd(c):c,this._open=!1,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new nc;b.setDisposable(this._s.subscribe(new _d(a,this))),bb(this._o)&&(this._o=jd(this._o));var c=new nc;return c.setDisposable(this._o.subscribe(new ae(a,this,c))),new pc(b,c)},b}(Zc),_d=function(a){function b(b,c){this._o=b,this._p=c,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._p._open&&this._o.onNext(a)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},b}(Tc),ae=function(a){function b(b,c,d){this._o=b,this._p=c,this._r=d,a.call(this)}return ac(b,a),b.prototype.next=function(){this._p._open=!0,this._r.dispose()},b.prototype.error=function(a){this._o.onError(a)},b.prototype.onCompleted=function(){this._r.dispose()},b}(Tc);Sc.skipUntil=function(a){return new $d(this,a)};var be=function(a){function b(b){this.source=b,a.call(this)}function c(a,b){this.o=a,this.inner=b,this.stopped=!1,this.latest=0,this.hasLatest=!1,Tc.call(this)}function d(a,b){this.parent=a,this.id=b,Tc.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new oc,d=this.source.subscribe(new c(a,b));return new pc(d,b)},ac(c,Tc),c.prototype.next=function(a){var b=new nc,c=++this.latest;this.hasLatest=!0,this.inner.setDisposable(b),bb(a)&&(a=jd(a)),b.setDisposable(a.subscribe(new d(this,c)))},c.prototype.error=function(a){this.o.onError(a)},c.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},ac(d,Tc),d.prototype.next=function(a){this.parent.latest===this.id&&this.parent.o.onNext(a)},d.prototype.error=function(a){this.parent.latest===this.id&&this.parent.o.onError(a)},d.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},b}(Zc);Sc["switch"]=Sc.switchLatest=function(){return new be(this)};var ce=function(a){function b(b,c){this.source=b,this.other=bb(c)?jd(c):c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return new pc(this.source.subscribe(a),this.other.subscribe(new de(a)))},b}(Zc),de=function(a){function b(b){this._o=b,a.call(this)}return ac(b,a),b.prototype.next=function(){this._o.onCompleted()},b.prototype.error=function(a){this._o.onError(a)},b.prototype.onCompleted=Xa,b}(Tc);Sc.takeUntil=function(a){return new ce(this,a)};var ee=function(a){function b(b,c,d){this._s=b,this._ss=c,this._cb=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){for(var b=this._ss.length,c={hasValue:A(b,Q),hasValueAll:!1,values:new Array(b)},d=this._ss.length,e=new Array(d+1),f=0;d>f;f++){var g=this._ss[f],h=new nc;bb(g)&&(g=jd(g)),h.setDisposable(g.subscribe(new fe(a,f,c))),e[f]=h}var i=new nc;return i.setDisposable(this._s.subscribe(new ge(a,this._cb,c))),e[d]=i,new qc(e)},b}(Zc),fe=function(a){function b(b,c,d){this._o=b,this._i=c,this._state=d,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._state.values[this._i]=a,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(Ya)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=Xa,b}(Tc),ge=function(a){function b(b,c,d){this._o=b,this._cb=c,this._state=d,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=[a].concat(this._state.values);if(this._state.hasValueAll){var c=eb(this._cb).apply(null,b);return c===db?this._o.onError(c.e):void this._o.onNext(c)}},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=cb(b[a-1])?b.pop():R;return Array.isArray(b[0])&&(b=b[0]),new ee(this,b,d)};var he=function(a){function b(b,c){this._s=b,this._cb=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){for(var b=this._s.length,c=new Array(b),d=A(b,Q),e=A(b,S),f=0;b>f;f++){var g=this._s[f],h=new nc;c[f]=h,bb(g)&&(g=jd(g)),h.setDisposable(g.subscribe(new ie(a,f,this,e,d)))}return new qc(c)},b}(Zc),ie=function(a){function b(b,c,d,e,f){this._o=b,this._i=c,this._p=d,this._q=e,this._d=f,a.call(this)}function c(a){return a.length>0}function d(a){return a.shift()}function e(a){return function(b,c){return c!==a}}return ac(b,a),b.prototype.next=function(a){if(this._q[this._i].push(a),this._q.every(c)){var b=this._q.map(d),f=eb(this._p._cb).apply(null,b);if(f===db)return this._o.onError(f.e);this._o.onNext(f)}else this._d.filter(e(this._i)).every(Ya)&&this._o.onCompleted()},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._d[this._i]=!0,this._d.every(Ya)&&this._o.onCompleted()},b}(Tc);Sc.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=cb(b[a-1])?b.pop():R;Array.isArray(b[0])&&(b=b[0]);var e=this;return b.unshift(e),new he(b,d)},Yc.zip=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];Array.isArray(b[0])&&(b=cb(b[1])?b[0].concat(b[1]):b[0]);var d=b.shift();return d.zip.apply(d,b)};var je=function(a){function b(b,c){this.sources=b,this._cb=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){for(var b=this.sources,c=b.length,d=new Array(c),e={q:A(c,S),done:A(c,Q),cb:this._cb,o:a},f=0;c>f;f++)!function(a){var c=b[a],f=new nc;(tb(c)||sb(c))&&(c=sd(c)),d[a]=f,f.setDisposable(c.subscribe(new ke(e,a)))}(f);return new qc(d)},b}(Zc),ke=function(a){function b(b,c){this._s=b,this._i=c,a.call(this)}function c(a){return a.length>0}function d(a){return a.shift()}function e(a){return function(b,c){return c!==a}}return ac(b,a),b.prototype.next=function(a){if(this._s.q[this._i].push(a),this._s.q.every(c)){var b=this._s.q.map(d),f=eb(this._s.cb).apply(null,b);if(f===db)return this._s.o.onError(f.e);this._s.o.onNext(f)}else this._s.done.filter(e(this._i)).every(Ya)&&this._s.o.onCompleted()},b.prototype.error=function(a){this._s.o.onError(a)},b.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(Ya)&&this._s.o.onCompleted()},b}(Tc);Sc.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=cb(b[a-1])?b.pop():R,e=this;return b.unshift(e),new je(b,d)},Sc.asObservable=function(){return new Dg(T(this),this)},Sc.bufferWithCount=Sc.bufferCount=function(a,b){return"number"!=typeof b&&(b=a),this.windowWithCount(a,b).flatMap(U).filter(V)};var le=function(a){function b(b){this.source=b,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new me(a))},b}(Zc),me=function(a){function b(b){this._o=b,a.call(this)}return ac(b,a),b.prototype.next=function(a){a.accept(this._o)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.dematerialize=function(){return new le(this)};var ne=function(a){function b(b,c,d){this.source=b,this.keyFn=c,this.comparer=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new oe(a,this.keyFn,this.comparer))},b}(Zc),oe=function(a){function b(b,c,d){this.o=b,this.keyFn=c,this.comparer=d,this.hasCurrentKey=!1,this.currentKey=null,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b,c=a;return cb(this.keyFn)&&(c=eb(this.keyFn)(a),c===db)?this.o.onError(c.e):this.hasCurrentKey&&(b=eb(this.comparer)(this.currentKey,c),b===db)?this.o.onError(b.e):void(this.hasCurrentKey&&b||(this.hasCurrentKey=!0,this.currentKey=c,this.o.onNext(a)))},b.prototype.error=function(a){this.o.onError(a)},b.prototype.completed=function(){this.o.onCompleted()},b}(Tc);Sc.distinctUntilChanged=function(a,b){return b||(b=$a),new ne(this,a,b)};var pe=function(a){function b(b,c,d,e){this.source=b,this._oN=c,this._oE=d,this._oC=e,a.call(this)}function c(a,b){this.o=a,this.t=!b._oN||cb(b._oN)?Rc(b._oN||Xa,b._oE||Xa,b._oC||Xa):b._oN,this.isStopped=!1,Tc.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a,this))},ac(c,Tc),c.prototype.next=function(a){var b=eb(this.t.onNext).call(this.t,a);b===db&&this.o.onError(b.e),this.o.onNext(a)},c.prototype.error=function(a){var b=eb(this.t.onError).call(this.t,a);return b===db?this.o.onError(b.e):void this.o.onError(a)},c.prototype.completed=function(){var a=eb(this.t.onCompleted).call(this.t);return a===db?this.o.onError(a.e):void this.o.onCompleted()},b}(Zc);Sc["do"]=Sc.tap=Sc.doAction=function(a,b,c){return new pe(this,a,b,c)},Sc.doOnNext=Sc.tapOnNext=function(a,b){return this.tap("undefined"!=typeof b?function(c){a.call(b,c)}:a)},Sc.doOnError=Sc.tapOnError=function(a,b){return this.tap(Xa,"undefined"!=typeof b?function(c){a.call(b,c)}:a)},Sc.doOnCompleted=Sc.tapOnCompleted=function(a,b){return this.tap(Xa,null,"undefined"!=typeof b?function(){a.call(b)}:a)};var qe=function(a){function b(b,c,d){this.source=b,this._fn=ub(c,d,0),a.call(this)}function c(a,b){this.isDisposed=!1,this._s=a,this._fn=b}return ac(b,a),b.prototype.subscribeCore=function(a){var b=eb(this.source.subscribe).call(this.source,a);return b===db&&(this._fn(),k(b.e)),new c(b,this._fn)},c.prototype.dispose=function(){if(!this.isDisposed){var a=eb(this._s.dispose).call(this._s);this._fn(),a===db&&k(a.e)}},b}(Zc);Sc["finally"]=function(a,b){return new qe(this,a,b)};var re=function(a){function b(b){this.source=b,a.call(this)}function c(a){this.o=a,this.isStopped=!1}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a))},c.prototype.onNext=Xa,c.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.o.onError(a))},c.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},c.prototype.dispose=function(){this.isStopped=!0},c.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(a),!0)},b}(Zc);Sc.ignoreElements=function(){return new re(this)};var se=function(a){function b(b,c){this.source=b,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new te(a))},b}(Zc),te=function(a){function b(b){this._o=b,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._o.onNext(Nc(a))},b.prototype.error=function(a){this._o.onNext(Oc(a)),this._o.onCompleted()},b.prototype.completed=function(){this._o.onNext(Pc()),this._o.onCompleted()},b}(Tc);Sc.materialize=function(){return new se(this)},Sc.repeat=function(a){return dd(this,a).concat()},Sc.retry=function(a){return dd(this,a).catchError()};var ue=function(a){function b(a){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,a.isDisposed=!0)}}}function c(b,c){this.source=b,this._notifier=c,a.call(this)}return ac(c,a),c.prototype.subscribeCore=function(a){var c,d=new Hg,e=new Hg,f=this._notifier(d),g=f.subscribe(e),h=this.source["@@iterator"](),i={isDisposed:!1},j=new oc,k=Cc.scheduleRecursive(null,function(b,f){if(!i.isDisposed){var g=h.next();if(g.done)return void(c?a.onError(c):a.onCompleted());var k=g.value;bb(k)&&(k=jd(k));var l=new nc,m=new nc;j.setDisposable(new pc(m,l)),l.setDisposable(k.subscribe(function(b){a.onNext(b)},function(b){m.setDisposable(e.subscribe(f,function(b){a.onError(b)},function(){a.onCompleted()})),d.onNext(b),l.dispose()},function(){a.onCompleted()}))}});return new qc([g,j,k,b(i)])},c}(Zc);Sc.retryWhen=function(a){return new ue(W(this),a)};var ve=function(a){function b(a){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,a.isDisposed=!0)}}}function c(b,c){this.source=b,this._notifier=c,a.call(this)}return ac(c,a),c.prototype.subscribeCore=function(a){var c,d=new Hg,e=new Hg,f=this._notifier(d),g=f.subscribe(e),h=this.source["@@iterator"](),i={isDisposed:!1},j=new oc,k=Cc.scheduleRecursive(null,function(b,f){if(!i.isDisposed){var g=h.next();if(g.done)return void(c?a.onError(c):a.onCompleted());var k=g.value;bb(k)&&(k=jd(k));var l=new nc,m=new nc;j.setDisposable(new pc(m,l)),l.setDisposable(k.subscribe(function(b){a.onNext(b)},function(b){a.onError(b)},function(){m.setDisposable(e.subscribe(f,function(b){a.onError(b)},function(){a.onCompleted()})),d.onNext(null),l.dispose()}))}});return new qc([g,j,k,b(i)])},c}(Zc);Sc.repeatWhen=function(a){return new ve(W(this),a)};var we=function(a){function b(b,c,d,e){this.source=b,this.accumulator=c,this.hasSeed=d,this.seed=e,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new xe(a,this))},b}(Zc),xe=function(a){function b(b,c){this._o=b,this._p=c,this._fn=c.accumulator,this._hs=c.hasSeed,this._s=c.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){return!this._hv&&(this._hv=!0),this._ha?this._a=eb(this._fn)(this._a,a,this._i,this._p):(this._a=this._hs?eb(this._fn)(this._s,a,this._i,this._p):a,this._ha=!0),this._a===db?this._o.onError(this._a.e):(this._o.onNext(this._a),void this._i++)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},b}(Tc);Sc.scan=function(){var a,b=!1,c=arguments[0];return 2===arguments.length&&(b=!0,a=arguments[1]),new we(this,c,b,a)};var ye=function(a){function b(b,c){this.source=b,this._c=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new ze(a,this._c))},b}(Zc),ze=function(a){function b(b,c){this._o=b,this._c=c,this._q=[],a.call(this)}return ac(b,a),b.prototype.next=function(a){this._q.push(a),this._q.length>this._c&&this._o.onNext(this._q.shift())},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.skipLast=function(a){if(0>a)throw new mb;return new ye(this,a)},Sc.startWith=function(){var a,b=0;arguments.length&&vc(arguments[0])?(a=arguments[0],b=1):a=Ac;for(var c=[],d=b,e=arguments.length;e>d;d++)c.push(arguments[d]);return Od.apply(null,[ud(c,a),this])};var Ae=function(a){function b(b,c){this._o=b,this._c=c,this._q=[],a.call(this)}return ac(b,a),b.prototype.next=function(a){this._q.push(a),this._q.length>this._c&&this._q.shift()},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},b}(Tc);Sc.takeLast=function(a){if(0>a)throw new mb;var b=this;return new Dg(function(c){return b.subscribe(new Ae(c,a))},b)};var Be=function(a){function b(b,c){this._o=b,this._c=c,this._q=[],a.call(this)}return ac(b,a),b.prototype.next=function(a){this._q.push(a),this._q.length>this._c&&this._q.shift()},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},b}(Tc);Sc.takeLastBuffer=function(a){if(0>a)throw new mb;var b=this;return new Dg(function(c){return b.subscribe(new Be(c,a))},b)},Sc.windowWithCount=Sc.windowCount=function(a,b){var c=this;if(+a||(a=0),Math.abs(a)===1/0&&(a=0),0>=a)throw new mb;if(null==b&&(b=a),+b||(b=0),Math.abs(b)===1/0&&(b=0),0>=b)throw new mb;return new Dg(function(d){function e(){var a=new Hg;i.push(a),d.onNext(cc(a,g))}var f=new nc,g=new rc(f),h=0,i=[];return e(),f.setDisposable(c.subscribe(function(c){for(var d=0,f=i.length;f>d;d++)i[d].onNext(c);var g=h-a+1;g>=0&&g%b===0&&i.shift().onCompleted(),++h%b===0&&e()},function(a){for(;i.length>0;)i.shift().onError(a);d.onError(a)},function(){for(;i.length>0;)i.shift().onCompleted();d.onCompleted()})),g},c)},Sc.selectConcat=Sc.concatMap=function(a,b,c){return cb(a)&&cb(b)?this.concatMap(function(c,d){var e=a(c,d);return bb(e)&&(e=jd(e)),(tb(e)||sb(e))&&(e=sd(e)),e.map(function(a,e){return b(c,a,d,e)})}):cb(a)?X(this,a,c):X(this,function(){return a})},Sc.concatMapObserver=Sc.selectConcatObserver=function(a,b,c,d){var e=this,f=ub(a,d,2),g=ub(b,d,1),h=ub(c,d,0);return new Dg(function(a){var b=0;return e.subscribe(function(c){var d;try{d=f(c,b++)}catch(e){return void a.onError(e)}bb(d)&&(d=jd(d)),a.onNext(d)},function(b){var c;try{c=g(b)}catch(d){return void a.onError(d)}bb(c)&&(c=jd(c)),a.onNext(c),a.onCompleted()},function(){var b;try{b=h()}catch(c){return void a.onError(c)}bb(b)&&(b=jd(b)),a.onNext(b),a.onCompleted()})},this).concatAll()};var Ce=function(a){function b(b,c){this._o=b,this._d=c,this._f=!1,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._f=!0,this._o.onNext(a)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},b}(Tc);Sc.defaultIfEmpty=function(a){var b=this;return a===g&&(a=null),new Dg(function(c){return b.subscribe(new Ce(c,a))},b)},Z.prototype.push=function(a){var b=-1===Y(this.set,a,this.comparer);return b&&this.set.push(a),b};var De=function(a){function b(b,c,d){this.source=b,this._keyFn=c,this._cmpFn=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new Ee(a,this._keyFn,this._cmpFn))},b}(Zc),Ee=function(a){function b(b,c,d){this._o=b,this._keyFn=c,this._h=new Z(d),a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=a;return cb(this._keyFn)&&(b=eb(this._keyFn)(a),b===db)?this._o.onError(b.e):void(this._h.push(b)&&this._o.onNext(a))},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.distinct=function(a,b){return b||(b=$a),new De(this,a,b)},Sc.groupBy=function(a,b){return this.groupByUntil(a,b,yd)},Sc.groupByUntil=function(a,b,c){var d=this;return new Dg(function(e){var f=new Uf,h=new fc,i=new rc(h),j=function(a){return function(b){b.onError(a)}};return h.add(d.subscribe(function(d){var k=eb(a)(d);if(k===db)return f.forEach(j(k.e)),e.onError(k.e);var l=!1,m=f.get(k);if(m===g&&(m=new Hg,f.set(k,m),l=!0),l){var n=new Gg(k,m,i),o=new Gg(k,m),p=eb(c)(o);if(p===db)return f.forEach(j(p.e)),e.onError(p.e);e.onNext(n);var q=new nc;h.add(q),q.setDisposable(p.take(1).subscribe(Xa,function(a){f.forEach(j(a)),e.onError(a)},function(){f["delete"](k)&&m.onCompleted(),h.remove(q)}))}var r=d;return cb(b)&&(r=eb(b)(d),r===db)?(f.forEach(j(r.e)),e.onError(r.e)):void m.onNext(r)},function(a){f.forEach(j(a)),e.onError(a)},function(){f.forEach(function(a){a.onCompleted()}),e.onCompleted()})),i},d)};var Fe=function(a){function b(b,c,d){this.source=b,this.selector=ub(c,d,3),a.call(this)}function c(a,b){return function(c,d,e){return a.call(this,b.selector(c,d,e),d,e)}}function d(a,b,c){this.o=a,this.selector=b,this.source=c,this.i=0,Tc.call(this)}return ac(b,a),b.prototype.internalMap=function(a,d){return new b(this.source,c(a,this),d)},b.prototype.subscribeCore=function(a){return this.source.subscribe(new d(a,this.selector,this))},ac(d,Tc),d.prototype.next=function(a){var b=eb(this.selector)(a,this.i++,this.source);return b===db?this.o.onError(b.e):void this.o.onNext(b)},d.prototype.error=function(a){this.o.onError(a)},d.prototype.completed=function(){this.o.onCompleted()},b}(Zc);Sc.map=Sc.select=function(a,b){var c="function"==typeof a?a:function(){return a};return this instanceof Fe?this.internalMap(c,b):new Fe(this,c,b)},Sc.pluck=function(){var a=arguments.length,b=new Array(a);if(0===a)throw new Error("List of properties cannot be empty.");for(var c=0;a>c;c++)b[c]=arguments[c];return this.map($(b,a))},Sc.flatMap=Sc.selectMany=Sc.mergeMap=function(a,b,c){return new $c(this,a,b,c).mergeAll()},Sc.flatMapObserver=Sc.selectManyObserver=function(a,b,c,d){var e=this;return new Dg(function(f){var g=0;return e.subscribe(function(b){var c;try{c=a.call(d,b,g++)}catch(e){return void f.onError(e)}bb(c)&&(c=jd(c)),f.onNext(c)},function(a){var c;try{c=b.call(d,a)}catch(e){return void f.onError(e)}bb(c)&&(c=jd(c)),f.onNext(c),f.onCompleted()},function(){var a;try{a=c.call(d)}catch(b){return void f.onError(b)}bb(a)&&(a=jd(a)),f.onNext(a),f.onCompleted()})},e).mergeAll()},Sc.flatMapLatest=Sc.switchMap=function(a,b,c){return new $c(this,a,b,c).switchLatest()};var Ge=function(a){function b(b,c){this.source=b,this._count=c,a.call(this)}function c(a,b){this._o=a,this._r=b,Tc.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a,this._count))},ac(c,Tc),c.prototype.next=function(a){this._r<=0?this._o.onNext(a):this._r--},c.prototype.error=function(a){this._o.onError(a)},c.prototype.completed=function(){this._o.onCompleted()},b}(Zc);Sc.skip=function(a){if(0>a)throw new mb;return new Ge(this,a)};var He=function(a){function b(b,c){this.source=b,this._fn=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new Ie(a,this))},b}(Zc),Ie=function(a){function b(b,c){this._o=b,this._p=c,this._i=0,this._r=!1,a.call(this)}return ac(b,a),b.prototype.next=function(a){if(!this._r){var b=eb(this._p._fn)(a,this._i++,this._p);if(b===db)return this._o.onError(b.e);this._r=!b}this._r&&this._o.onNext(a)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.skipWhile=function(a,b){var c=ub(a,b,3);return new He(this,c)};var Je=function(a){function b(b,c){this.source=b,this._count=c,a.call(this)}function c(a,b){this._o=a,this._c=b,this._r=b,Tc.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new c(a,this._count))},ac(c,Tc),c.prototype.next=function(a){this._r-->0&&(this._o.onNext(a),this._r<=0&&this._o.onCompleted())},c.prototype.error=function(a){this._o.onError(a)},c.prototype.completed=function(){this._o.onCompleted()},b}(Zc);Sc.take=function(a,b){if(0>a)throw new mb;return 0===a?pd(b):new Je(this,a)};var Ke=function(a){function b(b,c){this.source=b,this._fn=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new Le(a,this))},b}(Zc),Le=function(a){function b(b,c){this._o=b,this._p=c,this._i=0,this._r=!0,a.call(this)}return ac(b,a),b.prototype.next=function(a){return this._r&&(this._r=eb(this._p._fn)(a,this._i++,this._p),this._r===db)?this._o.onError(this._r.e):void(this._r?this._o.onNext(a):this._o.onCompleted())},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.takeWhile=function(a,b){var c=ub(a,b,3);return new Ke(this,c)};var Me=function(a){function b(b,c,d){this.source=b,this.predicate=ub(c,d,3),a.call(this)}function c(a,b){return function(c,d,e){return b.predicate(c,d,e)&&a.call(this,c,d,e)}}function d(a,b,c){this.o=a,this.predicate=b,this.source=c,this.i=0,Tc.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new d(a,this.predicate,this))},b.prototype.internalFilter=function(a,d){return new b(this.source,c(a,this),d)},ac(d,Tc),d.prototype.next=function(a){var b=eb(this.predicate)(a,this.i++,this.source);return b===db?this.o.onError(b.e):void(b&&this.o.onNext(a))},d.prototype.error=function(a){this.o.onError(a)},d.prototype.completed=function(){this.o.onCompleted()},b}(Zc);Sc.filter=Sc.where=function(a,b){return this instanceof Me?this.internalFilter(a,b):new Me(this,a,b)};var Ne=function(a){function b(b,c,d){this.source=b,this._k=c,this._c=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new Oe(a,this._k,this._c))},b}(Zc),Oe=function(a){function b(b,c,d){this._o=b,this._k=c,this._c=d,this._v=null,this._hv=!1,this._l=[],a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=eb(this._k)(a);if(b===db)return this._o.onError(b.e);var c=0;if(this._hv){if(c=eb(this._c)(b,this._v),c===db)return this._o.onError(c.e)}else this._hv=!0,this._v=b;c>0&&(this._v=b,this._l=[]),c>=0&&this._l.push(a)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},b}(Tc),Pe=function(a){function b(b,c,d,e){this.source=b,this.accumulator=c,this.hasSeed=d,this.seed=e,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new Qe(a,this))},b}(Zc),Qe=function(a){function b(b,c){this._o=b,this._p=c,this._fn=c.accumulator,this._hs=c.hasSeed,this._s=c.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){return!this._hv&&(this._hv=!0),this._ha?this._a=eb(this._fn)(this._a,a,this._i,this._p):(this._a=this._hs?eb(this._fn)(this._s,a,this._i,this._p):a,this._ha=!0),this._a===db?this._o.onError(this._a.e):void this._i++},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new kb),this._o.onCompleted()},b}(Tc);Sc.reduce=function(){var a,b=!1,c=arguments[0];return 2===arguments.length&&(b=!0,a=arguments[1]),new Pe(this,c,b,a)};var Re=function(a){function b(b,c){this.source=b,this._fn=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new Se(a,this._fn,this.source))},b}(Zc),Se=function(a){function b(b,c,d){this._o=b,this._fn=c,this._s=d,this._i=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=eb(this._fn)(a,this._i++,this._s);return b===db?this._o.onError(b.e):void(Boolean(b)&&(this._o.onNext(!0),this._o.onCompleted()))},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},b}(Tc);Sc.some=function(a,b){var c=ub(a,b,3);return new Re(this,c)};var Te=function(a){function b(b){this.source=b,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new Ue(a))},b}(Zc),Ue=function(a){function b(b){this._o=b,a.call(this)}return ac(b,a),b.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},b}(Tc);Sc.isEmpty=function(){return new Te(this)};var Ve=function(a){function b(b,c){this.source=b,this._fn=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new We(a,this._fn,this.source))},b}(Zc),We=function(a){function b(b,c,d){this._o=b,this._fn=c,this._s=d,this._i=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=eb(this._fn)(a,this._i++,this._s);return b===db?this._o.onError(b.e):void(Boolean(b)||(this._o.onNext(!1),this._o.onCompleted()))},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},b}(Tc);Sc.every=function(a,b){var c=ub(a,b,3);return new Ve(this,c)};var Xe=function(a){function b(b,c,d){var e=+d||0;Math.abs(e)===1/0&&(e=0),this.source=b,this._elem=c,this._n=e,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this._n<0?(a.onNext(!1),a.onCompleted(),jc):this.source.subscribe(new Ye(a,this._elem,this._n))},b}(Zc),Ye=function(a){function b(b,c,d){this._o=b,this._elem=c,this._n=d,this._i=0,a.call(this)}function c(a,b){return 0===a&&0===b||a===b||isNaN(a)&&isNaN(b)}return ac(b,a),b.prototype.next=function(a){this._i++>=this._n&&c(a,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},b}(Tc);Sc.includes=function(a,b){return new Xe(this,a,b)};var Ze=function(a){function b(b,c){this.source=b,this._fn=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new $e(a,this._fn,this.source))},b}(Zc),$e=function(a){function b(b,c,d){this._o=b,this._fn=c,this._s=d,this._i=0,this._c=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){if(this._fn){var b=eb(this._fn)(a,this._i++,this._s);if(b===db)return this._o.onError(b.e);Boolean(b)&&this._c++}else this._c++},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},b}(Tc);Sc.count=function(a,b){var c=ub(a,b,3);return new Ze(this,c)};var _e=function(a){function b(b,c,d){this.source=b,this._e=c,this._n=d,a.call(this)}return ac(b,a),
b.prototype.subscribeCore=function(a){return this._n<0?(a.onNext(-1),a.onCompleted(),jc):this.source.subscribe(new af(a,this._e,this._n))},b}(Zc),af=function(a){function b(b,c,d){this._o=b,this._e=c,this._n=d,this._i=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._i>=this._n&&a===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},b}(Tc);Sc.indexOf=function(a,b){var c=+b||0;return Math.abs(c)===1/0&&(c=0),new _e(this,a,c)};var bf=function(a){function b(b,c){this.source=b,this._fn=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new cf(a,this._fn,this.source))},b}(Zc),cf=function(a){function b(b,c,d){this._o=b,this._fn=c,this._s=d,this._i=0,this._c=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){if(this._fn){var b=eb(this._fn)(a,this._i++,this._s);if(b===db)return this._o.onError(b.e);this._c+=b}else this._c+=a},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},b}(Tc);Sc.sum=function(a,b){var c=ub(a,b,3);return new bf(this,c)},Sc.minBy=function(a,b){return b||(b=_a),new Ne(this,a,function(a,c){return-1*b(a,c)})},Sc.min=function(a){return this.minBy(Ya,a).map(_)},Sc.maxBy=function(a,b){return b||(b=_a),new Ne(this,a,b)},Sc.max=function(a){return this.maxBy(Ya,a).map(_)};var df=function(a){function b(b,c){this.source=b,this._fn=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new ef(a,this._fn,this.source))},b}(Zc),ef=function(a){function b(b,c,d){this._o=b,this._fn=c,this._s=d,this._c=0,this._t=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){if(this._fn){var b=eb(this._fn)(a,this._c++,this._s);if(b===db)return this._o.onError(b.e);this._t+=b}else this._c++,this._t+=a},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){return 0===this._c?this._o.onError(new kb):(this._o.onNext(this._t/this._c),void this._o.onCompleted())},b}(Tc);Sc.average=function(a,b){var c,d=this;return cb(a)&&(c=ub(a,b,3)),new df(d,c)},Sc.sequenceEqual=function(a,b){var c=this;return b||(b=$a),new Dg(function(d){var e=!1,f=!1,g=[],h=[],i=c.subscribe(function(a){if(h.length>0){var c=h.shift(),e=eb(b)(c,a);if(e===db)return d.onError(e.e);e||(d.onNext(!1),d.onCompleted())}else f?(d.onNext(!1),d.onCompleted()):g.push(a)},function(a){d.onError(a)},function(){e=!0,0===g.length&&(h.length>0?(d.onNext(!1),d.onCompleted()):f&&(d.onNext(!0),d.onCompleted()))});(tb(a)||sb(a))&&(a=sd(a)),bb(a)&&(a=jd(a));var j=a.subscribe(function(a){if(g.length>0){var c=g.shift(),f=eb(b)(c,a);if(f===db)return d.onError(f.e);f||(d.onNext(!1),d.onCompleted())}else e?(d.onNext(!1),d.onCompleted()):h.push(a)},function(a){d.onError(a)},function(){f=!0,0===h.length&&(g.length>0?(d.onNext(!1),d.onCompleted()):e&&(d.onNext(!0),d.onCompleted()))});return new pc(i,j)},c)};var ff=function(a){function b(b,c,d){this.source=b,this._i=c,this._d=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new gf(a,this._i,this._d))},b}(Zc),gf=function(a){function b(b,c,d){this._o=b,this._i=c,this._d=d,a.call(this)}return ac(b,a),b.prototype.next=function(a){0===this._i--&&(this._o.onNext(a),this._o.onCompleted())},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._d===g?this._o.onError(new mb):(this._o.onNext(this._d),this._o.onCompleted())},b}(Tc);Sc.elementAt=function(a,b){if(0>a)throw new mb;return new ff(this,a,b)};var hf=function(a){function b(b,c,d){this._o=b,this._obj=c,this._s=d,this._i=0,this._hv=!1,this._v=null,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=!1;if(this._obj.predicate){var c=eb(this._obj.predicate)(a,this._i++,this._s);if(c===db)return this._o.onError(c.e);Boolean(c)&&(b=!0)}else this._obj.predicate||(b=!0);if(b){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=a}},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===g?this._o.onError(new kb):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},b}(Tc);Sc.single=function(a,b){var c={},d=this;if(c="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},cb(c.predicate)){var e=c.predicate;c.predicate=ub(e,c.thisArg,3)}return new Dg(function(a){return d.subscribe(new hf(a,c,d))},d)};var jf=function(a){function b(b,c){this.source=b,this._obj=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new kf(a,this._obj,this.source))},b}(Zc),kf=function(a){function b(b,c,d){this._o=b,this._obj=c,this._s=d,this._i=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){if(this._obj.predicate){var b=eb(this._obj.predicate)(a,this._i++,this._s);if(b===db)return this._o.onError(b.e);Boolean(b)&&(this._o.onNext(a),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(a),this._o.onCompleted())},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._obj.defaultValue===g?this._o.onError(new kb):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},b}(Tc);Sc.first=function(){var a={};if(a="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},cb(a.predicate)){var b=a.predicate;a.predicate=ub(b,a.thisArg,3)}return new jf(this,a)};var lf=function(a){function b(b,c){this.source=b,this._obj=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new mf(a,this._obj,this.source))},b}(Zc),mf=function(a){function b(b,c,d){this._o=b,this._obj=c,this._s=d,this._i=0,this._hv=!1,this._v=null,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=!1;if(this._obj.predicate){var c=eb(this._obj.predicate)(a,this._i++,this._s);if(c===db)return this._o.onError(c.e);Boolean(c)&&(b=!0)}else this._obj.predicate||(b=!0);b&&(this._hv=!0,this._v=a)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===g?this._o.onError(new kb):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},b}(Tc);Sc.last=function(){var a={};if(a="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},cb(a.predicate)){var b=a.predicate;a.predicate=ub(b,a.thisArg,3)}return new lf(this,a)};var nf=function(a){function b(b,c,d,e){this._o=b,this._s=c,this._cb=d,this._y=e,this._i=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=eb(this._cb)(a,this._i,this._s);return b===db?this._o.onError(b.e):void(b?(this._o.onNext(this._y?this._i:a),this._o.onCompleted()):this._i++)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},b}(Tc);Sc.find=function(a,b){return aa(this,a,b,!1)},Sc.findIndex=function(a,b){return aa(this,a,b,!0)};var of=function(a){function b(b){this.source=b,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new pf(a))},b}(Zc),pf=function(a){function b(b){this._o=b,this._s=new Va.Set,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._s.add(a)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},b}(Tc);Sc.toSet=function(){if("undefined"==typeof Va.Set)throw new TypeError;return new of(this)};var qf=function(a){function b(b,c,d){this.source=b,this._k=c,this._e=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new rf(a,this._k,this._e))},b}(Zc),rf=function(a){function b(b,c,d){this._o=b,this._k=c,this._e=d,this._m=new Va.Map,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=eb(this._k)(a);if(b===db)return this._o.onError(b.e);var c=a;return this._e&&(c=eb(this._e)(a),c===db)?this._o.onError(c.e):void this._m.set(b,c)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},b}(Tc);Sc.toMap=function(a,b){if("undefined"==typeof Va.Map)throw new TypeError;return new qf(this,a,b)};var sf=function(a){function b(b,c,d){this.source=b,this._b=c,this._e=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new tf(a,this._b,this._e))},b}(Zc),tf=function(a){function b(b,c,d){this._o=b,this._b=c,this._e=d,this._i=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(a)),this._i++},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.slice=function(a,b){var c=a||0;if(0>c)throw new Wa.ArgumentOutOfRangeError;if("number"==typeof b&&c>b)throw new Wa.ArgumentOutOfRangeError;return new sf(this,c,b)};var uf=function(a){function b(b,c,d){this.source=b,this._e=c,this._n=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this._n<0?(a.onNext(-1),a.onCompleted(),jc):this.source.subscribe(new vf(a,this._e,this._n))},b}(Zc),vf=function(a){function b(b,c,d){this._o=b,this._e=c,this._n=d,this._v=0,this._hv=!1,this._i=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._i>=this._n&&a===this._e&&(this._hv=!0,this._v=this._i),this._i++},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},b}(Tc);Sc.lastIndexOf=function(a,b){var c=+b||0;return Math.abs(c)===1/0&&(c=0),new uf(this,a,c)},Yc.wrap=function(a){function b(){return Yc.spawn.call(this,a.apply(this,arguments))}return b.__generatorFunction__=a,b};var wf=Yc.spawn=function(){for(var a=arguments[0],b=this,c=[],d=1,e=arguments.length;e>d;d++)c.push(arguments[d]);return new Dg(function(d){function e(b){var c=eb(a.next).call(a,b);return c===db?d.onError(c.e):void g(c)}function f(b){var c=eb(a.next).call(a,b);return c===db?d.onError(c.e):void g(c)}function g(a){if(a.done)return d.onNext(a.value),void d.onCompleted();var c=ba.call(b,a.value),g=null,i=!1;Yc.isObservable(c)?h.add(c.subscribe(function(a){i=!0,g=a},f,function(){i&&e(g)})):f(new TypeError("type not supported"))}var h=new fc;return cb(a)&&(a=a.apply(b,c)),a&&cb(a.next)?(e(),h):(d.onNext(a),d.onCompleted())})};Yc.start=function(a,b,c){return xf(a,b,c)()};var xf=Yc.toAsync=function(a,b,c){return vc(c)||(c=Hc),function(){var d=arguments,e=new Ig;return c.schedule(null,function(){var c;try{c=a.apply(b,d)}catch(f){return void e.onError(f)}e.onNext(c),e.onCompleted()}),e.asObservable()}};Yc.fromCallback=function(a,b,c){return function(){"undefined"==typeof b&&(b=this);for(var d=arguments.length,e=new Array(d),f=0;d>f;f++)e[f]=arguments[f];return ia(a,b,c,e)}},Yc.fromNodeCallback=function(a,b,c){return function(){"undefined"==typeof b&&(b=this);for(var d=arguments.length,e=new Array(d),f=0;d>f;f++)e[f]=arguments[f];return ka(a,b,c,e)}},na.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},Wa.config.useNativeEvents=!1;var yf=function(a){function b(b,c,d){this._el=b,this._n=c,this._fn=d,a.call(this)}function c(a,b){return function(){var c=arguments[0];return cb(b)&&(c=eb(b).apply(null,arguments),c===db)?a.onError(c.e):void a.onNext(c)}}return ac(b,a),b.prototype.subscribeCore=function(a){return oa(this._el,this._n,c(a,this._fn))},b}(Zc);Yc.fromEvent=function(a,b,c){return a.addListener?Af(function(c){a.addListener(b,c)},function(c){a.removeListener(b,c)},c):Wa.config.useNativeEvents||"function"!=typeof a.on||"function"!=typeof a.off?new yf(a,b,c).publish().refCount():Af(function(c){a.on(b,c)},function(c){a.off(b,c)},c)};var zf=function(a){function b(b,c,d){this._add=b,this._del=c,this._fn=d,a.call(this)}function c(a,b){return function(){var c=arguments[0];return cb(b)&&(c=eb(b).apply(null,arguments),c===db)?a.onError(c.e):void a.onNext(c)}}function d(a,b,c){this._del=a,this._fn=b,this._ret=c,this.isDisposed=!1}return ac(b,a),b.prototype.subscribeCore=function(a){var b=c(a,this._fn),e=this._add(b);return new d(this._del,b,e)},d.prototype.dispose=function(){this.isDisposed||(cb(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},b}(Zc),Af=Yc.fromEventPattern=function(a,b,c){return new zf(a,b,c).publish().refCount()};Yc.startAsync=function(a){var b=eb(a)();return b===db?Ed(b.e):jd(b)};var Bf=function(a){function b(b,c){this.source=b,this.controller=new Hg,this.paused=!0,c&&c.subscribe?this.pauser=this.controller.merge(c):this.pauser=this.controller,a.call(this)}return ac(b,a),b.prototype._subscribe=function(a){var b=this.source.publish(),c=b.subscribe(a),d=jc,e=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(a){a?d=b.connect():(d.dispose(),d=jc)});return new qc([c,d,e])},b.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},b.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},b}(Yc);Sc.pausable=function(a){return new Bf(this,a)};var Cf=function(a){function b(b,c){this.source=b,this.controller=new Hg,this.paused=!0,c&&c.subscribe?this.pauser=this.controller.merge(c):this.pauser=this.controller,a.call(this)}return ac(b,a),b.prototype._subscribe=function(a){function b(){for(;d.length>0;)a.onNext(d.shift())}var c,d=[],e=pa(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(a,b){return{data:a,shouldFire:b}}).subscribe(function(e){c!==g&&e.shouldFire!==c?(c=e.shouldFire,e.shouldFire&&b()):(c=e.shouldFire,e.shouldFire?a.onNext(e.data):d.push(e.data))},function(c){b(),a.onError(c)},function(){b(),a.onCompleted()});return e},b.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},b.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},b}(Yc);Sc.pausableBuffered=function(a){return new Cf(this,a)};var Df=function(a){function b(b,c,d){a.call(this),this.subject=new Ef(c,d),this.source=b.multicast(this.subject).refCount()}return ac(b,a),b.prototype._subscribe=function(a){return this.source.subscribe(a)},b.prototype.request=function(a){return this.subject.request(null==a?-1:a)},b}(Yc),Ef=function(a){function b(b,c){null==b&&(b=!0),a.call(this),this.subject=new Hg,this.enableQueue=b,this.queue=b?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=c||Cc}return ac(b,a),bc(b.prototype,Qc,{_subscribe:function(a){return this.subject.subscribe(a)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(Jc.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(a){this.hasFailed=!0,this.error=a,this.enableQueue&&0!==this.queue.length?this.queue.push(Jc.createOnError(a)):(this.subject.onError(a),this.disposeCurrentRequest())},onNext:function(a){this.requestedCount<=0?this.enableQueue&&this.queue.push(Jc.createOnNext(a)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(a))},_processRequest:function(a){if(this.enableQueue)for(;this.queue.length>0&&(a>0||"N"!==this.queue[0].kind);){var b=this.queue.shift();b.accept(this.subject),"N"===b.kind?a--:(this.disposeCurrentRequest(),this.queue=[])}return a},request:function(a){this.disposeCurrentRequest();var b=this;return this.requestedDisposable=this.scheduler.schedule(a,function(a,c){var d=b._processRequest(c),e=b.hasCompleted||b.hasFailed;return!e&&d>0?(b.requestedCount=d,ic(function(){b.requestedCount=0})):void 0}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),b}(Yc);Sc.controlled=function(a,b){return a&&vc(a)&&(b=a,a=!0),null==a&&(a=!0),new Df(this,a,b)};var Ff=function(a){function b(b){a.call(this),this.source=b}function c(a,b){return b.source.request(1)}ac(b,a),b.prototype._subscribe=function(a){return this.subscription=this.source.subscribe(new d(a,this,this.subscription)),new pc(this.subscription,Hc.schedule(this,c))};var d=function(a){function b(b,c,d){a.call(this),this.observer=b,this.observable=c,this.cancel=d,this.scheduleDisposable=null}function c(a,b){return b.observable.source.request(1)}return ac(b,a),b.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},b.prototype.error=function(a){this.observer.onError(a),this.dispose()},b.prototype.next=function(a){this.observer.onNext(a),this.scheduleDisposable=Hc.schedule(this,c)},b.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),a.prototype.dispose.call(this)},b}(Tc);return b}(Yc);Df.prototype.stopAndWait=function(){return new Ff(this)};var Gf=function(a){function b(b,c){a.call(this),this.source=b,this.windowSize=c}function c(a,b){return b.source.request(b.windowSize)}ac(b,a),b.prototype._subscribe=function(a){return this.subscription=this.source.subscribe(new d(a,this,this.subscription)),new pc(this.subscription,Hc.schedule(this,c))};var d=function(a){function b(b,c,d){this.observer=b,this.observable=c,this.cancel=d,this.received=0,this.scheduleDisposable=null,a.call(this)}function c(a,b){return b.observable.source.request(b.observable.windowSize)}return ac(b,a),b.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},b.prototype.error=function(a){this.observer.onError(a),this.dispose()},b.prototype.next=function(a){this.observer.onNext(a),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=Hc.schedule(this,c))},b.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),a.prototype.dispose.call(this)},b}(Tc);return b}(Yc);Df.prototype.windowed=function(a){return new Gf(this,a)},Sc.pipe=function(a){function b(){c.resume()}var c=this.pausableBuffered();return a.addListener("drain",b),c.subscribe(function(b){!a.write(b)&&c.pause()},function(b){a.emit("error",b)},function(){!a._isStdio&&a.end(),a.removeListener("drain",b)}),c.resume(),a};var Hf=function(a){function b(b,c,d){this.source=b,this._fn1=c,this._fn2=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=this.source.multicast(this._fn1());return new pc(this._fn2(b).subscribe(a),b.connect())},b}(Zc);Sc.multicast=function(a,b){return cb(a)?new Hf(this,a,b):new Kf(this,a)},Sc.publish=function(a){return a&&cb(a)?this.multicast(function(){return new Hg},a):this.multicast(new Hg)},Sc.share=function(){return this.publish().refCount()},Sc.publishLast=function(a){return a&&cb(a)?this.multicast(function(){return new Ig},a):this.multicast(new Ig)},Sc.publishValue=function(a,b){return 2===arguments.length?this.multicast(function(){return new Jg(b)},a):this.multicast(new Jg(a))},Sc.shareValue=function(a){return this.publishValue(a).refCount()},Sc.replay=function(a,b,c,d){return a&&cb(a)?this.multicast(function(){return new Kg(b,c,d)},a):this.multicast(new Kg(b,c,d))},Sc.shareReplay=function(a,b,c){return this.replay(null,a,b,c).refCount()};var If=function(a,b){this._s=a,this._o=b};If.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var a=this._s.observers.indexOf(this._o);this._s.observers.splice(a,1),this._o=null}};var Jf=function(a){function b(b){this.source=b,this._count=0,this._connectableSubscription=null,a.call(this)}function c(a,b){this._p=a,this._s=b,this.isDisposed=!1}return ac(b,a),b.prototype.subscribeCore=function(a){var b=this.source.subscribe(a);return 1===++this._count&&(this._connectableSubscription=this.source.connect()),new c(this,b)},c.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())},b}(Zc),Kf=Wa.ConnectableObservable=function(a){function b(b,c){this.source=b,this._connection=null,this._source=b.asObservable(),this._subject=c,a.call(this)}function c(a,b){this._p=a,this._s=b}return ac(b,a),c.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},b.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return jc;var a=this._source.subscribe(this._subject);this._connection=new c(this,a)}return this._connection},b.prototype._subscribe=function(a){return this._subject.subscribe(a)},b.prototype.refCount=function(){return new Jf(this)},b}(Yc);Sc.singleInstance=function(){function a(){return d||(d=!0,b=c["finally"](function(){d=!1}).publish().refCount()),b}var b,c=this,d=!1;return new Dg(function(b){return a().subscribe(b)})},Sc.join=function(a,b,c,d){var e=this;return new Dg(function(f){var g=new fc,h=!1,i=!1,j=0,k=0,l=new Uf,m=new Uf,n=function(a){f.onError(a)};return g.add(e.subscribe(function(a){var c=j++,e=new nc;l.set(c,a),g.add(e);var i=eb(b)(a);return i===db?f.onError(i.e):(e.setDisposable(i.take(1).subscribe(Xa,n,function(){l["delete"](c)&&0===l.size&&h&&f.onCompleted(),g.remove(e)})),void m.forEach(function(b){var c=eb(d)(a,b);return c===db?f.onError(c.e):void f.onNext(c)}))},n,function(){h=!0,(i||0===l.size)&&f.onCompleted()})),g.add(a.subscribe(function(a){var b=k++,e=new nc;m.set(b,a),g.add(e);var h=eb(c)(a);return h===db?f.onError(h.e):(e.setDisposable(h.take(1).subscribe(Xa,n,function(){m["delete"](b)&&0===m.size&&i&&f.onCompleted(),g.remove(e)})),void l.forEach(function(b){var c=eb(d)(b,a);return c===db?f.onError(c.e):void f.onNext(c)}))},n,function(){i=!0,(h||0===m.size)&&f.onCompleted()})),g},e)},Sc.groupJoin=function(a,b,c,d){var e=this;return new Dg(function(f){function g(a){}var h=new fc,i=new rc(h),j=new Uf,k=new Uf,l=0,m=0,g=function(a){return function(b){b.onError(a)}};return h.add(e.subscribe(function(a){var c=new Hg,e=l++;j.set(e,c);var m=eb(d)(a,cc(c,i));if(m===db)return j.forEach(g(m.e)),f.onError(m.e);f.onNext(m),k.forEach(function(a){c.onNext(a)});var n=new nc;h.add(n);var o=eb(b)(a);return o===db?(j.forEach(g(o.e)),f.onError(o.e)):void n.setDisposable(o.take(1).subscribe(Xa,function(a){j.forEach(g(a)),f.onError(a)},function(){j["delete"](e)&&c.onCompleted(),h.remove(n)}))},function(a){j.forEach(g(a)),f.onError(a)},function(){f.onCompleted()})),h.add(a.subscribe(function(a){var b=m++;k.set(b,a);var d=new nc;h.add(d);var e=eb(c)(a);return e===db?(j.forEach(g(e.e)),f.onError(e.e)):(d.setDisposable(e.take(1).subscribe(Xa,function(a){j.forEach(g(a)),f.onError(a)},function(){k["delete"](b),h.remove(d)})),void j.forEach(function(b){b.onNext(a)}))},function(a){j.forEach(g(a)),f.onError(a)})),i},e)},Sc.buffer=function(){return this.window.apply(this,arguments).flatMap(U)},Sc.window=function(a,b){return 1===arguments.length&&"function"!=typeof arguments[0]?ra.call(this,a):"function"==typeof a?sa.call(this,a):qa.call(this,a,b)};var Lf=function(a){function b(b){this.source=b,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new Mf(a))},b}(Zc),Mf=function(a){function b(b){this._o=b,this._p=null,this._hp=!1,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._hp?this._o.onNext([this._p,a]):this._hp=!0,this._p=a},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.pairwise=function(){return new Lf(this)},Sc.partition=function(a,b){var c=ub(a,b,3);return[this.filter(a,b),this.filter(function(a,b,d){return!c(a,b,d)})]};var Nf=function(a){function b(a,b){this.c=a,this.s=b}return ac(b,a),b.prototype[qb]=function(){var a=this;return{next:function(){return a.c()?{done:!1,value:a.s}:{done:!0,value:void 0}}}},b}(_c);Sc.letBind=Sc.let=function(a){return a(this)},Yc["if"]=function(a,b,c){return md(function(){return c||(c=pd()),bb(b)&&(b=jd(b)),bb(c)&&(c=jd(c)),"function"==typeof c.now&&(c=pd(c)),a()?b:c})},Yc["for"]=Yc.forIn=function(a,b,c){return fd(a,b,c).concat()};var Of=Yc["while"]=Yc.whileDo=function(a,b){return bb(b)&&(b=jd(b)),ta(a,b).concat()};Sc.doWhile=function(a){return Od([this,Of(a,this)])},Yc["case"]=function(a,b,c){return md(function(){bb(c)&&(c=jd(c)),c||(c=pd()),vc(c)&&(c=pd(c));var d=b[a()];return bb(d)&&(d=jd(d)),d||c})};var Pf=function(a){function b(b,c,d){this.source=b,this._fn=c,this._scheduler=d,a.call(this)}function c(a,b){var c,d=a[0],e=a[1];if(!(d.q.length>0))return void(d.isAcquired=!1);c=d.q.shift();var f=new nc;d.d.add(f),f.setDisposable(c.subscribe(new Qf(d,e,f))),b([d,e])}return ac(b,a),b.prototype._ensureActive=function(a){var b=!1;a.q.length>0&&(b=!a.isAcquired,a.isAcquired=!0),b&&a.m.setDisposable(this._scheduler.scheduleRecursive([a,this],c))},b.prototype.subscribeCore=function(a){var b=new oc,c=new fc(b),d={q:[],m:b,d:c,activeCount:0,isAcquired:!1,o:a};return d.q.push(this.source),d.activeCount++,this._ensureActive(d),c},b}(Zc),Qf=function(a){function b(b,c,d){this._s=b,this._p=c,this._m1=d,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._s.o.onNext(a);var b=eb(this._p._fn)(a);return b===db?this._s.o.onError(b.e):(this._s.q.push(b),this._s.activeCount++,void this._p._ensureActive(this._s))},b.prototype.error=function(a){this._s.o.onError(a)},b.prototype.completed=function(){this._s.d.remove(this._m1),this._s.activeCount--,0===this._s.activeCount&&this._s.o.onCompleted()},b}(Tc);Sc.expand=function(a,b){return vc(b)||(b=Cc),new Pf(this,a,b)};var Rf=function(a){function b(b,c){this._sources=b,this._cb=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){if(0===this._sources.length)return a.onCompleted(),jc;for(var b=this._sources.length,c={finished:!1,hasResults:new Array(b),hasCompleted:new Array(b),results:new Array(b)},d=new fc,e=0,f=this._sources.length;f>e;e++){var g=this._sources[e];bb(g)&&(g=jd(g)),d.add(g.subscribe(new Sf(a,c,e,this._cb,d)))}return d},b}(Zc),Sf=function(a){function b(b,c,d,e,f){this._o=b,this._s=c,this._i=d,this._cb=e,this._subs=f,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=a)},b.prototype.error=function(a){this._s.finished=!0,this._o.onError(a),this._subs.dispose()},b.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var a=0;a<this._s.results.length;a++)if(!this._s.hasCompleted[a])return;this._s.finished=!0;var b=eb(this._cb).apply(null,this._s.results);if(b===db)return this._o.onError(b.e);this._o.onNext(b),this._o.onCompleted()}},b}(Tc);Yc.forkJoin=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=cb(b[a-1])?b.pop():R;return Array.isArray(b[0])&&(b=b[0]),new Rf(b,d)},Sc.forkJoin=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;c++)b[c]=arguments[c];return Array.isArray(b[0])?b[0].unshift(this):b.unshift(this),Yc.forkJoin.apply(null,b)},Sc.manySelect=Sc.extend=function(a,b){vc(b)||(b=Wa.Scheduler.immediate);var c=this;return md(function(){var d;return c.map(function(a){var b=new Tf(a);return d&&d.onNext(a),d=b,b}).tap(Xa,function(a){d&&d.onError(a)},function(){d&&d.onCompleted()}).observeOn(b).map(a)},c)};var Tf=function(a){function b(b){a.call(this),this.head=b,this.tail=new Ig}return ac(b,a),bc(b.prototype,Qc,{_subscribe:function(a){var b=new fc;return b.add(Cc.schedule(this,function(c,d){a.onNext(d.head),b.add(d.tail.mergeAll().subscribe(a))})),b},onCompleted:function(){this.onNext(Yc.empty())},onError:function(a){this.onNext(Yc["throw"](a))},onNext:function(a){this.tail.onNext(a),this.tail.onCompleted()}}),b}(Yc),Uf=Va.Map||function(){function a(){this.size=0,this._values=[],this._keys=[]}return a.prototype["delete"]=function(a){var b=this._keys.indexOf(a);return-1===b?!1:(this._values.splice(b,1),this._keys.splice(b,1),this.size--,!0)},a.prototype.get=function(a){var b=this._keys.indexOf(a);return-1===b?g:this._values[b]},a.prototype.set=function(a,b){var c=this._keys.indexOf(a);return-1===c?(this._keys.push(a),this._values.push(b),this.size++):this._values[c]=b,this},a.prototype.forEach=function(a,b){for(var c=0;c<this.size;c++)a.call(b,this._values[c],this._keys[c])},a}();ua.prototype.and=function(a){return new ua(this.patterns.concat(a))},ua.prototype.thenDo=function(a){return new va(this,a)},va.prototype.activate=function(a,b,c){for(var d=[],e=wa(b),f=0,g=this.expression.patterns.length;g>f;f++)d.push(ya(a,this.expression.patterns[f],e));var h=new za(d,xa(this,b),function(){for(var a=0,b=d.length;b>a;a++)d[a].removeActivePlan(h);c(h)});for(f=0,g=d.length;g>f;f++)d[f].addActivePlan(h);return h},za.prototype.dequeue=function(){this.joinObservers.forEach(function(a){a.queue.shift()})},za.prototype.match=function(){var a,b,c=!0;for(a=0,b=this.joinObserverArray.length;b>a;a++)if(0===this.joinObserverArray[a].queue.length){c=!1;break}if(c){var d=[],e=!1;for(a=0,b=this.joinObserverArray.length;b>a;a++)d.push(this.joinObserverArray[a].queue[0]),"C"===this.joinObserverArray[a].queue[0].kind&&(e=!0);if(e)this.onCompleted();else{this.dequeue();var f=[];for(a=0,b=d.length;a<d.length;a++)f.push(d[a].value);this.onNext.apply(this,f)}}};var Vf=function(a){function b(b,c){a.call(this),this.source=b,this.onError=c,this.queue=[],this.activePlans=[],this.subscription=new nc,this.isDisposed=!1}ac(b,a);var c=b.prototype;return c.next=function(a){if(!this.isDisposed){if("E"===a.kind)return this.onError(a.error);this.queue.push(a);for(var b=this.activePlans.slice(0),c=0,d=b.length;d>c;c++)b[c].match()}},c.error=Xa,c.completed=Xa,c.addActivePlan=function(a){this.activePlans.push(a)},c.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},c.removeActivePlan=function(a){this.activePlans.splice(this.activePlans.indexOf(a),1),0===this.activePlans.length&&this.dispose()},c.dispose=function(){a.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},b}(Tc);Sc.and=function(a){return new ua([this,a])},Sc.thenDo=function(a){return new ua([this]).thenDo(a)},Yc.when=function(){var a,b=arguments.length;if(Array.isArray(arguments[0]))a=arguments[0];else{a=new Array(b);for(var c=0;b>c;c++)a[c]=arguments[c]}return new Dg(function(b){var c=[],d=new Uf,e=Rc(function(a){b.onNext(a)},function(a){d.forEach(function(b){b.onError(a)}),b.onError(a)},function(a){b.onCompleted()});try{for(var f=0,g=a.length;g>f;f++)c.push(a[f].activate(d,e,function(a){var d=c.indexOf(a);c.splice(d,1),0===c.length&&b.onCompleted()}))}catch(h){return Ed(h).subscribe(b)}var i=new fc;return d.forEach(function(a){a.subscribe(),i.add(a)}),i})};var Wf=function(a){function b(b,c){this._dt=b,this._s=c,a.call(this)}function c(a,b){b.onNext(0),b.onCompleted()}return ac(b,a),b.prototype.subscribeCore=function(a){return this._s.scheduleFuture(a,this._dt,c)},b}(Zc),Xf=Yc.interval=function(a,b){return Ca(a,a,vc(b)?b:Hc)};Yc.timer=function(a,b,c){var d;return vc(c)||(c=Hc),null!=b&&"number"==typeof b?d=b:vc(b)&&(c=b),(a instanceof Date||"number"==typeof a)&&d===g?Aa(a,c):a instanceof Date&&d!==g?Ba(a,b,c):Ca(a,d,c)};Sc.delay=function(){var a=arguments[0];if("number"==typeof a||a instanceof Date){var b=a,c=arguments[1];return vc(c)||(c=Hc),b instanceof Date?Ea(this,b,c):Da(this,b,c)}if(Yc.isObservable(a)||cb(a))return Fa(this,a,arguments[1]);throw new Error("Invalid arguments")};var Yf=function(a){function b(b,c,d){vc(d)||(d=Hc),this.source=b,this._dt=c,this._s=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new oc;return new pc(this.source.subscribe(new Zf(a,this._dt,this._s,b)),b)},b}(Zc),Zf=function(a){function b(b,c,d,e){this._o=b,this._d=c,this._scheduler=d,
this._c=e,this._v=null,this._hv=!1,this._id=0,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._hv=!0,this._v=a;var b=++this._id,c=new nc;this._c.setDisposable(c),c.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(c,d){d._hv&&d._id===b&&d._o.onNext(a),d._hv=!1}))},b.prototype.error=function(a){this._c.dispose(),this._o.onError(a),this._hv=!1,this._id++},b.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},b}(Tc);Sc.debounce=function(){if(cb(arguments[0]))return Ga(this,arguments[0]);if("number"==typeof arguments[0])return new Yf(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},Sc.windowWithTime=Sc.windowTime=function(a,b,c){var d,e=this;return null==b&&(d=a),vc(c)||(c=Hc),"number"==typeof b?d=b:vc(b)&&(d=a,c=b),new Dg(function(b){function f(){var a=new nc,e=!1,g=!1;l.setDisposable(a),j===i?(e=!0,g=!0):i>j?e=!0:g=!0;var n=e?j:i,o=n-m;m=n,e&&(j+=d),g&&(i+=d),a.setDisposable(c.scheduleFuture(null,o,function(){if(g){var a=new Hg;k.push(a),b.onNext(cc(a,h))}e&&k.shift().onCompleted(),f()}))}var g,h,i=d,j=a,k=[],l=new oc,m=0;return g=new fc(l),h=new rc(g),k.push(new Hg),b.onNext(cc(k[0],h)),f(),g.add(e.subscribe(function(a){for(var b=0,c=k.length;c>b;b++)k[b].onNext(a)},function(a){for(var c=0,d=k.length;d>c;c++)k[c].onError(a);b.onError(a)},function(){for(var a=0,c=k.length;c>a;a++)k[a].onCompleted();b.onCompleted()})),h},e)},Sc.windowWithTimeOrCount=Sc.windowTimeOrCount=function(a,b,c){var d=this;return vc(c)||(c=Hc),new Dg(function(e){function f(b){var d=new nc;g.setDisposable(d),d.setDisposable(c.scheduleFuture(null,a,function(){if(b===k){j=0;var a=++k;l.onCompleted(),l=new Hg,e.onNext(cc(l,i)),f(a)}}))}var g=new oc,h=new fc(g),i=new rc(h),j=0,k=0,l=new Hg;return e.onNext(cc(l,i)),f(0),h.add(d.subscribe(function(a){var c=0,d=!1;l.onNext(a),++j===b&&(d=!0,j=0,c=++k,l.onCompleted(),l=new Hg,e.onNext(cc(l,i))),d&&f(c)},function(a){l.onError(a),e.onError(a)},function(){l.onCompleted(),e.onCompleted()})),i},d)},Sc.bufferWithTime=Sc.bufferTime=function(a,b,c){return this.windowWithTime(a,b,c).flatMap(U)},Sc.bufferWithTimeOrCount=Sc.bufferTimeOrCount=function(a,b,c){return this.windowWithTimeOrCount(a,b,c).flatMap(U)};var $f=function(a){function b(b,c){this.source=b,this._s=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new _f(a,this._s))},b}(Zc),_f=function(a){function b(b,c){this._o=b,this._s=c,this._l=c.now(),a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=this._s.now(),c=b-this._l;this._l=b,this._o.onNext({value:a,interval:c})},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.timeInterval=function(a){return vc(a)||(a=Hc),new $f(this,a)};var ag=function(a){function b(b,c){this.source=b,this._s=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new bg(a,this._s))},b}(Zc),bg=function(a){function b(b,c){this._o=b,this._s=c,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._o.onNext({value:a,timestamp:this._s.now()})},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.timestamp=function(a){return vc(a)||(a=Hc),new ag(this,a)};var cg=function(a){function b(b,c){this.source=b,this._sampler=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b={o:a,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new nc};return b.sourceSubscription.setDisposable(this.source.subscribe(new eg(b))),new pc(b.sourceSubscription,this._sampler.subscribe(new dg(b)))},b}(Zc),dg=function(a){function b(b){this._s=b,a.call(this)}return ac(b,a),b.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},b.prototype.next=function(){this._handleMessage()},b.prototype.error=function(a){this._s.onError(a)},b.prototype.completed=function(){this._handleMessage()},b}(Tc),eg=function(a){function b(b){this._s=b,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._s.hasValue=!0,this._s.value=a},b.prototype.error=function(a){this._s.o.onError(a)},b.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},b}(Tc);Sc.sample=function(a,b){return vc(b)||(b=Hc),"number"==typeof a?new cg(this,Xf(a,b)):new cg(this,a)};var fg=Wa.TimeoutError=function(a){this.message=a||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};fg.prototype=Object.create(Error.prototype),Sc.timeout=function(){var a=arguments[0];if(a instanceof Date||"number"==typeof a)return Ia(this,a,arguments[1],arguments[2]);if(Yc.isObservable(a)||cb(a))return Ha(this,a,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var gg=function(a){function b(b,c,d,e,f,g){this._state=b,this._cndFn=c,this._itrFn=d,this._resFn=e,this._timeFn=f,this._s=g,a.call(this)}function c(a,b){if(a.hasResult&&a.o.onNext(a.result),a.first)a.first=!1;else if(a.newState=eb(a.self._itrFn)(a.newState),a.newState===db)return a.o.onError(a.newState.e);if(a.hasResult=eb(a.self._cndFn)(a.newState),a.hasResult===db)return a.o.onError(a.hasResult.e);if(a.hasResult){if(a.result=eb(a.self._resFn)(a.newState),a.result===db)return a.o.onError(a.result.e);var c=eb(a.self._timeFn)(a.newState);if(c===db)return a.o.onError(c.e);b(a,c)}else a.o.onCompleted()}return ac(b,a),b.prototype.subscribeCore=function(a){var b={o:a,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(b,new Date(this._s.now()),c)},b}(Zc);Yc.generateWithAbsoluteTime=function(a,b,c,d,e,f){return vc(f)||(f=Hc),new gg(a,b,c,d,e,f)};var hg=function(a){function b(b,c,d,e,f,g){this._state=b,this._cndFn=c,this._itrFn=d,this._resFn=e,this._timeFn=f,this._s=g,a.call(this)}function c(a,b){if(a.hasResult&&a.o.onNext(a.result),a.first)a.first=!1;else if(a.newState=eb(a.self._itrFn)(a.newState),a.newState===db)return a.o.onError(a.newState.e);if(a.hasResult=eb(a.self._cndFn)(a.newState),a.hasResult===db)return a.o.onError(a.hasResult.e);if(a.hasResult){if(a.result=eb(a.self._resFn)(a.newState),a.result===db)return a.o.onError(a.result.e);var c=eb(a.self._timeFn)(a.newState);if(c===db)return a.o.onError(c.e);b(a,c)}else a.o.onCompleted()}return ac(b,a),b.prototype.subscribeCore=function(a){var b={o:a,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(b,0,c)},b}(Zc);Yc.generateWithRelativeTime=function(a,b,c,d,e,f){return vc(f)||(f=Hc),new hg(a,b,c,d,e,f)};var ig=function(a){function b(b,c,d){this.source=b,this._dt=c,this._s=d,a.call(this)}function c(a,b){var c=b[0],d=b[1],e=b[2];e.setDisposable(c.subscribe(d))}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new oc;return b.setDisposable(this._s.scheduleFuture([this.source,a,b],this._dt,c)),b},b}(Zc);Sc.delaySubscription=function(a,b){return vc(b)||(b=Hc),new ig(this,a,b)};var jg=function(a){function b(b,c,d){this.source=b,this._d=c,this._s=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new kg(a,this))},b}(Zc),kg=function(a){function b(b,c){this._o=b,this._s=c._s,this._d=c._d,this._q=[],a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=this._s.now();for(this._q.push({interval:b,value:a});this._q.length>0&&b-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){for(var a=this._s.now();this._q.length>0&&a-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},b}(Tc);Sc.skipLastWithTime=function(a,b){return vc(b)||(b=Hc),new jg(this,a,b)};var lg=function(a){function b(b,c,d){this.source=b,this._d=c,this._s=d,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return this.source.subscribe(new mg(a,this._d,this._s))},b}(Zc),mg=function(a){function b(b,c,d){this._o=b,this._d=c,this._s=d,this._q=[],a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=this._s.now();for(this._q.push({interval:b,value:a});this._q.length>0&&b-this._q[0].interval>=this._d;)this._q.shift()},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){for(var a=this._s.now();this._q.length>0;){var b=this._q.shift();a-b.interval<=this._d&&this._o.onNext(b.value)}this._o.onCompleted()},b}(Tc);Sc.takeLastWithTime=function(a,b){return vc(b)||(b=Hc),new lg(this,a,b)},Sc.takeLastBufferWithTime=function(a,b){var c=this;return vc(b)||(b=Hc),new Dg(function(d){var e=[];return c.subscribe(function(c){var d=b.now();for(e.push({interval:d,value:c});e.length>0&&d-e[0].interval>=a;)e.shift()},function(a){d.onError(a)},function(){for(var c=b.now(),f=[];e.length>0;){var g=e.shift();c-g.interval<=a&&f.push(g.value)}d.onNext(f),d.onCompleted()})},c)};var ng=function(a){function b(b,c,d){this.source=b,this._d=c,this._s=d,a.call(this)}function c(a,b){b.onCompleted()}return ac(b,a),b.prototype.subscribeCore=function(a){return new pc(this._s.scheduleFuture(a,this._d,c),this.source.subscribe(a))},b}(Zc);Sc.takeWithTime=function(a,b){return vc(b)||(b=Hc),new ng(this,a,b)};var og=function(a){function b(b,c,d){this.source=b,this._d=c,this._s=d,this._open=!1,a.call(this)}function c(a,b){b._open=!0}return ac(b,a),b.prototype.subscribeCore=function(a){return new pc(this._s.scheduleFuture(this,this._d,c),this.source.subscribe(new pg(a,this)))},b}(Zc),pg=function(a){function b(b,c){this._o=b,this._p=c,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._p._open&&this._o.onNext(a)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.skipWithTime=function(a,b){return vc(b)||(b=Hc),new og(this,a,b)};var qg=function(a){function b(b,c,d){this.source=b,this._st=c,this._s=d,a.call(this)}function c(a,b){b._open=!0}return ac(b,a),b.prototype.subscribeCore=function(a){return this._open=!1,new pc(this._s.scheduleFuture(this,this._st,c),this.source.subscribe(new rg(a,this)))},b}(Zc),rg=function(a){function b(b,c){this._o=b,this._p=c,a.call(this)}return ac(b,a),b.prototype.next=function(a){this._p._open&&this._o.onNext(a)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._o.onCompleted()},b}(Tc);Sc.skipUntilWithTime=function(a,b){return vc(b)||(b=Hc),new qg(this,a,b)},Sc.takeUntilWithTime=function(a,b){vc(b)||(b=Hc);var c=this;return new Dg(function(d){return new pc(b.scheduleFuture(d,a,function(a,b){b.onCompleted()}),c.subscribe(d))},c)},Sc.throttle=function(a,b){vc(b)||(b=Hc);var c=+a||0;if(0>=c)throw new RangeError("windowDuration cannot be less or equal zero.");var d=this;return new Dg(function(a){var e=0;return d.subscribe(function(d){var f=b.now();(0===e||f-e>=c)&&(e=f,a.onNext(d))},function(b){a.onError(b)},function(){a.onCompleted()})},d)};var sg=function(a){function b(b,c){this._o=b,this._xform=c,a.call(this)}return ac(b,a),b.prototype.next=function(a){var b=eb(this._xform["@@transducer/step"]).call(this._xform,this._o,a);b===db&&this._o.onError(b.e)},b.prototype.error=function(a){this._o.onError(a)},b.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},b}(Tc);Sc.transduce=function(a){var b=this;return new Dg(function(c){var d=a(Ja(c));return b.subscribe(new sg(c,d))},b)};var tg=function(a){function b(b){this.source=b,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){var b=new nc,c=new fc,d={hasCurrent:!1,isStopped:!1,o:a,g:c};return c.add(b),b.setDisposable(this.source.subscribe(new ug(d))),c},b}(Zc),ug=function(a){function b(b){this._s=b,a.call(this)}function c(b,c){this._s=b,this._i=c,a.call(this)}return ac(b,a),b.prototype.next=function(a){if(!this._s.hasCurrent){this._s.hasCurrent=!0,bb(a)&&(a=jd(a));var b=new nc;this._s.g.add(b),b.setDisposable(a.subscribe(new c(this._s,b)))}},b.prototype.error=function(a){this._s.o.onError(a)},b.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},ac(c,a),c.prototype.next=function(a){this._s.o.onNext(a)},c.prototype.error=function(a){this._s.o.onError(a)},c.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},b}(Tc);Sc.switchFirst=function(){return new tg(this)},Sc.flatMapFirst=Sc.exhaustMap=function(a,b,c){return new $c(this,a,b,c).switchFirst()},Sc.flatMapWithMaxConcurrent=Sc.flatMapMaxConcurrent=function(a,b,c,d){return new $c(this,b,c,d).merge(a)};var vg=Wa.VirtualTimeScheduler=function(a){function b(b,c){this.clock=b,this.comparer=c,this.isEnabled=!1,this.queue=new dc(1024),a.call(this)}ac(b,a);var c=b.prototype;return c.now=function(){return this.toAbsoluteTime(this.clock)},c.schedule=function(a,b){return this.scheduleAbsolute(a,this.clock,b)},c.scheduleFuture=function(a,b,c){var d=b instanceof Date?this.toRelativeTime(b-this.now()):this.toRelativeTime(b);return this.scheduleRelative(a,d,c)},c.add=pb,c.toAbsoluteTime=pb,c.toRelativeTime=pb,c.schedulePeriodic=function(a,b,c){var d=new yc(this,a,b,c);return d.start()},c.scheduleRelative=function(a,b,c){var d=this.add(this.clock,b);return this.scheduleAbsolute(a,d,c)},c.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var a=this.getNext();null!==a?(this.comparer(a.dueTime,this.clock)>0&&(this.clock=a.dueTime),a.invoke()):this.isEnabled=!1}while(this.isEnabled)}},c.stop=function(){this.isEnabled=!1},c.advanceTo=function(a){var b=this.comparer(this.clock,a);if(this.comparer(this.clock,a)>0)throw new mb;if(0!==b&&!this.isEnabled){this.isEnabled=!0;do{var c=this.getNext();null!==c&&this.comparer(c.dueTime,a)<=0?(this.comparer(c.dueTime,this.clock)>0&&(this.clock=c.dueTime),c.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=a}},c.advanceBy=function(a){var b=this.add(this.clock,a),c=this.comparer(this.clock,b);if(c>0)throw new mb;0!==c&&this.advanceTo(b)},c.sleep=function(a){var b=this.add(this.clock,a);if(this.comparer(this.clock,b)>=0)throw new mb;this.clock=b},c.getNext=function(){for(;this.queue.length>0;){var a=this.queue.peek();if(!a.isCancelled())return a;this.queue.dequeue()}return null},c.scheduleAbsolute=function(a,b,c){function d(a,b){return e.queue.remove(f),c(a,b)}var e=this,f=new sc(this,a,d,b,this.comparer);return this.queue.enqueue(f),f.disposable},b}(tc);Wa.HistoricalScheduler=function(a){function b(b,c){var d=null==b?0:b,e=c||_a;a.call(this,d,e)}ac(b,a);var c=b.prototype;return c.add=function(a,b){return a+b},c.toAbsoluteTime=function(a){return new Date(a).getTime()},c.toRelativeTime=function(a){return a},b}(Wa.VirtualTimeScheduler),Ka.prototype.equals=function(a){return a===this?!0:null==a?!1:"N"!==a.kind?!1:this.predicate(a.value)},La.prototype.equals=function(a){return a===this?!0:null==a?!1:"E"!==a.kind?!1:this.predicate(a.error)};var wg=Wa.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(a,b){return"function"==typeof b?new xg(a,new Ka(b)):new xg(a,Jc.createOnNext(b))},onError:function(a,b){return"function"==typeof b?new xg(a,new La(b)):new xg(a,Jc.createOnError(b))},onCompleted:function(a){return new xg(a,Jc.createOnCompleted())},subscribe:function(a,b){return new yg(a,b)}},xg=Wa.Recorded=function(a,b,c){this.time=a,this.value=b,this.comparer=c||$a};xg.prototype.equals=function(a){return this.time===a.time&&this.comparer(this.value,a.value)},xg.prototype.toString=function(){return this.value.toString()+"@"+this.time};var yg=Wa.Subscription=function(a,b){this.subscribe=a,this.unsubscribe=b||Number.MAX_VALUE};yg.prototype.equals=function(a){return this.subscribe===a.subscribe&&this.unsubscribe===a.unsubscribe},yg.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"};var zg=Wa.MockDisposable=function(a){this.scheduler=a,this.disposes=[],this.disposes.push(this.scheduler.clock)};zg.prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var Ag=function(a){function b(b){a.call(this),this.scheduler=b,this.messages=[]}ac(b,a);var c=b.prototype;return c.onNext=function(a){this.messages.push(new xg(this.scheduler.clock,Jc.createOnNext(a)))},c.onError=function(a){this.messages.push(new xg(this.scheduler.clock,Jc.createOnError(a)))},c.onCompleted=function(){this.messages.push(new xg(this.scheduler.clock,Jc.createOnCompleted()))},b}(Qc);Ma.prototype.then=function(a,b){var c=this;this.subscriptions.push(new yg(this.scheduler.clock));var d,e=this.subscriptions.length-1,f=Wa.Observer.create(function(b){var h=a(b);if(h&&"function"==typeof h.then)d=h;else{var i=c.scheduler.clock;d=new Ma(c.scheduler,[Wa.ReactiveTest.onNext(i,g),Wa.ReactiveTest.onCompleted(i)])}var j=c.observers.indexOf(f);c.observers.splice(j,1),c.subscriptions[e]=new yg(c.subscriptions[e].subscribe,c.scheduler.clock)},function(a){b(a);var d=c.observers.indexOf(f);c.observers.splice(d,1),c.subscriptions[e]=new yg(c.subscriptions[e].subscribe,c.scheduler.clock)});return this.observers.push(f),d||new Ma(this.scheduler,this.messages)};var Bg=function(a){function b(b,c){a.call(this);var d,e,f=this;this.scheduler=b,this.messages=c,this.subscriptions=[],this.observers=[];for(var g=0,h=this.messages.length;h>g;g++)d=this.messages[g],e=d.value,function(a){b.scheduleAbsolute(null,d.time,function(){for(var b=f.observers.slice(0),c=0,d=b.length;d>c;c++)a.accept(b[c]);return jc})}(e)}return ac(b,a),b.prototype._subscribe=function(a){var b=this;this.observers.push(a),this.subscriptions.push(new yg(this.scheduler.clock));var c=this.subscriptions.length-1;return ic(function(){var d=b.observers.indexOf(a);b.observers.splice(d,1),b.subscriptions[c]=new yg(b.subscriptions[c].subscribe,b.scheduler.clock)})},b}(Yc),Cg=function(a){function b(b,c){a.call(this),this.scheduler=b,this.messages=c,this.subscriptions=[]}return ac(b,a),b.prototype._subscribe=function(a){var b,c,d=this;this.subscriptions.push(new yg(this.scheduler.clock));for(var e=this.subscriptions.length-1,f=new fc,g=0,h=this.messages.length;h>g;g++)b=this.messages[g],c=b.value,function(c){f.add(d.scheduler.scheduleRelative(null,b.time,function(){return c.accept(a),jc}))}(c);return ic(function(){d.subscriptions[e]=new yg(d.subscriptions[e].subscribe,d.scheduler.clock),f.dispose()})},b}(Yc);Wa.TestScheduler=function(a){function b(a,b){return a>b?1:b>a?-1:0}function c(){a.call(this,0,b)}return ac(c,a),c.prototype.scheduleAbsolute=function(b,c,d){return c<=this.clock&&(c=this.clock+1),a.prototype.scheduleAbsolute.call(this,b,c,d)},c.prototype.add=function(a,b){return a+b},c.prototype.toAbsoluteTime=function(a){return new Date(a).getTime()},c.prototype.toRelativeTime=function(a){return a},c.prototype.startScheduler=function(a,b){b||(b={}),null==b.created&&(b.created=wg.created),null==b.subscribed&&(b.subscribed=wg.subscribed),null==b.disposed&&(b.disposed=wg.disposed);var c,d,e=this.createObserver();return this.scheduleAbsolute(null,b.created,function(){return c=a(),jc}),this.scheduleAbsolute(null,b.subscribed,function(){return d=c.subscribe(e),jc}),this.scheduleAbsolute(null,b.disposed,function(){return d.dispose(),jc}),this.start(),e},c.prototype.createHotObservable=function(){var a,b=arguments.length;if(Array.isArray(arguments[0]))a=arguments[0];else{a=new Array(b);for(var c=0;b>c;c++)a[c]=arguments[c]}return new Bg(this,a)},c.prototype.createColdObservable=function(){var a,b=arguments.length;if(Array.isArray(arguments[0]))a=arguments[0];else{a=new Array(b);for(var c=0;b>c;c++)a[c]=arguments[c]}return new Cg(this,a)},c.prototype.createResolvedPromise=function(a,b){return new Ma(this,[Wa.ReactiveTest.onNext(a,b),Wa.ReactiveTest.onCompleted(a)])},c.prototype.createRejectedPromise=function(a,b){return new Ma(this,[Wa.ReactiveTest.onError(a,b)])},c.prototype.createObserver=function(){return new Ag(this)},c}(vg);var Dg=Wa.AnonymousObservable=function(a){function b(a){return a&&cb(a.dispose)?a:cb(a)?ic(a):jc}function c(a,c){var d=c[0],e=c[1],f=eb(e.__subscribe).call(e,d);f!==db||d.fail(db.e)||k(db.e),d.setDisposable(b(f))}function d(b,c){this.source=c,this.__subscribe=b,a.call(this)}return ac(d,a),d.prototype._subscribe=function(a){var b=new Eg(a),d=[b,this];return Cc.scheduleRequired()?Cc.schedule(d,c):c(null,d),b},d}(Yc),Eg=function(a){function b(b){a.call(this),this.observer=b,this.m=new nc}ac(b,a);var c=b.prototype;return c.next=function(a){var b=eb(this.observer.onNext).call(this.observer,a);b===db&&(this.dispose(),k(b.e))},c.error=function(a){var b=eb(this.observer.onError).call(this.observer,a);this.dispose(),b===db&&k(b.e)},c.completed=function(){var a=eb(this.observer.onCompleted).call(this.observer);this.dispose(),a===db&&k(a.e)},c.setDisposable=function(a){this.m.setDisposable(a)},c.getDisposable=function(){return this.m.getDisposable()},c.dispose=function(){a.prototype.dispose.call(this),this.m.dispose()},b}(Tc),Fg=function(a){function b(b,c){this._m=b,this._u=c,a.call(this)}return ac(b,a),b.prototype.subscribeCore=function(a){return new pc(this._m.getDisposable(),this._u.subscribe(a))},b}(Zc),Gg=function(a){function b(b,c,d){a.call(this),this.key=b,this.underlyingObservable=d?new Fg(d,c):c}return ac(b,a),b.prototype._subscribe=function(a){return this.underlyingObservable.subscribe(a)},b}(Yc),Hg=Wa.Subject=function(a){function b(){a.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return ac(b,a),bc(b.prototype,Qc.prototype,{_subscribe:function(a){return lc(this),this.isStopped?this.hasError?(a.onError(this.error),jc):(a.onCompleted(),jc):(this.observers.push(a),new If(this,a))},hasObservers:function(){return lc(this),this.observers.length>0},onCompleted:function(){if(lc(this),!this.isStopped){this.isStopped=!0;for(var a=0,b=i(this.observers),c=b.length;c>a;a++)b[a].onCompleted();this.observers.length=0}},onError:function(a){if(lc(this),!this.isStopped){this.isStopped=!0,this.error=a,this.hasError=!0;for(var b=0,c=i(this.observers),d=c.length;d>b;b++)c[b].onError(a);this.observers.length=0}},onNext:function(a){if(lc(this),!this.isStopped)for(var b=0,c=i(this.observers),d=c.length;d>b;b++)c[b].onNext(a)},dispose:function(){this.isDisposed=!0,this.observers=null}}),b.create=function(a,b){return new Lg(a,b)},b}(Yc),Ig=Wa.AsyncSubject=function(a){function b(){a.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return ac(b,a),bc(b.prototype,Qc.prototype,{_subscribe:function(a){return lc(this),this.isStopped?(this.hasError?a.onError(this.error):this.hasValue?(a.onNext(this.value),a.onCompleted()):a.onCompleted(),jc):(this.observers.push(a),new If(this,a))},hasObservers:function(){return lc(this),this.observers.length>0},onCompleted:function(){var a,b;if(lc(this),!this.isStopped){this.isStopped=!0;var c=i(this.observers),b=c.length;if(this.hasValue)for(a=0;b>a;a++){var d=c[a];d.onNext(this.value),d.onCompleted()}else for(a=0;b>a;a++)c[a].onCompleted();this.observers.length=0}},onError:function(a){if(lc(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=a;for(var b=0,c=i(this.observers),d=c.length;d>b;b++)c[b].onError(a);this.observers.length=0}},onNext:function(a){lc(this),this.isStopped||(this.value=a,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),b}(Yc),Jg=Wa.BehaviorSubject=function(a){function b(b){a.call(this),this.value=b,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return ac(b,a),bc(b.prototype,Qc.prototype,{_subscribe:function(a){return lc(this),this.isStopped?(this.hasError?a.onError(this.error):a.onCompleted(),jc):(this.observers.push(a),a.onNext(this.value),new If(this,a))},getValue:function(){return lc(this),this.hasError&&k(this.error),this.value},hasObservers:function(){return lc(this),this.observers.length>0},onCompleted:function(){if(lc(this),!this.isStopped){this.isStopped=!0;for(var a=0,b=i(this.observers),c=b.length;c>a;a++)b[a].onCompleted();this.observers.length=0}},onError:function(a){if(lc(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=a;for(var b=0,c=i(this.observers),d=c.length;d>b;b++)c[b].onError(a);this.observers.length=0}},onNext:function(a){if(lc(this),!this.isStopped){this.value=a;for(var b=0,c=i(this.observers),d=c.length;d>b;b++)c[b].onNext(a)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),b}(Yc),Kg=Wa.ReplaySubject=function(a){function b(a,b){return ic(function(){b.dispose(),!a.isDisposed&&a.observers.splice(a.observers.indexOf(b),1)})}function c(b,c,e){this.bufferSize=null==b?d:b,this.windowSize=null==c?d:c,this.scheduler=e||Cc,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,a.call(this)}var d=Math.pow(2,53)-1;return ac(c,a),bc(c.prototype,Qc.prototype,{_subscribe:function(a){lc(this);var c=new Wc(this.scheduler,a),d=b(this,c);this._trim(this.scheduler.now()),this.observers.push(c);for(var e=0,f=this.q.length;f>e;e++)c.onNext(this.q[e].value);return this.hasError?c.onError(this.error):this.isStopped&&c.onCompleted(),c.ensureActive(),d},hasObservers:function(){return lc(this),this.observers.length>0},_trim:function(a){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&a-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(a){if(lc(this),!this.isStopped){var b=this.scheduler.now();this.q.push({interval:b,value:a}),this._trim(b);for(var c=0,d=i(this.observers),e=d.length;e>c;c++){var f=d[c];f.onNext(a),f.ensureActive()}}},onError:function(a){if(lc(this),!this.isStopped){this.isStopped=!0,this.error=a,this.hasError=!0;var b=this.scheduler.now();this._trim(b);for(var c=0,d=i(this.observers),e=d.length;e>c;c++){var f=d[c];f.onError(a),f.ensureActive()}this.observers.length=0}},onCompleted:function(){if(lc(this),!this.isStopped){this.isStopped=!0;var a=this.scheduler.now();this._trim(a);for(var b=0,c=i(this.observers),d=c.length;d>b;b++){var e=c[b];e.onCompleted(),e.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),c}(Yc),Lg=Wa.AnonymousSubject=function(a){function b(b,c){this.observer=b,this.observable=c,a.call(this)}return ac(b,a),bc(b.prototype,Qc.prototype,{_subscribe:function(a){return this.observable.subscribe(a)},onCompleted:function(){this.observer.onCompleted()},onError:function(a){this.observer.onError(a)},onNext:function(a){this.observer.onNext(a)}}),b}(Yc);Wa.Pauser=function(a){function b(){a.call(this)}return ac(b,a),b.prototype.pause=function(){this.onNext(!1)},b.prototype.resume=function(){this.onNext(!0)},b}(Hg),Va.Rx=Wa,d=function(){return Wa}.call(b,c,b,a),!(d!==g&&(a.exports=d));var Mg=p()}).call(this)}).call(b,c(10)(a),function(){return this}(),c(11))},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b){function c(){j=!1,g.length?i=g.concat(i):k=-1,i.length&&d()}function d(){if(!j){var a=setTimeout(c);j=!0;for(var b=i.length;b;){for(g=i,i=[];++k<b;)g&&g[k].run();k=-1,b=i.length}g=null,j=!1,clearTimeout(a)}}function e(a,b){this.fun=a,this.array=b}function f(){}var g,h=a.exports={},i=[],j=!1,k=-1;h.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new e(a,b)),1!==i.length||j||setTimeout(d,0)},e.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.binding=function(a){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(a){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(8),f=d(e);b["default"]=function(){var a=function(){};return(0,f["default"])(a),new a},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5);b["default"]=function(a,b,c){return a=a.split("."),function(e){var f=(0,d.path)(a)(e);return b||c?b+f+c:f}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b,c){if(!a.graphsData)return b;var d=(0,e.omit)(c,a.graphsData);return(0,e.isEmpty)(d)||(b.graphsData=d),(0,e.merge)(b,a.graphsData[c]||{})}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=function(a){return"undefined"==typeof a},g=function i(a){var b=a.generalDataConnections,c=a.item,f=a.itemsIdToItemsMap,g=a.toDiagramName,h={};h.id=c.id,c.description?h.text+=c.name+": "+c.description:h.text=c.name;var j=(0,e.filter)((0,e.propEq)("to",c.id),b);return j.length>0&&(h.items=(0,e.map)(function(a){return i({generalDataConnections:b,item:f[a.from],itemsIdToItemsMap:f,toDiagramName:g})},j)),d(c,h,g)},h=function(a){function b(j){var k=void 0,l=void 0,m=void 0;return d.indexOf(j)>-1?void(g=!0):(d.push(j),f(i[j.id])===!1?k=i[j.id]:(k=(0,e.filter)((0,e.propEq)("from",j.id))(a.connections),i[j.id]=k),void(0===k.length?c?c.id!==j.id&&(g=!0):c=j:1===k.length?(l=k[0].to,f(h[l])===!1?m=h[l]:(m=(0,e.find)((0,e.propEq)("id",l))(a.items),h[l]=m),b(m)):g=!0))}var c=void 0,d=void 0,g=!1,h={},i={};return(0,e.forEach)(function(a){g===!1&&(d=[],h[a.id]=a,b(a))},a.items),{FPNRecursiveFailed:g,itemsIdToItemsMap:h,parentNode:c}};b["default"]=(0,e.curry)(function(a,b,c){var d=h(c),e=d.FPNRecursiveFailed,f=d.itemsIdToItemsMap,i=d.parentNode;return e?(a("The data structure is not suitable for this diagram"),[]):g({generalDataConnections:c.connections,item:i,itemsIdToItemsMap:f,toDiagramName:b})}),a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(16),g=d(f),h=c(18),i=function(a){var b=a.codeBlock,c=a.matchStr,d=a.text;return c===d&&/\n/.test(c)===!1?b:" <CODE...>"};b["default"]=function(a){return(0,h.startsWithEditedDescriptionToken)(a)?"(...)":(0,e.compose)((0,e.partialRight)(g["default"],[i]),(0,e.replace)(/<\/p>/g,". "),(0,e.replace)(/<br>/g," "),(0,e.replace)(/<p>/g,""))(a)},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=c(17);b["default"]=(0,d.curry)(function(a,b){if(!a)return"";var c=a.match(e.UNPROCESSED_CODE_FRAGMENT_REGEXP);return a.replace(e.UNPROCESSED_CODE_FRAGMENT_REGEXP,function(d,e,f){return b({allMatches:c,codeBlock:f,language:e,matchStr:d,text:a})})}),a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=5,f=["strong","code","pre","br","span","p"],g=(0,d.compose)(d.reverse,(0,d.map)(d.inc),(0,d.range)(0))(e),h="{diagrams-classed-div}",i="{:diagrams-classed-div}",j="{::diagrams-classed-div}",k=/``([\s\S]*?)``([\s\S]*?)``/g;b["default"]={CLASSED_DIV_TOKEN_FIRST:h,CLASSED_DIV_TOKEN_SECOND:i,CLASSED_DIV_TOKEN_THIRD:j,TAGS_TO_ENCODE:f,TOKENS_REPLACED_LEVELS:g,UNPROCESSED_CODE_FRAGMENT_REGEXP:k},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c="::DIAGRAMS-EDITED::";b["default"]={getEditedDescriptionToken:function(){return c},removeEditedDescriptionToken:function(a){return a?a.replace(new RegExp(c,"gm"),""):a},startsWithEditedDescriptionToken:function(a){return a.substr(0,c.length)===c}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(17),g=c(16),h=d(g),i=c(20),j=d(i),k=c(18);b["default"]=function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return(0,e.compose)(o,r("decode"),l,r("encode"),s,k.removeEditedDescriptionToken)(a)};var l=(0,e.compose)((0,e.replace)(/>/g,"&gt;"),(0,e.replace)(/</g,"&lt;")),m=(0,
j["default"])(),n=function(a,b){var c=m["lvl"+b+"Tkns"];return a.replace(c.regexp,'<div class="$1">$2</div>')},o=(0,e.reduce)(n,e.__,f.TOKENS_REPLACED_LEVELS),p=function(a,b,c){return a.replace(new RegExp(b,"g"),c)},q=(0,e.curry)(function(a,b,c){var d=["<"+c+"(.*?)>","<"+c+"$1>",c+"DIAGSA(.*?)DIAGSB"+c+"DIAGSC",c+"DIAGSA$1DIAGSB"+c+"DIAGSC"],f="</"+c+">",g=c+"ENDREPLACEDDIAGRAMS",h=[f,f,g,g];return(0,e.reduce)(function(a,c){return"encode"===b?p(a,c[0],c[3]):"decode"===b?p(a,c[2],c[1]):void 0},a,[d,h])}),r=(0,e.curry)(function(a,b){return(0,e.reduce)(q(e.__,a,e.__),b,f.TAGS_TO_ENCODE)}),s=(0,h["default"])(e.__,function(a){var b=a.allMatches,c=a.codeBlock,d=a.language,f=a.matchStr,g=f===(0,e.last)(b);return"<pre"+(g?' class="last-code-block" ':"")+"><code>"+(hljs.highlight(d,c).value+"</pre></code>")});a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=c(17),f=function(a){var b=""+e.CLASSED_DIV_TOKEN_FIRST+a,c=""+e.CLASSED_DIV_TOKEN_SECOND+a,d=""+e.CLASSED_DIV_TOKEN_THIRD+a;return{firstToken:b,regexp:new RegExp(b+"(.*?)"+c+"(.*?)"+d,"gm"),secondToken:c,thirdToken:d}},g=function(a,b){return(0,d.assoc)("lvl"+b+"Tkns",f(b),a)},h=(0,d.reduce)(g,{},e.TOKENS_REPLACED_LEVELS);b["default"]=function(){return h},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a,b){var c=b?"<br>"+b:"";return"<strong>"+a+"</strong>"+c},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5);b["default"]=function(){var a=window.location.search.substring(1),b=a?a.split("&"):[],c=(0,d.reduce)(function(a,b){var c=b.split("="),e=c[0],f=c[1],g=a[e];if("undefined"==typeof g)return(0,d.assoc)(e,decodeURIComponent(f),a);if("string"==typeof g){var h=[g,decodeURIComponent(f)];return(0,d.assoc)(e,h,a)}return(0,d.assoc)(e,(0,d.append)(decodeURIComponent(f),g),a)},{},b);return c},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(13),f=d(e);b["default"]=function(a){var b=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return(0,f["default"])(a,0,b)},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=(0,d.curry)(function(a,b){return(0,d.converge)((0,d.assoc)(b),[(0,d.prop)(a),d.identity])}),f=(0,d.addIndex)(d.forEach),g=function(a){return"undefined"==typeof a},h=(0,d.filter)((0,d.compose)(d.not,g));b["default"]={each:f,refToProp:e,removeUndefined:h},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a){"complete"===document.readyState?a():window.onload=a},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(13),f=d(e);b["default"]=function(a,b,c){return b=b||"",c=c||"",(0,f["default"])(a,b,c)},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a){return"<p>"+a+"</p>"},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(2);b["default"]=(0,d.createAnEventEmitter)(),a.exports=b["default"]},function(a,b,c){"use strict";function d(a){if(h[i].indexOf(a)>-1)throw new Error("The key already exists: "+a)}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=void 0,g=function(){return f={}},h={get:function(a){return d(a),f[a]},getWithStartingBreakLine:function(){return"<br>"+h.get.apply(h,arguments)},reset:function(){g()},set:function(a){h.throwIfSharedMethodsAlreadyExists(a);for(var b in a)f[b]=a[b]},throwIfSharedMethodsAlreadyExists:function(a){(0,e.compose)((0,e.forEach)(d),e.keys)(a)}},i="builtInMethods";h[i]=(0,e.keys)(h).concat(i),g(),b["default"]=h,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(31),f=c(1),g=d(f),h=function(a){for(var b=a.self,c=a.text,d=a.textLength,e=a.width;d>e&&c.length>0;)c=c.slice(0,-4),b.text(c+"..."),d=b.node().getComputedTextLength()},i=function(a){var b=a.deviation,c=a.filter,d=a.slope;c.append("feOffset").attr({dx:.5,dy:.5,"in":"SourceGraphic",result:"offOut"}),c.append("feGaussianBlur").attr({"in":"offOut",result:"blurOut",stdDeviation:b}),c.append("feBlend").attr({"in":"SourceGraphic",in2:"blurOut",mode:"normal"}),c.append("feComponentTransfer").append("feFuncA").attr({slope:d,type:"linear"})},j={addFilterColor:function(a){var b=a.container,c=a.deviation,d=a.extra,e=a.id,f=a.slope,g=b.append("defs"),h=g.append("filter").attr({id:"diagrams-drop-shadow-"+e});d&&h.attr({height:"500%",width:"500%",x:"-200%",y:"-200%"}),i({deviation:c,filter:h,slope:f})},addVerticalGradientFilter:function(a,b,c){var d=a.append("defs"),e=d.append("linearGradient").attr({id:b,x1:"0%",x2:"0%",y1:"0%",y2:"100%"});e.append("stop").attr("offset","0%").style({"stop-color":c[0],"stop-opacity":1}),e.append("stop").attr("offset","100%").style({"stop-color":c[1],"stop-opacity":1})},generateSvg:function(a){var b=j.getDiagramWrapperStr(),c=document.body.getBoundingClientRect();return(0,e.select)(b).append("svg").attr({height:4e3,width:c.width-40}).style(a)},insertInBodyBeforeSvg:function(a){var b=j.getDiagramWrapperStr(),c=(0,e.select)("body"),d="body"===b?"svg":b,f=c.insert(a,d);return f},textEllipsis:function(a){return function(){var b=(0,e.select)(this),c=b.node().getComputedTextLength(),d=b.text();h({self:b,text:d,textLength:c,width:a})}},updateHeigthOfElWithOtherEl:function(a,b,c){a.attr({height:b[0][0].getBoundingClientRect().height+(c||0)})}};j.getDiagramWrapperStr=function(){return g["default"].diagramsWrapperSelector||"body"},j.fullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null},j.selectScreenHeightOrHeight=function(a){return g["default"].svg.fullscreenElement()?screen.height-30:a},b["default"]=j,a.exports=b["default"]},function(a,b,c){var d,e;!function(){function f(a){return a&&(a.ownerDocument||a.document||a).documentElement}function g(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function h(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function i(a){return null===a?NaN:+a}function j(a){return!isNaN(a)}function k(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function l(a){return a.length}function m(a){for(var b=1;a*b%1;)b*=10;return b}function n(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function o(){this._=Object.create(null)}function p(a){return(a+="")===zg||a[0]===Ag?Ag+a:a}function q(a){return(a+="")[0]===Ag?a.slice(1):a}function r(a){return p(a)in this._}function s(a){return(a=p(a))in this._&&delete this._[a]}function t(){var a=[];for(var b in this._)a.push(q(b));return a}function u(){var a=0;for(var b in this._)++a;return a}function v(){for(var a in this._)return!1;return!0}function w(){this._=Object.create(null)}function x(a){return a}function y(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function z(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=Bg.length;d>c;++c){var e=Bg[c]+b;if(e in a)return e}}function A(){}function B(){}function C(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new o;return b.on=function(b,e){var f,g=d.get(b);return arguments.length<2?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function D(){mg.event.preventDefault()}function E(){for(var a,b=mg.event;a=b.sourceEvent;)b=a;return b}function F(a){for(var b=new B,c=0,d=arguments.length;++c<d;)b[arguments[c]]=C(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=mg.event;e.target=a,mg.event=e,b[e.type].apply(c,d)}finally{mg.event=f}}},b}function G(a){return Dg(a,Hg),a}function H(a){return"function"==typeof a?a:function(){return Eg(a,this)}}function I(a){return"function"==typeof a?a:function(){return Fg(a,this)}}function J(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=mg.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e}function K(a){return a.trim().replace(/\s+/g," ")}function L(a){return new RegExp("(?:^|\\s+)"+mg.requote(a)+"(?:\\s+|$)","g")}function M(a){return(a+"").trim().split(/^|\s+/)}function N(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=M(a).map(O);var e=a.length;return"function"==typeof b?d:c}function O(a){var b=L(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",K(e+" "+a))):c.setAttribute("class",K(e.replace(b," ")))}}function P(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function Q(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function R(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c===Ig&&b.documentElement.namespaceURI===Ig?b.createElement(a):b.createElementNS(c,a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=mg.ns.qualify(a)).local?c:b}function S(){var a=this.parentNode;a&&a.removeChild(this)}function T(a){return{__data__:a}}function U(a){return function(){return Gg(this,a)}}function V(a){return arguments.length||(a=h),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function W(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],g=0,h=f.length;h>g;g++)(e=f[g])&&b(e,g,c);return a}function X(a){return Dg(a,Kg),a}function Y(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}function Z(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=i(b,og(arguments));d.call(this),this.addEventListener(a,this[g]=e,e.$=c),e._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+mg.requote(a)+"$");for(var d in this)if(b=d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$),delete this[d]}}var g="__on"+a,h=a.indexOf("."),i=$;h>0&&(a=a.slice(0,h));var j=Lg.get(a);return j&&(a=j,i=_),h?b?e:d:b?A:f}function $(a,b){return function(c){var d=mg.event;mg.event=c,b[0]=this.__data__;try{a.apply(this,b)}finally{mg.event=d}}}function _(a,b){var c=$(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function aa(a){var b=".dragsuppress-"+ ++Ng,c="click"+b,d=mg.select(g(a)).on("touchmove"+b,D).on("dragstart"+b,D).on("selectstart"+b,D);if(null==Mg&&(Mg="onselectstart"in a?!1:z(a.style,"userSelect")),Mg){var e=f(a).style,h=e[Mg];e[Mg]="none"}return function(a){if(d.on(b,null),Mg&&(e[Mg]=h),a){var f=function(){d.on(c,null)};d.on(c,function(){D(),f()},!0),setTimeout(f,0)}}}function ba(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>Og){var e=g(a);if(e.scrollX||e.scrollY){c=mg.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var f=c[0][0].getScreenCTM();Og=!(f.f||f.e),c.remove()}}return Og?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY),d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var h=a.getBoundingClientRect();return[b.clientX-h.left-a.clientLeft,b.clientY-h.top-a.clientTop]}function ca(){return mg.event.changedTouches[0].identifier}function da(a){return a>0?1:0>a?-1:0}function ea(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function fa(a){return a>1?0:-1>a?Rg:Math.acos(a)}function ga(a){return a>1?Ug:-1>a?-Ug:Math.asin(a)}function ha(a){return((a=Math.exp(a))-1/a)/2}function ia(a){return((a=Math.exp(a))+1/a)/2}function ja(a){return((a=Math.exp(2*a))-1)/(a+1)}function ka(a){return(a=Math.sin(a/2))*a}function la(){}function ma(a,b,c){return this instanceof ma?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof ma?new ma(a.h,a.s,a.l):Aa(""+a,Ba,ma):new ma(a,b,c)}function na(a,b,c){function d(a){return a>360?a-=360:0>a&&(a+=360),60>a?f+(g-f)*a/60:180>a?g:240>a?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:0>b?0:b>1?1:b,c=0>c?0:c>1?1:c,g=.5>=c?c*(1+b):c+b-c*b,f=2*c-g,new wa(e(a+120),e(a),e(a-120))}function oa(a,b,c){return this instanceof oa?(this.h=+a,this.c=+b,void(this.l=+c)):arguments.length<2?a instanceof oa?new oa(a.h,a.c,a.l):a instanceof qa?sa(a.l,a.a,a.b):sa((a=Ca((a=mg.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new oa(a,b,c)}function pa(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new qa(c,Math.cos(a*=Vg)*b,Math.sin(a)*b)}function qa(a,b,c){return this instanceof qa?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof qa?new qa(a.l,a.a,a.b):a instanceof oa?pa(a.h,a.c,a.l):Ca((a=wa(a)).r,a.g,a.b):new qa(a,b,c)}function ra(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=ta(e)*eh,d=ta(d)*fh,f=ta(f)*gh,new wa(va(3.2404542*e-1.5371385*d-.4985314*f),va(-.969266*e+1.8760108*d+.041556*f),va(.0556434*e-.2040259*d+1.0572252*f))}function sa(a,b,c){return a>0?new oa(Math.atan2(c,b)*Wg,Math.sqrt(b*b+c*c),a):new oa(NaN,NaN,a)}function ta(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function ua(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function va(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function wa(a,b,c){return this instanceof wa?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof wa?new wa(a.r,a.g,a.b):Aa(""+a,wa,na):new wa(a,b,c)}function xa(a){return new wa(a>>16,a>>8&255,255&a)}function ya(a){return xa(a)+""}function za(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Aa(a,b,c){var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(Ea(e[0]),Ea(e[1]),Ea(e[2]))}return(f=jh.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g=g>>4|g,h=240&f,h=h>>4|h,i=15&f,i=i<<4|i):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function Ba(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=.5>i?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(c>b?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&1>i?0:d),new ma(d,e,i)}function Ca(a,b,c){a=Da(a),b=Da(b),c=Da(c);var d=ua((.4124564*a+.3575761*b+.1804375*c)/eh),e=ua((.2126729*a+.7151522*b+.072175*c)/fh),f=ua((.0193339*a+.119192*b+.9503041*c)/gh);return qa(116*e-16,500*(d-e),200*(e-f))}function Da(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Ea(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function Fa(a){return"function"==typeof a?a:function(){return a}}function Ga(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Ha(b,c,a,d)}}function Ha(a,b,c,d){function e(){var a,b=i.status;if(!b&&Ja(i)||b>=200&&300>b||304===b){try{a=c.call(f,i)}catch(d){return void g.error.call(f,d)}g.load.call(f,a)}else g.error.call(f,i)}var f={},g=mg.dispatch("beforesend","progress","load","error"),h={},i=new XMLHttpRequest,j=null;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(a)||(i=new XDomainRequest),"onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()},i.onprogress=function(a){var b=mg.event;mg.event=a;try{g.progress.call(f,i)}finally{mg.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?h[a]:(null==b?delete h[a]:h[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(j=a,f):j},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(og(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),i.open(c,a,!0),null==b||"accept"in h||(h.accept=b+",*/*"),i.setRequestHeader)for(var k in h)i.setRequestHeader(k,h[k]);return null!=b&&i.overrideMimeType&&i.overrideMimeType(b),null!=j&&(i.responseType=j),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,i),i.send(null==d?null:d),f},f.abort=function(){return i.abort(),f},mg.rebind(f,g,"on"),null==d?f:f.get(Ia(d))}function Ia(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Ja(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Ka(a,b,c){var d=arguments.length;2>d&&(b=0),3>d&&(c=Date.now());var e=c+b,f={c:a,t:e,n:null};return lh?lh.n=f:kh=f,lh=f,mh||(nh=clearTimeout(nh),mh=1,oh(La)),f}function La(){var a=Ma(),b=Na()-a;b>24?(isFinite(b)&&(clearTimeout(nh),nh=setTimeout(La,b)),mh=0):(mh=1,oh(La))}function Ma(){for(var a=Date.now(),b=kh;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function Na(){for(var a,b=kh,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:kh=b.n;return lh=a,c}function Oa(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Pa(a,b){var c=Math.pow(10,3*yg(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function Qa(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],i=0;e>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>b));)h=d[g=(g+1)%d.length];return f.reverse().join(c)}:x;return function(a){var c=qh.exec(a),d=c[1]||" ",g=c[2]||">",h=c[3]||"-",i=c[4]||"",j=c[5],k=+c[6],l=c[7],m=c[8],n=c[9],o=1,p="",q="",r=!1,s=!0;switch(m&&(m=+m.substring(1)),(j||"0"===d&&"="===g)&&(j=d="0",g="="),n){case"n":l=!0,n="g";break;case"%":o=100,q="%",n="f";break;case"p":o=100,q="%",n="r";break;case"b":case"o":case"x":case"X":"#"===i&&(p="0"+n.toLowerCase());case"c":s=!1;case"d":r=!0,m=0;break;case"s":o=-1,n="r"}"$"===i&&(p=e[0],q=e[1]),"r"!=n||m||(n="g"),null!=m&&("g"==n?m=Math.max(1,Math.min(21,m)):("e"==n||"f"==n)&&(m=Math.max(0,Math.min(20,m)))),n=rh.get(n)||Ra;var t=j&&l;return function(a){var c=q;if(r&&a%1)return"";var e=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===h?"":h;if(0>o){var i=mg.formatPrefix(a,m);a=i.scale(a),c=i.symbol+q}else a*=o;a=n(a,m);var u,v,w=a.lastIndexOf(".");if(0>w){var x=s?a.lastIndexOf("e"):-1;0>x?(u=a,v=""):(u=a.substring(0,x),v=a.substring(x))}else u=a.substring(0,w),v=b+a.substring(w+1);!j&&l&&(u=f(u,1/0));var y=p.length+u.length+v.length+(t?0:e.length),z=k>y?new Array(y=k-y+1).join(d):"";return t&&(u=f(z+u,z.length?k-v.length:1/0)),e+=p,a=u+v,("<"===g?e+a+z:">"===g?z+e+a:"^"===g?z.substring(0,y>>=1)+e+a+z.substring(y):e+(t?a:z+a))+c}}}function Ra(a){return a+""}function Sa(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ta(a,b,c){function d(b){var c=a(b),d=f(c,1);return d-b>b-c?c:d}function e(c){return b(c=a(new th(c-1)),1),c}function f(a,c){return b(a=new th(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;d>g;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;d>g;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{th=Sa;var d=new Sa;return d._=a,g(d,b,c)}finally{th=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Ua(a);return i.floor=i,i.round=Ua(d),i.ceil=Ua(e),i.offset=Ua(f),i.range=h,a}function Ua(a){return function(b,c){try{th=Sa;var d=new Sa;return d._=b,a(d,c)._}finally{th=Date}}}function Va(a){function b(a){function b(b){for(var c,e,f,g=[],h=-1,i=0;++h<d;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=vh[c=a.charAt(++h)])&&(c=a.charAt(++h)),(f=C[c])&&(c=f(b,null==e?"e"===c?" ":"0":e)),g.push(c),i=h+1);return g.push(a.slice(i,h)),g.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},e=c(d,a,b,0);if(e!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var f=null!=d.Z&&th!==Sa,g=new(f?Sa:th);return"j"in d?g.setFullYear(d.y,0,d.j):"W"in d||"U"in d?("w"in d||(d.w="W"in d?1:0),g.setFullYear(d.y,0,1),g.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(g.getDay()+5)%7:d.w+7*d.U-(g.getDay()+6)%7)):g.setFullYear(d.y,d.m,d.d),g.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),f?g._:g},b.toString=function(){return a},b}function c(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;i>h;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=D[g in vh?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function d(a,b,c){w.lastIndex=0;var d=w.exec(b.slice(c));return d?(a.w=x.get(d[0].toLowerCase()),c+d[0].length):-1}function e(a,b,c){u.lastIndex=0;var d=u.exec(b.slice(c));return d?(a.w=v.get(d[0].toLowerCase()),c+d[0].length):-1}function f(a,b,c){A.lastIndex=0;var d=A.exec(b.slice(c));return d?(a.m=B.get(d[0].toLowerCase()),c+d[0].length):-1}function g(a,b,c){y.lastIndex=0;var d=y.exec(b.slice(c));return d?(a.m=z.get(d[0].toLowerCase()),c+d[0].length):-1}function h(a,b,d){return c(a,C.c.toString(),b,d)}function i(a,b,d){return c(a,C.x.toString(),b,d)}function j(a,b,d){return c(a,C.X.toString(),b,d)}function k(a,b,c){var d=t.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var l=a.dateTime,m=a.date,n=a.time,o=a.periods,p=a.days,q=a.shortDays,r=a.months,s=a.shortMonths;b.utc=function(a){function c(a){try{th=Sa;var b=new th;return b._=a,d(b)}finally{th=Date}}var d=b(a);return c.parse=function(a){try{th=Sa;var b=d.parse(a);return b&&b._}finally{th=Date}},c.toString=d.toString,c},b.multi=b.utc.multi=nb;var t=mg.map(),u=Xa(p),v=Ya(p),w=Xa(q),x=Ya(q),y=Xa(r),z=Ya(r),A=Xa(s),B=Ya(s);o.forEach(function(a,b){t.set(a.toLowerCase(),b)});var C={a:function(a){return q[a.getDay()]},A:function(a){return p[a.getDay()]},b:function(a){return s[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(l),d:function(a,b){return Wa(a.getDate(),b,2)},e:function(a,b){return Wa(a.getDate(),b,2)},H:function(a,b){return Wa(a.getHours(),b,2)},I:function(a,b){return Wa(a.getHours()%12||12,b,2)},j:function(a,b){return Wa(1+sh.dayOfYear(a),b,3)},L:function(a,b){return Wa(a.getMilliseconds(),b,3)},m:function(a,b){return Wa(a.getMonth()+1,b,2)},M:function(a,b){return Wa(a.getMinutes(),b,2)},p:function(a){return o[+(a.getHours()>=12)]},S:function(a,b){return Wa(a.getSeconds(),b,2)},U:function(a,b){return Wa(sh.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Wa(sh.mondayOfYear(a),b,2)},x:b(m),X:b(n),y:function(a,b){return Wa(a.getFullYear()%100,b,2)},Y:function(a,b){return Wa(a.getFullYear()%1e4,b,4)},Z:lb,"%":function(){return"%"}},D={a:d,A:e,b:f,B:g,c:h,d:fb,e:fb,H:hb,I:hb,j:gb,L:kb,m:eb,M:ib,p:k,S:jb,U:$a,w:Za,W:_a,x:i,X:j,y:bb,Y:ab,Z:cb,"%":mb};return b}function Wa(a,b,c){var d=0>a?"-":"",e=(d?-a:a)+"",f=e.length;return d+(c>f?new Array(c-f+1).join(b)+e:e)}function Xa(a){return new RegExp("^(?:"+a.map(mg.requote).join("|")+")","i")}function Ya(a){for(var b=new o,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Za(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function $a(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function _a(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function ab(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function bb(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+2));return d?(a.y=db(+d[0]),c+d[0].length):-1}function cb(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function db(a){return a+(a>68?1900:2e3)}function eb(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function fb(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function gb(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function hb(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function ib(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function jb(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function kb(a,b,c){wh.lastIndex=0;var d=wh.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function lb(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=yg(b)/60|0,e=yg(b)%60;return c+Wa(d,"0",2)+Wa(e,"0",2)}function mb(a,b,c){xh.lastIndex=0;var d=xh.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function nb(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function ob(){}function pb(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function qb(a,b){a&&Bh.hasOwnProperty(a.type)&&Bh[a.type](a,b)}function rb(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function sb(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)rb(a[c],b,1);b.polygonEnd()}function tb(){function a(a,b){a*=Vg,b=b*Vg/2+Rg/4;var c=a-d,g=c>=0?1:-1,h=g*c,i=Math.cos(b),j=Math.sin(b),k=f*j,l=e*i+k*Math.cos(h),m=k*g*Math.sin(h);Dh.add(Math.atan2(m,l)),d=a,e=i,f=j}var b,c,d,e,f;Eh.point=function(g,h){Eh.point=a,d=(b=g)*Vg,e=Math.cos(h=(c=h)*Vg/2+Rg/4),f=Math.sin(h)},Eh.lineEnd=function(){a(b,c)}}function ub(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function vb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function wb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function xb(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function yb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function zb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function Ab(a){return[Math.atan2(a[1],a[0]),ga(a[2])]}function Bb(a,b){return yg(a[0]-b[0])<Pg&&yg(a[1]-b[1])<Pg}function Cb(a,b){a*=Vg;var c=Math.cos(b*=Vg);Db(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function Db(a,b,c){++Fh,Hh+=(a-Hh)/Fh,Ih+=(b-Ih)/Fh,Jh+=(c-Jh)/Fh}function Eb(){function a(a,e){a*=Vg;var f=Math.cos(e*=Vg),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=c*i-d*h)*j+(j=d*g-b*i)*j+(j=b*h-c*g)*j),b*g+c*h+d*i);Gh+=j,Kh+=j*(b+(b=g)),Lh+=j*(c+(c=h)),Mh+=j*(d+(d=i)),Db(b,c,d)}var b,c,d;Qh.point=function(e,f){e*=Vg;var g=Math.cos(f*=Vg);b=g*Math.cos(e),c=g*Math.sin(e),d=Math.sin(f),Qh.point=a,Db(b,c,d)}}function Fb(){Qh.point=Cb}function Gb(){function a(a,b){a*=Vg;var c=Math.cos(b*=Vg),g=c*Math.cos(a),h=c*Math.sin(a),i=Math.sin(b),j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=Math.sqrt(j*j+k*k+l*l),n=d*g+e*h+f*i,o=m&&-fa(n)/m,p=Math.atan2(m,n);Nh+=o*j,Oh+=o*k,Ph+=o*l,Gh+=p,Kh+=p*(d+(d=g)),Lh+=p*(e+(e=h)),Mh+=p*(f+(f=i)),Db(d,e,f)}var b,c,d,e,f;Qh.point=function(g,h){b=g,c=h,Qh.point=a,g*=Vg;var i=Math.cos(h*=Vg);d=i*Math.cos(g),e=i*Math.sin(g),f=Math.sin(h),Db(d,e,f)},Qh.lineEnd=function(){a(b,c),Qh.lineEnd=Fb,Qh.point=Cb}}function Hb(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function Ib(){return!0}function Jb(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(Bb(c,d)){e.lineStart();for(var h=0;b>h;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new Lb(c,a,null,!0),j=new Lb(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new Lb(d,a,null,!1),j=new Lb(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),Kb(f),Kb(g),f.length){for(var h=0,i=c,j=g.length;j>h;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;j>h;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function Kb(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Lb(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function Mb(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){s.point=h,q.lineStart()}function j(){s.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function l(){u.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),u.lineEnd();var a,b=u.clean(),c=t.buffer(),d=c.length;if(p.pop(),o.push(p),p=null,d)if(1&b){a=c[0];var e,d=a.length-1,g=-1;if(d>0){for(v||(f.polygonStart(),v=!0),f.lineStart();++g<d;)f.point((e=a[g])[0],e[1]);f.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),n.push(c.filter(Nb))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s={point:g,lineStart:i,lineEnd:j,polygonStart:function(){s.point=k,s.lineStart=l,s.lineEnd=m,n=[],o=[]},polygonEnd:function(){s.point=g,s.lineStart=i,s.lineEnd=j,n=mg.merge(n);var a=Tb(r,o);n.length?(v||(f.polygonStart(),v=!0),Jb(n,Pb,a,c,f)):a&&(v||(f.polygonStart(),v=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),v&&(f.polygonEnd(),v=!1),n=o=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}},t=Ob(),u=b(t),v=!1;return s}}function Nb(a){return a.length>1}function Ob(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:A,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function Pb(a,b){return((a=a.x)[0]<0?a[1]-Ug-Pg:Ug-a[1])-((b=b.x)[0]<0?b[1]-Ug-Pg:Ug-b[1])}function Qb(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Rg:-Rg,i=yg(f-c);yg(i-Rg)<Pg?(a.point(c,d=(d+g)/2>0?Ug:-Ug),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Rg&&(yg(c-e)<Pg&&(c-=e*Pg),yg(f-h)<Pg&&(f-=h*Pg),d=Rb(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Rb(a,b,c,d){var e,f,g=Math.sin(a-c);return yg(g)>Pg?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function Sb(a,b,c,d){var e;if(null==a)e=c*Ug,d.point(-Rg,e),d.point(0,e),d.point(Rg,e),d.point(Rg,0),d.point(Rg,-e),d.point(0,-e),d.point(-Rg,-e),d.point(-Rg,0),d.point(-Rg,e);else if(yg(a[0]-b[0])>Pg){var f=a[0]<b[0]?Rg:-Rg;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Tb(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;Dh.reset();for(var h=0,i=b.length;i>h;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Rg/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Rg/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Rg,z=o*t;if(Dh.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),
f+=y?v+w*Sg:v,y^m>=c^r>=c){var A=wb(ub(l),ub(a));zb(A);var B=wb(e,A);zb(B);var C=(y^v>=0?-1:1)*ga(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(-Pg>f||Pg>f&&0>Dh)^1&g}function Ub(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a){var c,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:e(l,m):p?e(l+(0>l?Rg:-Rg),m):0;if(!c&&(j=i=p)&&a.lineStart(),p!==i&&(n=d(c,o),(Bb(c,n)||Bb(o,n))&&(o[0]+=Pg,o[1]+=Pg,p=b(o[0],o[1]))),p!==i)k=0,p?(a.lineStart(),n=d(o,c),a.point(n[0],n[1])):(n=d(c,o),a.point(n[0],n[1]),a.lineEnd()),c=n;else if(h&&c&&g^p){var r;q&f||!(r=d(o,c,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||c&&Bb(c,o)||a.point(o[0],o[1]),c=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),c=null},clean:function(){return k|(j&&i)<<1}}}function d(a,b,c){var d=ub(a),e=ub(b),g=[1,0,0],h=wb(d,e),i=vb(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=f*i/k,m=-f*j/k,n=wb(g,h),o=yb(g,l),p=yb(h,m);xb(o,p);var q=n,r=vb(o,q),s=vb(q,q),t=r*r-s*(vb(o,o)-1);if(!(0>t)){var u=Math.sqrt(t),v=yb(q,(-r-u)/s);if(xb(v,o),v=Ab(v),!c)return v;var w,x=a[0],y=b[0],z=a[1],A=b[1];x>y&&(w=x,x=y,y=w);var B=y-x,C=yg(B-Rg)<Pg,D=C||Pg>B;if(!C&&z>A&&(w=z,z=A,A=w),D?C?z+A>0^v[1]<(yg(v[0]-x)<Pg?z:A):z<=v[1]&&v[1]<=A:B>Rg^(x<=v[0]&&v[0]<=y)){var E=yb(q,(-r+u)/s);return xb(E,o),[v,Ab(E)]}}}function e(b,c){var d=g?a:Rg-a,e=0;return-d>b?e|=1:b>d&&(e|=2),-d>c?e|=4:c>d&&(e|=8),e}var f=Math.cos(a),g=f>0,h=yg(f)>Pg,i=tc(a,6*Vg);return Mb(b,c,i,g?[0,-a]:[-Rg,a-Rg])}function Vb(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,0>o){if(m>f)return;n>f&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(0>f)){if(f/=o,0>o){if(f>n)return;f>m&&(m=f)}else if(o>0){if(m>f)return;n>f&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,0>p){if(m>f)return;n>f&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(0>f)){if(f/=p,0>p){if(f>n)return;f>m&&(m=f)}else if(p>0){if(m>f)return;n>f&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),1>n&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}function Wb(a,b,c,d){function e(d,e){return yg(d[0]-a)<Pg?e>0?0:3:yg(d[0]-c)<Pg?e>0?2:1:yg(d[1]-b)<Pg?e>0?1:0:e>0?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function i(a){for(var b=0,c=q.length,d=a[1],e=0;c>e;++e)for(var f,g=1,h=q[e],i=h.length,j=h[0];i>g;++g)f=h[g],j[1]<=d?f[1]>d&&ea(j,f,a)>0&&++b:f[1]<=d&&ea(j,f,a)<0&&--b,j=f;return 0!==b}function j(f,h,i,j){var k=0,l=0;if(null==f||(k=e(f,i))!==(l=e(h,i))||g(f,h)<0^i>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+i+4)%4)!==l)}else j.point(h[0],h[1])}function k(e,f){return e>=a&&c>=e&&f>=b&&d>=f}function l(a,b){k(a,b)&&h.point(a,b)}function m(){D.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.buffer())),D.point=l,x&&h.lineEnd()}function o(a,b){a=Math.max(-Sh,Math.min(Sh,a)),b=Math.max(-Sh,Math.min(Sh,b));var c=k(a,b);if(q&&r.push([a,b]),y)s=a,t=b,u=c,y=!1,c&&(h.lineStart(),h.point(a,b));else if(c&&x)h.point(a,b);else{var d={a:{x:v,y:w},b:{x:a,y:b}};C(d)?(x||(h.lineStart(),h.point(d.a.x,d.a.y)),h.point(d.b.x,d.b.y),c||h.lineEnd(),z=!1):c&&(h.lineStart(),h.point(a,b),z=!1)}v=a,w=b,x=c}var p,q,r,s,t,u,v,w,x,y,z,A=h,B=Ob(),C=Vb(a,b,c,d),D={point:l,lineStart:m,lineEnd:n,polygonStart:function(){h=B,p=[],q=[],z=!0},polygonEnd:function(){h=A,p=mg.merge(p);var b=i([a,d]),c=z&&b,e=p.length;(c||e)&&(h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Jb(p,f,b,j,h),h.polygonEnd()),p=q=r=null}};return D}}function Xb(a){var b=0,c=Rg/3,d=lc(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Rg/180,c=a[1]*Rg/180):[b/Rg*180,c/Rg*180]},e}function Yb(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,ga((f-(a*a+c*c)*e*e)/(2*e))]},c}function Zb(){function a(a,b){Uh+=e*a-d*b,d=a,e=b}var b,c,d,e;Zh.point=function(f,g){Zh.point=a,b=d=f,c=e=g},Zh.lineEnd=function(){a(b,c)}}function $b(a,b){Vh>a&&(Vh=a),a>Xh&&(Xh=a),Wh>b&&(Wh=b),b>Yh&&(Yh=b)}function _b(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b),h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=ac(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d,h.point=a},pointRadius:function(a){return f=ac(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function ac(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function bc(a,b){Hh+=a,Ih+=b,++Jh}function cc(){function a(a,d){var e=a-b,f=d-c,g=Math.sqrt(e*e+f*f);Kh+=g*(b+a)/2,Lh+=g*(c+d)/2,Mh+=g,bc(b=a,c=d)}var b,c;_h.point=function(d,e){_h.point=a,bc(b=d,c=e)}}function dc(){_h.point=bc}function ec(){function a(a,b){var c=a-d,f=b-e,g=Math.sqrt(c*c+f*f);Kh+=g*(d+a)/2,Lh+=g*(e+b)/2,Mh+=g,g=e*a-d*b,Nh+=g*(d+a),Oh+=g*(e+b),Ph+=3*g,bc(d=a,e=b)}var b,c,d,e;_h.point=function(f,g){_h.point=a,bc(b=d=f,c=e=g)},_h.lineEnd=function(){a(b,c)}}function fc(a){function b(b,c){a.moveTo(b+g,c),a.arc(b,c,g,0,Sg)}function c(b,c){a.moveTo(b,c),h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e,h.point=b},pointRadius:function(a){return g=a,h},result:A};return h}function gc(a){function b(a){return(h?d:c)(a)}function c(b){return jc(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function d(b){function c(c,d){c=a(c,d),b.point(c[0],c[1])}function d(){t=NaN,y.point=f,b.lineStart()}function f(c,d){var f=ub([c,d]),g=a(c,d);e(t,u,s,v,w,x,t=g[0],u=g[1],s=c,v=f[0],w=f[1],x=f[2],h,b),b.point(t,u)}function g(){y.point=c,b.lineEnd()}function i(){d(),y.point=j,y.lineEnd=k}function j(a,b){f(l=a,m=b),n=t,o=u,p=v,q=w,r=x,y.point=f}function k(){e(t,u,s,v,w,x,n,o,l,p,q,r,h,b),y.lineEnd=g,g()}var l,m,n,o,p,q,r,s,t,u,v,w,x,y={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart(),y.lineStart=i},polygonEnd:function(){b.polygonEnd(),y.lineStart=d}};return y}function e(b,c,d,h,i,j,k,l,m,n,o,p,q,r){var s=k-b,t=l-c,u=s*s+t*t;if(u>4*f&&q--){var v=h+n,w=i+o,x=j+p,y=Math.sqrt(v*v+w*w+x*x),z=Math.asin(x/=y),A=yg(yg(x)-1)<Pg||yg(d-m)<Pg?(d+m)/2:Math.atan2(w,v),B=a(A,z),C=B[0],D=B[1],E=C-b,F=D-c,G=t*E-s*F;(G*G/u>f||yg((s*E+t*F)/u-.5)>.3||g>h*n+i*o+j*p)&&(e(b,c,d,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),e(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}var f=.5,g=Math.cos(30*Vg),h=16;return b.precision=function(a){return arguments.length?(h=(f=a*a)>0&&16,b):Math.sqrt(f)},b}function hc(a){var b=gc(function(b,c){return a([b*Wg,c*Wg])});return function(a){return mc(b(a))}}function ic(a){this.stream=a}function jc(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function kc(a){return lc(function(){return a})()}function lc(a){function b(a){return a=h(a[0]*Vg,a[1]*Vg),[a[0]*m+i,j-a[1]*m]}function c(a){return a=h.invert((a[0]-i)/m,(j-a[1])/m),a&&[a[0]*Wg,a[1]*Wg]}function d(){h=Hb(g=pc(r,s,t),f);var a=f(p,q);return i=n-a[0]*m,j=o+a[1]*m,e()}function e(){return k&&(k.valid=!1,k=null),b}var f,g,h,i,j,k,l=gc(function(a,b){return a=f(a,b),[a[0]*m+i,j-a[1]*m]}),m=150,n=480,o=250,p=0,q=0,r=0,s=0,t=0,u=Rh,v=x,w=null,y=null;return b.stream=function(a){return k&&(k.valid=!1),k=mc(u(g,l(v(a)))),k.valid=!0,k},b.clipAngle=function(a){return arguments.length?(u=null==a?(w=a,Rh):Ub((w=+a)*Vg),e()):w},b.clipExtent=function(a){return arguments.length?(y=a,v=a?Wb(a[0][0],a[0][1],a[1][0],a[1][1]):x,e()):y},b.scale=function(a){return arguments.length?(m=+a,d()):m},b.translate=function(a){return arguments.length?(n=+a[0],o=+a[1],d()):[n,o]},b.center=function(a){return arguments.length?(p=a[0]%360*Vg,q=a[1]%360*Vg,d()):[p*Wg,q*Wg]},b.rotate=function(a){return arguments.length?(r=a[0]%360*Vg,s=a[1]%360*Vg,t=a.length>2?a[2]%360*Vg:0,d()):[r*Wg,s*Wg,t*Wg]},mg.rebind(b,l,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function mc(a){return jc(a,function(b,c){a.point(b*Vg,c*Vg)})}function nc(a,b){return[a,b]}function oc(a,b){return[a>Rg?a-Sg:-Rg>a?a+Sg:a,b]}function pc(a,b,c){return a?b||c?Hb(rc(a),sc(b,c)):rc(a):b||c?sc(b,c):oc}function qc(a){return function(b,c){return b+=a,[b>Rg?b-Sg:-Rg>b?b+Sg:b,c]}}function rc(a){var b=qc(a);return b.invert=qc(-a),b}function sc(a,b){function c(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*d+h*e;return[Math.atan2(i*f-k*g,h*d-j*e),ga(k*f+i*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*f-i*g;return[Math.atan2(i*f+j*g,h*d+k*e),ga(k*d-h*e)]},c}function tc(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=uc(c,e),f=uc(c,f),(g>0?f>e:e>f)&&(e+=g*Sg)):(e=a+g*Sg,f=a-.5*i);for(var j,k=e;g>0?k>f:f>k;k-=i)h.point((j=Ab([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function uc(a,b){var c=ub(b);c[0]-=a,zb(c);var d=fa(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Pg)%(2*Math.PI)}function vc(a,b,c){var d=mg.range(a,b-Pg,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function wc(a,b,c){var d=mg.range(a,b-Pg,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function xc(a){return a.source}function yc(a){return a.target}function zc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(ka(d-b)+e*g*ka(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Wg,Math.atan2(g,Math.sqrt(d*d+e*e))*Wg]}:function(){return[a*Wg,b*Wg]};return o.distance=m,o}function Ac(){function a(a,e){var f=Math.sin(e*=Vg),g=Math.cos(e),h=yg((a*=Vg)-b),i=Math.cos(h);ai+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-c*g*i)*h),c*f+d*g*i),b=a,c=f,d=g}var b,c,d;bi.point=function(e,f){b=e*Vg,c=Math.sin(f*=Vg),d=Math.cos(f),bi.point=a},bi.lineEnd=function(){bi.point=bi.lineEnd=A}}function Bc(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function Cc(a,b){function c(a,b){g>0?-Ug+Pg>b&&(b=-Ug+Pg):b>Ug-Pg&&(b=Ug-Pg);var c=g/Math.pow(e(b),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var d=Math.cos(a),e=function(a){return Math.tan(Rg/4+a/2)},f=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(e(b)/e(a)),g=d*Math.pow(e(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=da(f)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/d,1/f))-Ug]},c):Ec}function Dc(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return yg(e)<Pg?nc:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-da(e)*Math.sqrt(a*a+c*c)]},c)}function Ec(a,b){return[a,Math.log(Math.tan(Rg/4+b/2))]}function Fc(a){var b,c=kc(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Rg*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function Gc(a,b){return[Math.log(Math.tan(Rg/4+b/2)),-a]}function Hc(a){return a[0]}function Ic(a){return a[1]}function Jc(a){for(var b=a.length,c=[0,1],d=2,e=2;b>e;e++){for(;d>1&&ea(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Kc(a,b){return a[0]-b[0]||a[1]-b[1]}function Lc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Mc(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Nc(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Oc(){hd(this),this.edge=this.site=this.circle=null}function Pc(a){var b=ni.pop()||new Oc;return b.site=a,b}function Qc(a){$c(a),ki.remove(a),ni.push(a),hd(a)}function Rc(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Qc(a);for(var i=f;i.circle&&yg(c-i.circle.x)<Pg&&yg(d-i.circle.cy)<Pg;)f=i.P,h.unshift(i),Qc(i),i=f;h.unshift(i),$c(i);for(var j=g;j.circle&&yg(c-j.circle.x)<Pg&&yg(d-j.circle.cy)<Pg;)g=j.N,h.push(j),Qc(j),j=g;h.push(j),$c(j);var k,l=h.length;for(k=1;l>k;++k)j=h[k],i=h[k-1],ed(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=cd(i.site,j.site,null,e),Zc(i),Zc(j)}function Sc(a){for(var b,c,d,e,f=a.x,g=a.y,h=ki._;h;)if(d=Tc(h,g)-f,d>Pg)h=h.L;else{if(e=f-Uc(h,g),!(e>Pg)){d>-Pg?(b=h.P,c=h):e>-Pg?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Pc(a);if(ki.insert(b,i),b||c){if(b===c)return $c(b),c=Pc(b.site),ki.insert(i,c),i.edge=c.edge=cd(b.site,i.site),Zc(b),void Zc(c);if(!c)return void(i.edge=cd(b.site,i.site));$c(b),$c(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};ed(c.edge,j,o,u),i.edge=cd(j,a,null,u),c.edge=cd(a,o,null,u),Zc(b),Zc(c)}}function Tc(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Uc(a,b){var c=a.N;if(c)return Tc(c,b);var d=a.site;return d.y===b?d.x:1/0}function Vc(a){this.site=a,this.edges=[]}function Wc(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=ji,q=p.length;q--;)if(f=p[q],f&&f.prepare())for(h=f.edges,i=h.length,g=0;i>g;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(yg(d-b)>Pg||yg(e-c)>Pg)&&(h.splice(g,0,new fd(dd(f.site,k,yg(d-l)<Pg&&o-e>Pg?{x:l,y:yg(b-l)<Pg?c:o}:yg(e-o)<Pg&&m-d>Pg?{x:yg(c-o)<Pg?b:m,y:o}:yg(d-m)<Pg&&e-n>Pg?{x:m,y:yg(b-m)<Pg?c:n}:yg(e-n)<Pg&&d-l>Pg?{x:yg(c-n)<Pg?b:l,y:n}:null),f.site,null)),++i)}function Xc(a,b){return b.angle-a.angle}function Yc(){hd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Zc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Qg)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=oi.pop()||new Yc;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=mi._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}mi.insert(s,r),s||(li=r)}}}}function $c(a){var b=a.circle;b&&(b.P||(li=b.N),mi.remove(b),oi.push(b),hd(b),a.circle=null)}function _c(a){for(var b,c=ii,d=Vb(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!ad(b,a)||!d(b)||yg(b.a.x-b.b.x)<Pg&&yg(b.a.y-b.b.y)<Pg)&&(b.a=b.b=null,c.splice(e,1))}function ad(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(g>q||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,-1>d||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(p>n){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function bd(a,b){this.l=a,this.r=b,this.a=this.b=null}function cd(a,b,c,d){var e=new bd(a,b);return ii.push(e),c&&ed(e,a,b,c),d&&ed(e,b,a,d),ji[a.i].edges.push(new fd(e,a,b)),ji[b.i].edges.push(new fd(e,b,a)),e}function dd(a,b,c){var d=new bd(a,null);return d.a=b,d.b=c,ii.push(d),d}function ed(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function fd(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function gd(){this._=null}function hd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function id(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function jd(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function kd(a){for(;a.L;)a=a.L;return a}function ld(a,b){var c,d,e,f=a.sort(md).pop();for(ii=[],ji=new Array(a.length),ki=new gd,mi=new gd;;)if(e=li,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))(f.x!==c||f.y!==d)&&(ji[f.i]=new Vc(f),Sc(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Rc(e.arc)}b&&(_c(b),Wc(b));var g={cells:ji,edges:ii};return ki=mi=ii=ji=null,g}function md(a,b){return b.y-a.y||b.x-a.x}function nd(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function od(a){return a.x}function pd(a){return a.y}function qd(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function rd(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&rd(a,i[0],c,d,g,h),i[1]&&rd(a,i[1],g,d,e,h),i[2]&&rd(a,i[2],c,h,g,f),i[3]&&rd(a,i[3],g,h,e,f)}}function sd(a,b,c,d,e,f,g){var h,i=1/0;return function j(a,k,l,m,n){if(!(k>f||l>g||d>m||e>n)){if(o=a.point){var o,p=b-a.x,q=c-a.y,r=p*p+q*q;if(i>r){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=a.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;z>y;++y)if(a=t[3&y])switch(3&y){case 0:j(a,k,l,u,v);break;case 1:j(a,u,l,m,v);break;case 2:j(a,k,v,u,n);break;case 3:j(a,u,v,m,n)}}}(a,d,e,f,g),h}function td(a,b){a=mg.rgb(a),b=mg.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+za(Math.round(c+f*a))+za(Math.round(d+g*a))+za(Math.round(e+h*a))}}function ud(a,b){var c,d={},e={};for(c in a)c in b?d[c]=xd(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function vd(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function wd(a,b){var c,d,e,f=qi.lastIndex=ri.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=qi.exec(a))&&(d=ri.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:vd(c,d)})),f=ri.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;b>d;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function xd(a,b){for(var c,d=mg.interpolators.length;--d>=0&&!(c=mg.interpolators[d](a,b)););return c}function yd(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;h>c;++c)d.push(xd(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;g>c;++c)e[c]=b[c];return function(a){for(c=0;h>c;++c)e[c]=d[c](a);return e}}function zd(a){return function(b){return 0>=b?0:b>=1?1:a(b)}}function Ad(a){return function(b){return 1-a(1-b)}}function Bd(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function Cd(a){return a*a}function Dd(a){return a*a*a}function Ed(a){if(0>=a)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function Fd(a){return function(b){return Math.pow(b,a)}}function Gd(a){return 1-Math.cos(a*Ug)}function Hd(a){return Math.pow(2,10*(a-1))}function Id(a){return 1-Math.sqrt(1-a*a)}function Jd(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Sg*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Sg/b)}}function Kd(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Ld(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Md(a,b){a=mg.hcl(a),b=mg.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return pa(c+f*a,d+g*a,e+h*a)+""}}function Nd(a,b){a=mg.hsl(a),b=mg.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return na(c+f*a,d+g*a,e+h*a)+""}}function Od(a,b){a=mg.lab(a),b=mg.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return ra(c+f*a,d+g*a,e+h*a)+""}}function Pd(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Qd(a){var b=[a.a,a.b],c=[a.c,a.d],d=Sd(b),e=Rd(b,c),f=Sd(Td(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Wg,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Wg:0}function Rd(a,b){return a[0]*b[0]+a[1]*b[1]}function Sd(a){var b=Math.sqrt(Rd(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Td(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Ud(a){return a.length?a.pop()+",":""}function Vd(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push("translate(",null,",",null,")");d.push({i:e-4,x:vd(a[0],b[0])},{i:e-2,x:vd(a[1],b[1])})}else(b[0]||b[1])&&c.push("translate("+b+")")}function Wd(a,b,c,d){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),d.push({i:c.push(Ud(c)+"rotate(",null,")")-2,x:vd(a,b)})):b&&c.push(Ud(c)+"rotate("+b+")")}function Xd(a,b,c,d){a!==b?d.push({i:c.push(Ud(c)+"skewX(",null,")")-2,x:vd(a,b)}):b&&c.push(Ud(c)+"skewX("+b+")")}function Yd(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push(Ud(c)+"scale(",null,",",null,")");d.push({i:e-4,x:vd(a[0],b[0])},{i:e-2,x:vd(a[1],b[1])})}else(1!==b[0]||1!==b[1])&&c.push(Ud(c)+"scale("+b+")")}function Zd(a,b){var c=[],d=[];return a=mg.transform(a),b=mg.transform(b),Vd(a.translate,b.translate,c,d),Wd(a.rotate,b.rotate,c,d),Xd(a.skew,b.skew,c,d),Yd(a.scale,b.scale,c,d),a=b=null,function(a){for(var b,e=-1,f=d.length;++e<f;)c[(b=d[e]).i]=b.x(a);return c.join("")}}function $d(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function _d(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function ae(a){for(var b=a.source,c=a.target,d=ce(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function be(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function ce(a,b){if(a===b)return a;for(var c=be(a),d=be(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function de(a){a.fixed|=2}function ee(a){a.fixed&=-7}function fe(a){a.fixed|=4,a.px=a.x,a.py=a.y}function ge(a){a.fixed&=-5}function he(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)f=g[i],null!=f&&(he(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function ie(a,b){return mg.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=oe,a}function je(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function ke(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function le(a){return a.children}function me(a){return a.value}function ne(a,b){return b.value-a.value}function oe(a){return mg.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function pe(a){return a.x}function qe(a){return a.y}function re(a,b,c){a.y0=b,a.y=c}function se(a){return mg.range(a.length)}function te(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function ue(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function ve(a){return a.reduce(we,0)}function we(a,b){return a+b[1]}function xe(a,b){return ye(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ye(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function ze(a){return[mg.min(a),mg.max(a)]}function Ae(a,b){return a.value-b.value}function Be(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function Ce(a,b){a._pack_next=b,b._pack_prev=a}function De(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Ee(a){function b(a){k=Math.min(a.x-a.r,k),l=Math.max(a.x+a.r,l),m=Math.min(a.y-a.r,m),n=Math.max(a.y+a.r,n)}if((c=a.children)&&(j=c.length)){var c,d,e,f,g,h,i,j,k=1/0,l=-(1/0),m=1/0,n=-(1/0);if(c.forEach(Fe),d=c[0],d.x=-d.r,d.y=0,b(d),j>1&&(e=c[1],e.x=e.r,e.y=0,b(e),j>2))for(f=c[2],Ie(d,e,f),b(f),Be(d,f),d._pack_prev=f,Be(f,e),e=d._pack_next,g=3;j>g;g++){Ie(d,e,f=c[g]);var o=0,p=1,q=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(De(h,f)){o=1;break}if(1==o)for(i=d._pack_prev;i!==h._pack_prev&&!De(i,f);i=i._pack_prev,q++);o?(q>p||p==q&&e.r<d.r?Ce(d,e=h):Ce(d=i,e),g--):(Be(d,f),e=f,b(f))}var r=(k+l)/2,s=(m+n)/2,t=0;for(g=0;j>g;g++)f=c[g],f.x-=r,f.y-=s,t=Math.max(t,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=t,c.forEach(Ge)}}function Fe(a){a._pack_next=a._pack_prev=a}function Ge(a){delete a._pack_next,delete a._pack_prev}function He(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)He(e[f],b,c,d)}function Ie(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Je(a,b){return a.parent==b.parent?1:2}function Ke(a){var b=a.children;return b.length?b[0]:a.t}function Le(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Me(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Ne(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Oe(a,b,c){return a.a.parent===b.parent?a.a:c}function Pe(a){return 1+mg.max(a,function(a){return a.y})}function Qe(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Re(a){var b=a.children;return b&&b.length?Re(b[0]):a}function Se(a){var b,c=a.children;return c&&(b=c.length)?Se(c[b-1]):a}function Te(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Ue(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Ve(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function We(a){return a.rangeExtent?a.rangeExtent():Ve(a.range())}function Xe(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Ye(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return f>g&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function Ze(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Ci}function $e(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=mg.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function _e(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?$e:Xe,i=d?_d:$d;return g=e(a,b,i,c),h=e(b,a,i,xd),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(Pd)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return df(a,b)},f.tickFormat=function(b,c){return ef(a,b,c)},f.nice=function(b){return bf(a,b),e()},f.copy=function(){return _e(a,b,c,d)},e()}function af(a,b){return mg.rebind(a,b,"range","rangeRound","interpolate","clamp")}function bf(a,b){return Ye(a,Ze(cf(a,b)[2])),Ye(a,Ze(cf(a,b)[2])),a}function cf(a,b){null==b&&(b=10);var c=Ve(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return.15>=f?e*=10:.35>=f?e*=5:.75>=f&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function df(a,b){return mg.range.apply(mg,cf(a,b))}function ef(a,b,c){var d=cf(a,b);if(c){var e=qh.exec(c);if(e.shift(),"s"===e[8]){var f=mg.formatPrefix(Math.max(yg(d[0]),yg(d[1])));return e[7]||(e[7]="."+ff(f.scale(d[2]))),e[8]="f",c=mg.format(e.join("")),function(a){return c(f.scale(a))+f.symbol}}e[7]||(e[7]="."+gf(e[8],d)),c=e.join("")}else c=",."+ff(d[2])+"f";return mg.format(c)}function ff(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function gf(a,b){var c=ff(b[2]);return a in Di?Math.abs(c-ff(Math.max(yg(b[0]),yg(b[1]))))+ +("e"!==a):c-2*("%"===a)}function hf(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(a>0?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}return g.invert=function(b){return f(a.invert(b))},g.domain=function(b){return arguments.length?(c=b[0]>=0,a.domain((d=b.map(Number)).map(e)),g):d},g.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),g):b},g.nice=function(){var b=Ye(d.map(e),c?Math:Fi);return a.domain(b),d=b.map(f),g},g.ticks=function(){var a=Ve(d),g=[],h=a[0],i=a[1],j=Math.floor(e(h)),k=Math.ceil(e(i)),l=b%1?2:b;if(isFinite(k-j)){if(c){for(;k>j;j++)for(var m=1;l>m;m++)g.push(f(j)*m);g.push(f(j))}else for(g.push(f(j));j++<k;)for(var m=l-1;m>0;m--)g.push(f(j)*m);for(j=0;g[j]<h;j++);for(k=g.length;g[k-1]>i;k--);g=g.slice(j,k)}return g},g.tickFormat=function(a,c){if(!arguments.length)return Ei;arguments.length<2?c=Ei:"function"!=typeof c&&(c=mg.format(c));var d=Math.max(1,b*a/g.ticks().length);return function(a){var g=a/f(Math.round(e(a)));return b-.5>g*b&&(g*=b),d>=g?c(a):""}},g.copy=function(){return hf(a.copy(),b,c,d)},af(g,a)}function jf(a,b,c){function d(b){return a(e(b))}var e=kf(b),f=kf(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return df(c,a)},d.tickFormat=function(a,b){return ef(c,a,b)},d.nice=function(a){return d.domain(bf(c,a))},d.exponent=function(g){return arguments.length?(e=kf(b=g),f=kf(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return jf(a.copy(),b,c)},af(d,a)}function kf(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function lf(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return mg.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new o;for(var f,g=-1,h=d.length;++g<h;)e.has(f=d[g])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+h);return f=d(i+k*h/2,k),g=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+h)|0;return f=d(i+Math.round(k*h/2+(j-i-(a.length-1+h)*k)/2),k),g=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-h+2*i);return f=d(k+m*i,m),j&&f.reverse(),g=m*(1-h),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-h+2*i));return f=d(k+Math.round((l-k-(a.length-h)*m)/2),m),
j&&f.reverse(),g=Math.round(m*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return Ve(b.a[0])},c.copy=function(){return lf(a,b)},c.domain(a)}function mf(a,b){function c(){var c=0,f=b.length;for(e=[];++c<f;)e[c-1]=mg.quantile(a,c/f);return d}function d(a){return isNaN(a=+a)?void 0:b[mg.bisect(e,a)]}var e;return d.domain=function(b){return arguments.length?(a=b.map(i).filter(j).sort(h),c()):a},d.range=function(a){return arguments.length?(b=a,c()):b},d.quantiles=function(){return e},d.invertExtent=function(c){return c=b.indexOf(c),0>c?[NaN,NaN]:[c>0?e[c-1]:a[0],c<e.length?e[c]:a[a.length-1]]},d.copy=function(){return mf(a,b)},c()}function nf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=0>b?NaN:b/f+a,[b,b+1/f]},d.copy=function(){return nf(a,b,c)},e()}function of(a,b){function c(c){return c>=c?b[mg.bisect(a,c)]:void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return of(a,b)},c}function pf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return df(a,b)},b.tickFormat=function(b,c){return ef(a,b,c)},b.copy=function(){return pf(a)},b}function qf(){return 0}function rf(a){return a.innerRadius}function sf(a){return a.outerRadius}function tf(a){return a.startAngle}function uf(a){return a.endAngle}function vf(a){return a&&a.padAngle}function wf(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function xf(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(0>r?-1:1)*Math.sqrt(Math.max(0,t*t*s-u*u)),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function yf(a){function b(b){function g(){j.push("M",f(a(k),h))}for(var i,j=[],k=[],l=-1,m=b.length,n=Fa(c),o=Fa(d);++l<m;)e.call(this,i=b[l],l)?k.push([+n.call(this,i,l),+o.call(this,i,l)]):k.length&&(g(),k=[]);return k.length&&g(),j.length?j.join(""):null}var c=Hc,d=Ic,e=Ib,f=zf,g=f.key,h=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Li.get(a)||zf).key,b):g},b.tension=function(a){return arguments.length?(h=a,b):h},b}function zf(a){return a.length>1?a.join("L"):a+"Z"}function Af(a){return a.join("L")+"Z"}function Bf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function Cf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Df(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Ef(a,b){return a.length<4?zf(a):a[1]+Hf(a.slice(1,-1),If(a,b))}function Ff(a,b){return a.length<3?Af(a):a[0]+Hf((a.push(a[0]),a),If([a[a.length-2]].concat(a,[a[1]]),b))}function Gf(a,b){return a.length<3?zf(a):a[0]+Hf(a,If(a,b))}function Hf(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return zf(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function If(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function Jf(a){if(a.length<3)return zf(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",Nf(Oi,g),",",Nf(Oi,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Of(i,g,h);return a.pop(),i.push("L",d),i.join("")}function Kf(a){if(a.length<4)return zf(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(Nf(Oi,f)+","+Nf(Oi,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),Of(c,f,g);return c.join("")}function Lf(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[Nf(Oi,g),",",Nf(Oi,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),Of(b,g,h);return b.join("")}function Mf(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return Jf(a)}function Nf(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Of(a,b,c){a.push("C",Nf(Mi,b),",",Nf(Mi,c),",",Nf(Ni,b),",",Nf(Ni,c),",",Nf(Oi,b),",",Nf(Oi,c))}function Pf(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Qf(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=Pf(e,f);++b<c;)d[b]=(g+(g=Pf(e=f,f=a[b+1])))/2;return d[b]=g,d}function Rf(a){for(var b,c,d,e,f=[],g=Qf(a),h=-1,i=a.length-1;++h<i;)b=Pf(a[h],a[h+1]),yg(b)<Pg?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,e=c*c+d*d,e>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function Sf(a){return a.length<3?zf(a):a[0]+Hf(a,Rf(a))}function Tf(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Ug,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Uf(a){function b(b){function i(){p.push("M",h(a(r),l),k,j(a(q.reverse()),l),"Z")}for(var m,n,o,p=[],q=[],r=[],s=-1,t=b.length,u=Fa(c),v=Fa(e),w=c===d?function(){return n}:Fa(d),x=e===f?function(){return o}:Fa(f);++s<t;)g.call(this,m=b[s],s)?(q.push([n=+u.call(this,m,s),o=+v.call(this,m,s)]),r.push([+w.call(this,m,s),+x.call(this,m,s)])):q.length&&(i(),q=[],r=[]);return q.length&&i(),p.length?p.join(""):null}var c=Hc,d=Hc,e=0,f=Ic,g=Ib,h=zf,i=h.key,j=h,k="L",l=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(g=a,b):g},b.interpolate=function(a){return arguments.length?(i="function"==typeof a?h=a:(h=Li.get(a)||zf).key,j=h.reverse||h,k=h.closed?"M":"L",b):i},b.tension=function(a){return arguments.length?(l=a,b):l},b}function Vf(a){return a.radius}function Wf(a){return[a.x,a.y]}function Xf(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Ug;return[c*Math.cos(d),c*Math.sin(d)]}}function Yf(){return 64}function Zf(){return"circle"}function $f(a){var b=Math.sqrt(a/Rg);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function _f(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function ag(a,b,c){return Dg(a,Vi),a.namespace=b,a.id=c,a}function bg(a,b,c,d){var e=a.id,f=a.namespace;return W(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function cg(a){return null==a&&(a=""),function(){this.textContent=a}}function dg(a){return null==a?"__transition__":"__transition_"+a+"__"}function eg(a,b,c,d,e){function f(a){var b=p.delay;return j.t=b+i,a>=b?g(a-b):void(j.c=g)}function g(c){var e=n.active,f=n[e];f&&(f.timer.c=null,f.timer.t=NaN,--n.count,delete n[e],f.event&&f.event.interrupt.call(a,a.__data__,f.index));for(var g in n)if(d>+g){var o=n[g];o.timer.c=null,o.timer.t=NaN,--n.count,delete n[g]}j.c=h,Ka(function(){return j.c&&h(c||1)&&(j.c=null,j.t=NaN),1},0,i),n.active=d,p.event&&p.event.start.call(a,a.__data__,b),m=[],p.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&m.push(d)}),l=p.ease,k=p.duration}function h(e){for(var f=e/k,g=l(f),h=m.length;h>0;)m[--h].call(a,g);return f>=1?(p.event&&p.event.end.call(a,a.__data__,b),--n.count?delete n[d]:delete a[c],1):void 0}var i,j,k,l,m,n=a[c]||(a[c]={active:0,count:0}),p=n[d];p||(i=e.time,j=Ka(f,0,i),p=n[d]={tween:new o,time:i,timer:j,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++n.count)}function fg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function gg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function hg(a){return a.toISOString()}function ig(a,b,c){function d(b){return a(b)}function e(a,c){var d=a[1]-a[0],e=d/c,f=mg.bisect(cj,e);return f==cj.length?[b.year,cf(a.map(function(a){return a/31536e6}),c)[2]]:f?b[e/cj[f-1]<cj[f]/e?f-1:f]:[fj,cf(a,c)[2]]}return d.invert=function(b){return jg(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(jg)},d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,jg(+c+1),b).length}var f=d.domain(),g=Ve(f),h=null==a?e(g,10):"number"==typeof a&&e(g,a);return h&&(a=h[0],b=h[1]),d.domain(Ye(f,b>1?{floor:function(b){for(;c(b=a.floor(b));)b=jg(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=jg(+b+1);return b}}:a))},d.ticks=function(a,b){var c=Ve(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],jg(+c[1]+1),1>b?1:b)},d.tickFormat=function(){return c},d.copy=function(){return ig(a.copy(),b,c)},af(d,a)}function jg(a){return new Date(a)}function kg(a){return JSON.parse(a.responseText)}function lg(a){var b=pg.createRange();return b.selectNode(pg.body),b.createContextualFragment(a.responseText)}var mg={version:"3.5.16"},ng=[].slice,og=function(a){return ng.call(a)},pg=this.document;if(pg)try{og(pg.documentElement.childNodes)[0].nodeType}catch(qg){og=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),pg)try{pg.createElement("DIV").style.setProperty("opacity",0,"")}catch(rg){var sg=this.Element.prototype,tg=sg.setAttribute,ug=sg.setAttributeNS,vg=this.CSSStyleDeclaration.prototype,wg=vg.setProperty;sg.setAttribute=function(a,b){tg.call(this,a,b+"")},sg.setAttributeNS=function(a,b,c){ug.call(this,a,b,c+"")},vg.setProperty=function(a,b,c){wg.call(this,a,b+"",c)}}mg.ascending=h,mg.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},mg.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},mg.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},mg.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),d>e&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),d>e&&(e=d))}return[c,e]},mg.sum=function(a,b){var c,d=0,e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)j(c=+a[f])&&(d+=c);else for(;++f<e;)j(c=+b.call(a,a[f],f))&&(d+=c);return d},mg.mean=function(a,b){var c,d=0,e=a.length,f=-1,g=e;if(1===arguments.length)for(;++f<e;)j(c=i(a[f]))?d+=c:--g;else for(;++f<e;)j(c=i(b.call(a,a[f],f)))?d+=c:--g;return g?d/g:void 0},mg.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},mg.median=function(a,b){var c,d=[],e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)j(c=i(a[f]))&&d.push(c);else for(;++f<e;)j(c=i(b.call(a,a[f],f)))&&d.push(c);return d.length?mg.quantile(d.sort(h),.5):void 0},mg.variance=function(a,b){var c,d,e=a.length,f=0,g=0,h=-1,k=0;if(1===arguments.length)for(;++h<e;)j(c=i(a[h]))&&(d=c-f,f+=d/++k,g+=d*(c-f));else for(;++h<e;)j(c=i(b.call(a,a[h],h)))&&(d=c-f,f+=d/++k,g+=d*(c-f));return k>1?g/(k-1):void 0},mg.deviation=function(){var a=mg.variance.apply(this,arguments);return a?Math.sqrt(a):a};var xg=k(h);mg.bisectLeft=xg.left,mg.bisect=mg.bisectRight=xg.right,mg.bisector=function(a){return k(1===a.length?function(b,c){return h(a(b),c)}:a)},mg.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},mg.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},mg.pairs=function(a){for(var b,c=0,d=a.length-1,e=a[0],f=new Array(0>d?0:d);d>c;)f[c]=[b=e,e=a[++c]];return f},mg.transpose=function(a){if(!(e=a.length))return[];for(var b=-1,c=mg.min(a,l),d=new Array(c);++b<c;)for(var e,f=-1,g=d[b]=new Array(e);++f<e;)g[f]=a[f][b];return d},mg.zip=function(){return mg.transpose(arguments)},mg.keys=function(a){var b=[];for(var c in a)b.push(c);return b},mg.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},mg.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},mg.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var yg=Math.abs;mg.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var d,e=[],f=m(yg(c)),g=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},mg.map=function(a,b){var c=new o;if(a instanceof o)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};var zg="__proto__",Ag="\x00";n(o,{has:r,get:function(a){return this._[p(a)]},set:function(a,b){return this._[p(a)]=b},remove:s,keys:t,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:q(b),value:this._[b]});return a},size:u,empty:v,forEach:function(a){for(var b in this._)a.call(this,q(b),this._[b])}}),mg.nest=function(){function a(b,g,h){if(h>=f.length)return d?d.call(e,g):c?g.sort(c):g;for(var i,j,k,l,m=-1,n=g.length,p=f[h++],q=new o;++m<n;)(l=q.get(i=p(j=g[m])))?l.push(j):q.set(i,[j]);return b?(j=b(),k=function(c,d){j.set(c,a(b,d,h))}):(j={},k=function(c,d){j[c]=a(b,d,h)}),q.forEach(k),j}function b(a,c){if(c>=f.length)return a;var d=[],e=g[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],g=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(mg.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return g[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e},mg.set=function(a){var b=new w;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b},n(w,{has:r,add:function(a){return this._[p(a+="")]=!0,a},remove:s,values:t,size:u,empty:v,forEach:function(a){for(var b in this._)a.call(this,q(b))}}),mg.behavior={},mg.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=y(a,b,b[c]);return a};var Bg=["webkit","ms","moz","Moz","o","O"];mg.dispatch=function(){for(var a=new B,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=C(a);return a},B.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},mg.event=null,mg.requote=function(a){return a.replace(Cg,"\\$&")};var Cg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Dg={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},Eg=function(a,b){return b.querySelector(a)},Fg=function(a,b){return b.querySelectorAll(a)},Gg=function(a,b){var c=a.matches||a[z(a,"matchesSelector")];return(Gg=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(Eg=function(a,b){return Sizzle(a,b)[0]||null},Fg=Sizzle,Gg=Sizzle.matchesSelector),mg.selection=function(){return mg.select(pg.documentElement)};var Hg=mg.selection.prototype=[];Hg.select=function(a){var b,c,d,e,f=[];a=H(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return G(f)},Hg.selectAll=function(a){var b,c,d=[];a=I(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)(c=g[h])&&(d.push(b=og(a.call(c,c.__data__,h,e))),b.parentNode=c);return G(d)};var Ig="http://www.w3.org/1999/xhtml",Jg={svg:"http://www.w3.org/2000/svg",xhtml:Ig,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};mg.ns={prefix:Jg,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),Jg.hasOwnProperty(c)?{space:Jg[c],local:a}:a}},Hg.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node();return a=mg.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(J(b,a[b]));return this}return this.each(J(a,b))},Hg.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=M(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!L(a[e]).test(b))return!1;return!0}for(b in a)this.each(N(b,a[b]));return this}return this.each(N(a,b))},Hg.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b="");for(c in a)this.each(P(c,a[c],b));return this}if(2>d){var e=this.node();return g(e).getComputedStyle(e,null).getPropertyValue(a)}c=""}return this.each(P(a,b,c))},Hg.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(Q(b,a[b]));return this}return this.each(Q(a,b))},Hg.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},Hg.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},Hg.append=function(a){return a=R(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},Hg.insert=function(a,b){return a=R(a),b=H(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},Hg.remove=function(){return this.each(S)},Hg.data=function(a,b){function c(a,c){var d,e,f,g=a.length,k=c.length,l=Math.min(g,k),m=new Array(k),n=new Array(k),p=new Array(g);if(b){var q,r=new o,s=new Array(g);for(d=-1;++d<g;)(e=a[d])&&(r.has(q=b.call(e,e.__data__,d))?p[d]=e:r.set(q,e),s[d]=q);for(d=-1;++d<k;)(e=r.get(q=b.call(c,f=c[d],d)))?e!==!0&&(m[d]=e,e.__data__=f):n[d]=T(f),r.set(q,!0);for(d=-1;++d<g;)d in s&&r.get(s[d])!==!0&&(p[d]=a[d])}else{for(d=-1;++d<l;)e=a[d],f=c[d],e?(e.__data__=f,m[d]=e):n[d]=T(f);for(;k>d;++d)n[d]=T(c[d]);for(;g>d;++d)p[d]=a[d]}n.update=m,n.parentNode=m.parentNode=p.parentNode=a.parentNode,h.push(n),i.push(m),j.push(p)}var d,e,f=-1,g=this.length;if(!arguments.length){for(a=new Array(g=(d=this[0]).length);++f<g;)(e=d[f])&&(a[f]=e.__data__);return a}var h=X([]),i=G([]),j=G([]);if("function"==typeof a)for(;++f<g;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<g;)c(d=this[f],a);return i.enter=function(){return h},i.exit=function(){return j},i},Hg.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},Hg.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=U(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return G(e)},Hg.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},Hg.sort=function(a){a=V.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Hg.each=function(a){return W(this,function(b,c,d){a.call(b,b.__data__,c,d)})},Hg.call=function(a){var b=og(arguments);return a.apply(b[0]=this,b),this},Hg.empty=function(){return!this.node()},Hg.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null},Hg.size=function(){var a=0;return W(this,function(){++a}),a};var Kg=[];mg.selection.enter=X,mg.selection.enter.prototype=Kg,Kg.append=Hg.append,Kg.empty=Hg.empty,Kg.node=Hg.node,Kg.call=Hg.call,Kg.size=Hg.size,Kg.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return G(g)},Kg.insert=function(a,b){return arguments.length<2&&(b=Y(this)),Hg.insert.call(this,a,b)},mg.select=function(a){var b;return"string"==typeof a?(b=[Eg(a,pg)],b.parentNode=pg.documentElement):(b=[a],b.parentNode=f(a)),G([b])},mg.selectAll=function(a){var b;return"string"==typeof a?(b=og(Fg(a,pg)),b.parentNode=pg.documentElement):(b=og(a),b.parentNode=null),G([b])},Hg.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each(Z(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(Z(a,b,c))};var Lg=mg.map({mouseenter:"mouseover",mouseleave:"mouseout"});pg&&Lg.forEach(function(a){"on"+a in pg&&Lg.remove(a)});var Mg,Ng=0;mg.mouse=function(a){return ba(a,E())};var Og=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;mg.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=E().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return ba(a,d)},mg.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",f)}function b(a,b,e,f,g){return function(){function h(){var a,c,d=b(m,p);d&&(a=d[0]-t[0],c=d[1]-t[1],o|=a|c,t=d,n({type:"drag",x:d[0]+j[0],y:d[1]+j[1],dx:a,dy:c}))}function i(){b(m,p)&&(r.on(f+q,null).on(g+q,null),s(o),n({type:"dragend"}))}var j,k=this,l=mg.event.target.correspondingElement||mg.event.target,m=k.parentNode,n=c.of(k,arguments),o=0,p=a(),q=".drag"+(null==p?"":"-"+p),r=mg.select(e(l)).on(f+q,h).on(g+q,i),s=aa(l),t=b(m,p);d?(j=d.apply(k,arguments),j=[j.x-t[0],j.y-t[1]]):j=[0,0],n({type:"dragstart"})}}var c=F(a,"drag","dragstart","dragend"),d=null,e=b(A,mg.mouse,g,"mousemove","mouseup"),f=b(ca,mg.touch,x,"touchmove","touchend");return a.origin=function(b){return arguments.length?(d=b,a):d},mg.rebind(a,c,"on")},mg.touches=function(a,b){return arguments.length<2&&(b=E().touches),b?og(b).map(function(b){var c=ba(a,b);return c.identifier=b.identifier,c}):[]};var Pg=1e-6,Qg=Pg*Pg,Rg=Math.PI,Sg=2*Rg,Tg=Sg-Pg,Ug=Rg/2,Vg=Rg/180,Wg=180/Rg,Xg=Math.SQRT2,Yg=2,Zg=4;mg.interpolateZoom=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(Qg>m)d=Math.log(j/g)/Xg,c=function(a){return[e+a*k,f+a*l,g*Math.exp(Xg*a*d)]};else{var n=Math.sqrt(m),o=(j*j-g*g+Zg*m)/(2*g*Yg*n),p=(j*j-g*g-Zg*m)/(2*j*Yg*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);d=(r-q)/Xg,c=function(a){var b=a*d,c=ia(q),h=g/(Yg*n)*(c*ja(Xg*b+q)-ha(q));return[e+h*k,f+h*l,g*c/ia(Xg*b+q)]}}return c.duration=1e3*d,c},mg.behavior.zoom=function(){function a(a){a.on(E,l).on(_g+".zoom",n).on("dblclick.zoom",o).on(I,m)}function b(a){return[(a[0]-y.x)/y.k,(a[1]-y.y)/y.k]}function c(a){return[a[0]*y.k+y.x,a[1]*y.k+y.y]}function d(a){y.k=Math.max(A[0],Math.min(A[1],a))}function e(a,b){b=c(b),y.x+=a[0]-b[0],y.y+=a[1]-b[1]}function f(b,c,f,g){b.__chart__={x:y.x,y:y.y,k:y.k},d(Math.pow(2,g)),e(q=c,f),b=mg.select(b),B>0&&(b=b.transition().duration(B)),b.call(a.event)}function h(){v&&v.domain(u.range().map(function(a){return(a-y.x)/y.k}).map(u.invert)),x&&x.domain(w.range().map(function(a){return(a-y.y)/y.k}).map(w.invert))}function i(a){C++||a({type:"zoomstart"})}function j(a){h(),a({type:"zoom",scale:y.k,translate:[y.x,y.y]})}function k(a){--C||(a({type:"zoomend"}),q=null)}function l(){function a(){h=1,e(mg.mouse(d),m),j(f)}function c(){l.on(G,null).on(H,null),n(h),k(f)}var d=this,f=J.of(d,arguments),h=0,l=mg.select(g(d)).on(G,a).on(H,c),m=b(mg.mouse(d)),n=aa(d);Ui.call(d),i(f)}function m(){function a(){var a=mg.touches(o);return n=y.k,a.forEach(function(a){a.identifier in q&&(q[a.identifier]=b(a))}),a}function c(){var b=mg.event.target;mg.select(b).on(u,g).on(v,h),w.push(b);for(var c=mg.event.changedTouches,d=0,e=c.length;e>d;++d)q[c[d].identifier]=null;var i=a(),j=Date.now();if(1===i.length){if(500>j-t){var k=i[0];f(o,k,q[k.identifier],Math.floor(Math.log(y.k)/Math.LN2)+1),D()}t=j}else if(i.length>1){var k=i[0],l=i[1],m=k[0]-l[0],n=k[1]-l[1];r=m*m+n*n}}function g(){var a,b,c,f,g=mg.touches(o);Ui.call(o);for(var h=0,i=g.length;i>h;++h,f=null)if(c=g[h],f=q[c.identifier]){if(b)break;a=c,b=f}if(f){var k=(k=c[0]-a[0])*k+(k=c[1]-a[1])*k,l=r&&Math.sqrt(k/r);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],b=[(b[0]+f[0])/2,(b[1]+f[1])/2],d(l*n)}t=null,e(a,b),j(p)}function h(){if(mg.event.touches.length){for(var b=mg.event.changedTouches,c=0,d=b.length;d>c;++c)delete q[b[c].identifier];for(var e in q)return void a()}mg.selectAll(w).on(s,null),x.on(E,l).on(I,m),z(),k(p)}var n,o=this,p=J.of(o,arguments),q={},r=0,s=".zoom-"+mg.event.changedTouches[0].identifier,u="touchmove"+s,v="touchend"+s,w=[],x=mg.select(o),z=aa(o);c(),i(p),x.on(E,null).on(I,c)}function n(){var a=J.of(this,arguments);s?clearTimeout(s):(Ui.call(this),p=b(q=r||mg.mouse(this)),i(a)),s=setTimeout(function(){s=null,k(a)},50),D(),d(Math.pow(2,.002*$g())*y.k),e(q,p),j(a)}function o(){var a=mg.mouse(this),c=Math.log(y.k)/Math.LN2;f(this,a,b(a),mg.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var p,q,r,s,t,u,v,w,x,y={x:0,y:0,k:1},z=[960,500],A=ah,B=250,C=0,E="mousedown.zoom",G="mousemove.zoom",H="mouseup.zoom",I="touchstart.zoom",J=F(a,"zoomstart","zoom","zoomend");return _g||(_g="onwheel"in pg?($g=function(){return-mg.event.deltaY*(mg.event.deltaMode?120:1)},"wheel"):"onmousewheel"in pg?($g=function(){return mg.event.wheelDelta},"mousewheel"):($g=function(){return-mg.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=J.of(this,arguments),b=y;Si?mg.select(this).transition().each("start.zoom",function(){y=this.__chart__||{x:0,y:0,k:1},i(a)}).tween("zoom:zoom",function(){var c=z[0],d=z[1],e=q?q[0]:c/2,f=q?q[1]:d/2,g=mg.interpolateZoom([(e-y.x)/y.k,(f-y.y)/y.k,c/y.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var d=g(b),h=c/d[2];this.__chart__=y={x:e-d[0]*h,y:f-d[1]*h,k:h},j(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=y,i(a),j(a),k(a))})},a.translate=function(b){return arguments.length?(y={x:+b[0],y:+b[1],k:y.k},h(),a):[y.x,y.y]},a.scale=function(b){return arguments.length?(y={x:y.x,y:y.y,k:null},d(+b),h(),a):y.k},a.scaleExtent=function(b){return arguments.length?(A=null==b?ah:[+b[0],+b[1]],a):A},a.center=function(b){return arguments.length?(r=b&&[+b[0],+b[1]],a):r},a.size=function(b){return arguments.length?(z=b&&[+b[0],+b[1]],a):z},a.duration=function(b){return arguments.length?(B=+b,a):B},a.x=function(b){return arguments.length?(v=b,u=b.copy(),y={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(x=b,w=b.copy(),y={x:0,y:0,k:1},a):x},mg.rebind(a,J,"on")};var $g,_g,ah=[0,1/0];mg.color=la,la.prototype.toString=function(){return this.rgb()+""},mg.hsl=ma;var bh=ma.prototype=new la;bh.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new ma(this.h,this.s,this.l/a)},bh.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ma(this.h,this.s,a*this.l)},bh.rgb=function(){return na(this.h,this.s,this.l)},mg.hcl=oa;var ch=oa.prototype=new la;ch.brighter=function(a){return new oa(this.h,this.c,Math.min(100,this.l+dh*(arguments.length?a:1)))},ch.darker=function(a){return new oa(this.h,this.c,Math.max(0,this.l-dh*(arguments.length?a:1)))},ch.rgb=function(){return pa(this.h,this.c,this.l).rgb()},mg.lab=qa;var dh=18,eh=.95047,fh=1,gh=1.08883,hh=qa.prototype=new la;hh.brighter=function(a){return new qa(Math.min(100,this.l+dh*(arguments.length?a:1)),this.a,this.b)},hh.darker=function(a){return new qa(Math.max(0,this.l-dh*(arguments.length?a:1)),this.a,this.b)},hh.rgb=function(){return ra(this.l,this.a,this.b)},mg.rgb=wa;var ih=wa.prototype=new la;ih.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&e>b&&(b=e),c&&e>c&&(c=e),d&&e>d&&(d=e),new wa(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new wa(e,e,e)},ih.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new wa(a*this.r,a*this.g,a*this.b)},ih.hsl=function(){return Ba(this.r,this.g,this.b)},ih.toString=function(){return"#"+za(this.r)+za(this.g)+za(this.b)};var jh=mg.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,
olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});jh.forEach(function(a,b){jh.set(a,xa(b))}),mg.functor=Fa,mg.xhr=Ga(x),mg.dsv=function(a,b){function c(a,c,f){arguments.length<3&&(f=c,c=null);var g=Ha(a,b,null==c?d:e(c),f);return g.row=function(a){return arguments.length?g.response(null==(c=a)?d:e(a)):c},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<j;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var d=a.charCodeAt(c+1);return 13===d?(e=!0,10===a.charCodeAt(c+2)&&++k):10===d&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;j>k;){var d=a.charCodeAt(k++),h=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(d!==i)continue;return a.slice(b,k-h)}return a.slice(b)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new w,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c},mg.csv=mg.dsv(",","text/csv"),mg.tsv=mg.dsv("	","text/tab-separated-values");var kh,lh,mh,nh,oh=this[z(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};mg.timer=function(){Ka.apply(this,arguments)},mg.timer.flush=function(){Ma(),Na()},mg.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var ph=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pa);mg.formatPrefix=function(a,b){var c=0;return(a=+a)&&(0>a&&(a*=-1),b&&(a=mg.round(a,Oa(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),ph[8+c/3]};var qh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,rh=mg.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=mg.round(a,Oa(a,b))).toFixed(Math.max(0,Math.min(20,Oa(a*(1+1e-15),b))))}}),sh=mg.time={},th=Date;Sa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){uh.setUTCDate.apply(this._,arguments)},setDay:function(){uh.setUTCDay.apply(this._,arguments)},setFullYear:function(){uh.setUTCFullYear.apply(this._,arguments)},setHours:function(){uh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){uh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){uh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){uh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){uh.setUTCSeconds.apply(this._,arguments)},setTime:function(){uh.setTime.apply(this._,arguments)}};var uh=Date.prototype;sh.year=Ta(function(a){return a=sh.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),sh.years=sh.year.range,sh.years.utc=sh.year.utc.range,sh.day=Ta(function(a){var b=new th(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),sh.days=sh.day.range,sh.days.utc=sh.day.utc.range,sh.dayOfYear=function(a){var b=sh.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=sh[a]=Ta(function(a){return(a=sh.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=sh.year(a).getDay();return Math.floor((sh.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});sh[a+"s"]=c.range,sh[a+"s"].utc=c.utc.range,sh[a+"OfYear"]=function(a){var c=sh.year(a).getDay();return Math.floor((sh.dayOfYear(a)+(c+b)%7)/7)}}),sh.week=sh.sunday,sh.weeks=sh.sunday.range,sh.weeks.utc=sh.sunday.utc.range,sh.weekOfYear=sh.sundayOfYear;var vh={"-":"",_:" ",0:"0"},wh=/^\s*\d+/,xh=/^%/;mg.locale=function(a){return{numberFormat:Qa(a),timeFormat:Va(a)}};var yh=mg.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});mg.format=yh.numberFormat,mg.geo={},ob.prototype={s:0,t:0,add:function(a){pb(a,this.t,zh),pb(zh.s,this.s,this),this.s?this.t+=zh.t:this.s=zh.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var zh=new ob;mg.geo.stream=function(a,b){a&&Ah.hasOwnProperty(a.type)?Ah[a.type](a,b):qb(a,b)};var Ah={Feature:function(a,b){qb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)qb(c[d].geometry,b)}},Bh={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){rb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)rb(c[d],b,0)},Polygon:function(a,b){sb(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)sb(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)qb(c[d],b)}};mg.geo.area=function(a){return Ch=0,mg.geo.stream(a,Eh),Ch};var Ch,Dh=new ob,Eh={sphere:function(){Ch+=4*Rg},point:A,lineStart:A,lineEnd:A,polygonStart:function(){Dh.reset(),Eh.lineStart=tb},polygonEnd:function(){var a=2*Dh;Ch+=0>a?4*Rg+a:a,Eh.lineStart=Eh.lineEnd=Eh.point=A}};mg.geo.bounds=function(){function a(a,b){t.push(u=[k=a,m=a]),l>b&&(l=b),b>n&&(n=b)}function b(b,c){var d=ub([b*Vg,c*Vg]);if(r){var e=wb(r,d),f=[e[1],-e[0],0],g=wb(f,e);zb(g),g=Ab(g);var i=b-o,j=i>0?1:-1,p=g[0]*Wg*j,q=yg(i)>180;if(q^(p>j*o&&j*b>p)){var s=g[1]*Wg;s>n&&(n=s)}else if(p=(p+360)%360-180,q^(p>j*o&&j*b>p)){var s=-g[1]*Wg;l>s&&(l=s)}else l>c&&(l=c),c>n&&(n=c);q?o>b?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b):m>=k?(k>b&&(k=b),b>m&&(m=b)):b>o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b)}else a(b,c);r=d,o=b}function c(){v.point=b}function d(){u[0]=k,u[1]=m,v.point=a,r=null}function e(a,c){if(r){var d=a-o;s+=yg(d)>180?d+(d>0?360:-360):d}else p=a,q=c;Eh.point(a,c),b(a,c)}function f(){Eh.lineStart()}function g(){e(p,q),Eh.lineEnd(),yg(s)>Pg&&(k=-(m=180)),u[0]=k,u[1]=m,r=null}function h(a,b){return(b-=a)<0?b+360:b}function i(a,b){return a[0]-b[0]}function j(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,l,m,n,o,p,q,r,s,t,u,v={point:a,lineStart:c,lineEnd:d,polygonStart:function(){v.point=e,v.lineStart=f,v.lineEnd=g,s=0,Eh.polygonStart()},polygonEnd:function(){Eh.polygonEnd(),v.point=a,v.lineStart=c,v.lineEnd=d,0>Dh?(k=-(m=180),l=-(n=90)):s>Pg?n=90:-Pg>s&&(l=-90),u[0]=k,u[1]=m}};return function(a){n=m=-(k=l=1/0),t=[],mg.geo.stream(a,v);var b=t.length;if(b){t.sort(i);for(var c,d=1,e=t[0],f=[e];b>d;++d)c=t[d],j(c[0],e)||j(c[1],e)?(h(e[0],c[1])>h(e[0],e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):f.push(e=c);for(var g,c,o=-(1/0),b=f.length-1,d=0,e=f[b];b>=d;e=c,++d)c=f[d],(g=h(e[1],c[0]))>o&&(o=g,k=c[0],m=e[1])}return t=u=null,k===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,l],[m,n]]}}(),mg.geo.centroid=function(a){Fh=Gh=Hh=Ih=Jh=Kh=Lh=Mh=Nh=Oh=Ph=0,mg.geo.stream(a,Qh);var b=Nh,c=Oh,d=Ph,e=b*b+c*c+d*d;return Qg>e&&(b=Kh,c=Lh,d=Mh,Pg>Gh&&(b=Hh,c=Ih,d=Jh),e=b*b+c*c+d*d,Qg>e)?[NaN,NaN]:[Math.atan2(c,b)*Wg,ga(d/Math.sqrt(e))*Wg]};var Fh,Gh,Hh,Ih,Jh,Kh,Lh,Mh,Nh,Oh,Ph,Qh={sphere:A,point:Cb,lineStart:Eb,lineEnd:Fb,polygonStart:function(){Qh.lineStart=Gb},polygonEnd:function(){Qh.lineStart=Eb}},Rh=Mb(Ib,Qb,Sb,[-Rg,-Rg/2]),Sh=1e9;mg.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=Wb(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(mg.geo.conicEqualArea=function(){return Xb(Yb)}).raw=Yb,mg.geo.albers=function(){return mg.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},mg.geo.albersUsa=function(){function a(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}var b,c,d,e,f=mg.geo.albers(),g=mg.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=mg.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&.234>e&&d>=-.425&&-.214>d?g:e>=.166&&.234>e&&d>=-.214&&-.115>d?h:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),g.precision(b),h.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),g.scale(.35*b),h.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var j=f.scale(),k=+b[0],l=+b[1];return c=f.translate(b).clipExtent([[k-.455*j,l-.238*j],[k+.455*j,l+.238*j]]).stream(i).point,d=g.translate([k-.307*j,l+.201*j]).clipExtent([[k-.425*j+Pg,l+.12*j+Pg],[k-.214*j-Pg,l+.234*j-Pg]]).stream(i).point,e=h.translate([k-.205*j,l+.212*j]).clipExtent([[k-.214*j+Pg,l+.166*j+Pg],[k-.115*j-Pg,l+.234*j-Pg]]).stream(i).point,a},a.scale(1070)};var Th,Uh,Vh,Wh,Xh,Yh,Zh={point:A,lineStart:A,lineEnd:A,polygonStart:function(){Uh=0,Zh.lineStart=Zb},polygonEnd:function(){Zh.lineStart=Zh.lineEnd=Zh.point=A,Th+=yg(Uh/2)}},$h={point:$b,lineStart:A,lineEnd:A,polygonStart:A,polygonEnd:A},_h={point:bc,lineStart:cc,lineEnd:dc,polygonStart:function(){_h.lineStart=ec},polygonEnd:function(){_h.point=bc,_h.lineStart=cc,_h.lineEnd=dc}};mg.geo.path=function(){function a(a){return a&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),g&&g.valid||(g=e(f)),mg.geo.stream(a,g)),f.result()}function b(){return g=null,a}var c,d,e,f,g,h=4.5;return a.area=function(a){return Th=0,mg.geo.stream(a,e(Zh)),Th},a.centroid=function(a){return Hh=Ih=Jh=Kh=Lh=Mh=Nh=Oh=Ph=0,mg.geo.stream(a,e(_h)),Ph?[Nh/Ph,Oh/Ph]:Mh?[Kh/Mh,Lh/Mh]:Jh?[Hh/Jh,Ih/Jh]:[NaN,NaN]},a.bounds=function(a){return Xh=Yh=-(Vh=Wh=1/0),mg.geo.stream(a,e($h)),[[Vh,Wh],[Xh,Yh]]},a.projection=function(a){return arguments.length?(e=(c=a)?a.stream||hc(a):x,b()):c},a.context=function(a){return arguments.length?(f=null==(d=a)?new _b:new fc(a),"function"!=typeof h&&f.pointRadius(h),b()):d},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(mg.geo.albersUsa()).context(null)},mg.geo.transform=function(a){return{stream:function(b){var c=new ic(b);for(var d in a)c[d]=a[d];return c}}},ic.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},mg.geo.projection=kc,mg.geo.projectionMutator=lc,(mg.geo.equirectangular=function(){return kc(nc)}).raw=nc.invert=nc,mg.geo.rotation=function(a){function b(b){return b=a(b[0]*Vg,b[1]*Vg),b[0]*=Wg,b[1]*=Wg,b}return a=pc(a[0]%360*Vg,a[1]*Vg,a.length>2?a[2]*Vg:0),b.invert=function(b){return b=a.invert(b[0]*Vg,b[1]*Vg),b[0]*=Wg,b[1]*=Wg,b},b},oc.invert=nc,mg.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=pc(-a[0]*Vg,-a[1]*Vg,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,c)),a[0]*=Wg,a[1]*=Wg}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=tc((b=+d)*Vg,e*Vg),a):b},a.precision=function(d){return arguments.length?(c=tc(b*Vg,(e=+d)*Vg),a):e},a.angle(90)},mg.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Vg,e=a[1]*Vg,f=b[1]*Vg,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},mg.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return mg.range(Math.ceil(f/q)*q,e,q).map(m).concat(mg.range(Math.ceil(j/r)*r,i,r).map(n)).concat(mg.range(Math.ceil(d/o)*o,c,o).filter(function(a){return yg(a%q)>Pg}).map(k)).concat(mg.range(Math.ceil(h/p)*p,g,p).filter(function(a){return yg(a%r)>Pg}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.minorStep=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=vc(h,g,90),l=wc(d,c,s),m=vc(j,i,90),n=wc(f,e,s),a):s},a.majorExtent([[-180,-90+Pg],[180,90-Pg]]).minorExtent([[-180,-80-Pg],[180,80+Pg]])},mg.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=xc,e=yc;return a.distance=function(){return mg.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a},mg.geo.interpolate=function(a,b){return zc(a[0]*Vg,a[1]*Vg,b[0]*Vg,b[1]*Vg)},mg.geo.length=function(a){return ai=0,mg.geo.stream(a,bi),ai};var ai,bi={sphere:A,point:A,lineStart:Ac,lineEnd:A,polygonStart:A,polygonEnd:A},ci=Bc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(mg.geo.azimuthalEqualArea=function(){return kc(ci)}).raw=ci;var di=Bc(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},x);(mg.geo.azimuthalEquidistant=function(){return kc(di)}).raw=di,(mg.geo.conicConformal=function(){return Xb(Cc)}).raw=Cc,(mg.geo.conicEquidistant=function(){return Xb(Dc)}).raw=Dc;var ei=Bc(function(a){return 1/a},Math.atan);(mg.geo.gnomonic=function(){return kc(ei)}).raw=ei,Ec.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ug]},(mg.geo.mercator=function(){return Fc(Ec)}).raw=Ec;var fi=Bc(function(){return 1},Math.asin);(mg.geo.orthographic=function(){return kc(fi)}).raw=fi;var gi=Bc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(mg.geo.stereographic=function(){return kc(gi)}).raw=gi,Gc.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ug]},(mg.geo.transverseMercator=function(){var a=Fc(Gc),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Gc,mg.geom={},mg.geom.hull=function(a){function b(a){if(a.length<3)return[];var b,e=Fa(c),f=Fa(d),g=a.length,h=[],i=[];for(b=0;g>b;b++)h.push([+e.call(this,a[b],b),+f.call(this,a[b],b),b]);for(h.sort(Kc),b=0;g>b;b++)i.push([h[b][0],-h[b][1]]);var j=Jc(h),k=Jc(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(b=j.length-1;b>=0;--b)n.push(a[h[j[b]][2]]);for(b=+l;b<k.length-m;++b)n.push(a[h[k[b]][2]]);return n}var c=Hc,d=Ic;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)},mg.geom.polygon=function(a){return Dg(a,hi),a};var hi=mg.geom.polygon.prototype=[];hi.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},hi.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},hi.clip=function(a){for(var b,c,d,e,f,g,h=Nc(a),i=-1,j=this.length-Nc(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Lc(g,k,e)?(Lc(f,k,e)||a.push(Mc(f,g,k,e)),a.push(g)):Lc(f,k,e)&&a.push(Mc(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};var ii,ji,ki,li,mi,ni=[],oi=[];Vc.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Xc),b.length},fd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},gd.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=kd(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(id(this,c),a=c,c=a.U),c.C=!1,d.C=!0,jd(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(jd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,id(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?kd(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,id(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,jd(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,id(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,jd(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,id(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,jd(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}},mg.geom.voronoi=function(a){function b(a){var b=new Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];return ld(c(a),h).cells.forEach(function(c,h){var i=c.edges,j=c.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=d&&j.x<=f&&j.y>=e&&j.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[];k.point=a[h]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Pg)*Pg,y:Math.round(g(a,b)/Pg)*Pg,i:b}})}var d=Hc,e=Ic,f=d,g=e,h=pi;return a?b(a):(b.links=function(a){return ld(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return ld(c(a)).cells.forEach(function(c,d){for(var e,f,g=c.site,h=c.edges.sort(Xc),i=-1,j=h.length,k=h[j-1].edge,l=k.l===g?k.r:k.l;++i<j;)e=k,f=l,k=h[i].edge,l=k.l===g?k.r:k.l,d<f.i&&d<l.i&&nd(g,f,l)<0&&b.push([a[d],a[f.i],a[l.i]])}),b},b.x=function(a){return arguments.length?(f=Fa(d=a),b):d},b.y=function(a){return arguments.length?(g=Fa(e=a),b):e},b.clipExtent=function(a){return arguments.length?(h=null==a?pi:a,b):h===pi?null:h},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===pi?null:h&&h[1]},b)};var pi=[[-1e6,-1e6],[1e6,1e6]];mg.geom.delaunay=function(a){return mg.geom.voronoi().triangles(a)},mg.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,k=a.y;if(null!=i)if(yg(i-c)+yg(k-d)<.01)j(a,b,c,d,e,f,g,h);else{var l=a.point;a.x=a.y=a.point=null,j(a,l,i,k,e,f,g,h),j(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else j(a,b,c,d,e,f,g,h)}function j(a,b,c,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),l=c>=j,m=d>=k,n=m<<1|l;a.leaf=!1,a=a.nodes[n]||(a.nodes[n]=qd()),l?e=j:h=j,m?g=k:i=k,f(a,b,c,d,e,g,h,i)}var k,l,m,n,o,p,q,r,s,t=Fa(h),u=Fa(i);if(null!=b)p=b,q=c,r=d,s=e;else if(r=s=-(p=q=1/0),l=[],m=[],o=a.length,g)for(n=0;o>n;++n)k=a[n],k.x<p&&(p=k.x),k.y<q&&(q=k.y),k.x>r&&(r=k.x),k.y>s&&(s=k.y),l.push(k.x),m.push(k.y);else for(n=0;o>n;++n){var v=+t(k=a[n],n),w=+u(k,n);p>v&&(p=v),q>w&&(q=w),v>r&&(r=v),w>s&&(s=w),l.push(v),m.push(w)}var x=r-p,y=s-q;x>y?s=q+x:r=p+y;var z=qd();if(z.add=function(a){f(z,a,+t(a,++n),+u(a,n),p,q,r,s)},z.visit=function(a){rd(a,z,p,q,r,s)},z.find=function(a){return sd(z,a[0],a[1],p,q,r,s)},n=-1,null==b){for(;++n<o;)f(z,a[n],l[n],m[n],p,q,r,s);--n}else a.forEach(z.add);return l=m=a=k=null,z}var g,h=Hc,i=Ic;return(g=arguments.length)?(h=od,i=pd,3===g&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(i=a,f):i},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)},mg.interpolateRgb=td,mg.interpolateObject=ud,mg.interpolateNumber=vd,mg.interpolateString=wd;var qi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ri=new RegExp(qi.source,"g");mg.interpolate=xd,mg.interpolators=[function(a,b){var c=typeof b;return("string"===c?jh.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?td:wd:b instanceof la?td:Array.isArray(b)?yd:"object"===c&&isNaN(b)?ud:vd)(a,b)}],mg.interpolateArray=yd;var si=function(){return x},ti=mg.map({linear:si,poly:Fd,quad:function(){return Cd},cubic:function(){return Dd},sin:function(){return Gd},exp:function(){return Hd},circle:function(){return Id},elastic:Jd,back:Kd,bounce:function(){return Ld}}),ui=mg.map({"in":x,out:Ad,"in-out":Bd,"out-in":function(a){return Bd(Ad(a))}});mg.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,d=b>=0?a.slice(b+1):"in";return c=ti.get(c)||si,d=ui.get(d)||x,zd(d(c.apply(null,ng.call(arguments,1))))},mg.interpolateHcl=Md,mg.interpolateHsl=Nd,mg.interpolateLab=Od,mg.interpolateRound=Pd,mg.transform=function(a){var b=pg.createElementNS(mg.ns.prefix.svg,"g");return(mg.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Qd(c?c.matrix:vi)})(a)},Qd.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vi={a:1,b:0,c:0,d:1,e:0,f:0};mg.interpolateTransform=Zd,mg.layout={},mg.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(ae(a[c]));return b}},mg.layout.chord=function(){function a(){var a,j,l,m,n,o={},p=[],q=mg.range(f),r=[];for(c=[],d=[],a=0,m=-1;++m<f;){for(j=0,n=-1;++n<f;)j+=e[m][n];p.push(j),r.push(mg.range(f)),a+=j}for(g&&q.sort(function(a,b){return g(p[a],p[b])}),h&&r.forEach(function(a,b){a.sort(function(a,c){return h(e[b][a],e[b][c])})}),a=(Sg-k*f)/a,j=0,m=-1;++m<f;){for(l=j,n=-1;++n<f;){var s=q[m],t=r[s][n],u=e[s][t],v=j,w=j+=u*a;o[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}d[s]={index:s,startAngle:l,endAngle:j,value:p[s]},j+=k}for(m=-1;++m<f;)for(n=m-1;++n<f;){var x=o[m+"-"+n],y=o[n+"-"+m];(x.value||y.value)&&c.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}i&&b()}function b(){c.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,g,h,i,j={},k=0;return j.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,j):e},j.padding=function(a){return arguments.length?(k=a,c=d=null,j):k},j.sortGroups=function(a){return arguments.length?(g=a,c=d=null,j):g},j.sortSubgroups=function(a){return arguments.length?(h=a,c=null,j):h},j.sortChords=function(a){return arguments.length?(i=a,c&&b(),j):i},j.chords=function(){return c||a(),c},j.groups=function(){return d||a(),d},j},mg.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(i>h*h/r){if(p>i){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&p>i){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function b(a){a.px=mg.event.x,a.py=mg.event.y,i.resume()}var c,d,e,f,g,h,i={},j=mg.dispatch("start","tick","end"),k=[1,1],l=.9,m=wi,n=xi,o=-30,p=yi,q=.1,r=.64,s=[],t=[];return i.tick=function(){if((e*=.99)<.005)return c=null,j.end({type:"end",alpha:e=0}),!0;var b,d,i,m,n,p,r,u,v,w=s.length,x=t.length;for(d=0;x>d;++d)i=t[d],m=i.source,n=i.target,u=n.x-m.x,v=n.y-m.y,(p=u*u+v*v)&&(p=e*g[d]*((p=Math.sqrt(p))-f[d])/p,u*=p,v*=p,n.x-=u*(r=m.weight+n.weight?m.weight/(m.weight+n.weight):.5),n.y-=v*r,m.x+=u*(r=1-r),m.y+=v*r);if((r=e*q)&&(u=k[0]/2,v=k[1]/2,d=-1,r))for(;++d<w;)i=s[d],i.x+=(u-i.x)*r,i.y+=(v-i.y)*r;if(o)for(he(b=mg.geom.quadtree(s),e,h),d=-1;++d<w;)(i=s[d]).fixed||b.visit(a(i));for(d=-1;++d<w;)i=s[d],i.fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*l,i.y-=(i.py-(i.py=i.y))*l);j.tick({type:"tick",alpha:e})},i.nodes=function(a){return arguments.length?(s=a,i):s},i.links=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(k=a,i):k},i.linkDistance=function(a){return arguments.length?(m="function"==typeof a?a:+a,i):m},i.distance=i.linkDistance,i.linkStrength=function(a){return arguments.length?(n="function"==typeof a?a:+a,i):n},i.friction=function(a){return arguments.length?(l=+a,i):l},i.charge=function(a){return arguments.length?(o="function"==typeof a?a:+a,i):o},i.chargeDistance=function(a){return arguments.length?(p=a*a,i):Math.sqrt(p)},i.gravity=function(a){return arguments.length?(q=+a,i):q},i.theta=function(a){return arguments.length?(r=a*a,i):Math.sqrt(r)},i.alpha=function(a){return arguments.length?(a=+a,e?a>0?e=a:(c.c=null,c.t=NaN,c=null,j.end({type:"end",alpha:e=0})):a>0&&(j.start({type:"start",alpha:e=a}),c=Ka(i.tick)),i):e},i.start=function(){function a(a,d){if(!c){for(c=new Array(e),i=0;e>i;++i)c[i]=[];for(i=0;j>i;++i){var f=t[i];c[f.source.index].push(f.target),c[f.target.index].push(f.source)}}for(var g,h=c[b],i=-1,k=h.length;++i<k;)if(!isNaN(g=h[i][a]))return g;return Math.random()*d}var b,c,d,e=s.length,j=t.length,l=k[0],p=k[1];for(b=0;e>b;++b)(d=s[b]).index=b,d.weight=0;for(b=0;j>b;++b)d=t[b],"number"==typeof d.source&&(d.source=s[d.source]),"number"==typeof d.target&&(d.target=s[d.target]),++d.source.weight,++d.target.weight;for(b=0;e>b;++b)d=s[b],isNaN(d.x)&&(d.x=a("x",l)),isNaN(d.y)&&(d.y=a("y",p)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(f=[],"function"==typeof m)for(b=0;j>b;++b)f[b]=+m.call(this,t[b],b);else for(b=0;j>b;++b)f[b]=m;if(g=[],"function"==typeof n)for(b=0;j>b;++b)g[b]=+n.call(this,t[b],b);else for(b=0;j>b;++b)g[b]=n;if(h=[],"function"==typeof o)for(b=0;e>b;++b)h[b]=+o.call(this,s[b],b);else for(b=0;e>b;++b)h[b]=o;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return d||(d=mg.behavior.drag().origin(x).on("dragstart.force",de).on("drag.force",b).on("dragend.force",ee)),arguments.length?void this.on("mouseover.force",fe).on("mouseout.force",ge).call(d):d},mg.rebind(i,j,"on")};var wi=20,xi=1,yi=1/0;mg.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=c.call(a,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;d&&(f.value=0),f.children=j}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return ke(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b),d&&(e=a.parent)&&(e.value+=a.value)}),h}var b=ne,c=le,d=me;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(je(b,function(a){a.children&&(a.value=0)}),ke(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0),(c=b.parent)&&(c.value+=b.value)})),b},a},mg.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(d=b.value?d/b.value:0;++j<g;)a(h=f[j],c,i=h.value*d,e),c+=i}}function b(a){var c=a.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,b(c[f]));return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=mg.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},ie(c,d)},mg.layout.pie=function(){function a(g){var h,i=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(0>l?-1:1),o=mg.sum(j),p=o?(l-i*n)/o:0,q=mg.range(i),r=[];return null!=c&&q.sort(c===zi?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],g[b])}),q.forEach(function(a){r[a]={data:g[a],value:h=j[a],startAngle:k,endAngle:k+=h*p+n,padAngle:m}}),r}var b=Number,c=zi,d=0,e=Sg,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var zi={};mg.layout.stack=function(){function a(h,i){if(!(m=h.length))return h;var j=h.map(function(c,d){
return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i);j=mg.permute(j,l),k=mg.permute(k,l);var m,n,o,p,q=d.call(a,k,i),r=j[0].length;for(o=0;r>o;++o)for(e.call(a,j[0][o],p=q[o],k[0][o][1]),n=1;m>n;++n)e.call(a,j[n][o],p+=k[n-1][o][1],k[n][o][1]);return h}var b=x,c=se,d=te,e=re,f=pe,g=qe;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:Ai.get(b)||se,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:Bi.get(b)||te,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a};var Ai=mg.map({"inside-out":function(a){var b,c,d=a.length,e=a.map(ue),f=a.map(ve),g=mg.range(d).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(b=0;d>b;++b)c=g[b],i>h?(h+=f[c],j.push(c)):(i+=f[c],k.push(c));return k.reverse().concat(j)},reverse:function(a){return mg.range(a.length).reverse()},"default":se}),Bi=mg.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;f>c;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;m>c;++c){for(b=0,e=0;k>b;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];k>b;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);b>d;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,j>i&&(j=i)}for(c=0;m>c;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=g}for(c=0;f>c;++c)h[c]=0;return h},zero:te});mg.layout.histogram=function(){function a(a,f){for(var g,h,i=[],j=a.map(c,this),k=d.call(this,j,f),l=e.call(this,k,j,f),f=-1,m=j.length,n=l.length-1,o=b?1:1/m;++f<n;)g=i[f]=[],g.dx=l[f+1]-(g.x=l[f]),g.y=0;if(n>0)for(f=-1;++f<m;)h=j[f],h>=k[0]&&h<=k[1]&&(g=i[mg.bisect(l,h,1,n)-1],g.y+=o,g.push(a[f]));return i}var b=!0,c=Number,d=ze,e=xe;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=Fa(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return ye(a,b)}:Fa(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},mg.layout.pack=function(){function a(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,ke(h,function(a){a.r=+k(a.value)}),ke(h,Ee),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;ke(h,function(a){a.r+=l}),ke(h,Ee),ke(h,function(a){a.r-=l})}return He(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var b,c=mg.layout.hierarchy().sort(Ae),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},ie(a,c)},mg.layout.tree=function(){function a(a,e){var k=g.call(this,a,e),l=k[0],m=b(l);if(ke(m,c),m.parent.m=-m.z,je(m,d),j)je(l,f);else{var n=l,o=l,p=l;je(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=h(n,o)/2-n.x,r=i[0]/(o.x+h(o,n)/2+q),s=i[1]/(p.depth||1);je(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return k}function b(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;h>g;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){Ne(a);var f=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+h(a._,d._));a.parent.A=e(a,d,a.parent.A||c[0])}function d(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function e(a,b,c){if(b){for(var d,e=a,f=a,g=b,i=e.parent.children[0],j=e.m,k=f.m,l=g.m,m=i.m;g=Le(g),e=Ke(e),g&&e;)i=Ke(i),f=Le(f),f.a=a,d=g.z+l-e.z-j+h(g._,e._),d>0&&(Me(Oe(g,a,c),a,d),j+=d,k+=d),l+=g.m,j+=e.m,m+=i.m,k+=f.m;g&&!Le(f)&&(f.t=g,f.m+=l-k),e&&!Ke(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function f(a){a.x*=i[0],a.y=a.depth*i[1]}var g=mg.layout.hierarchy().sort(null).value(null),h=Je,i=[1,1],j=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(j=null==(i=b)?f:null,a):j?null:i},a.nodeSize=function(b){return arguments.length?(j=null==(i=b)?null:f,a):j?i:null},ie(a,g)},mg.layout.cluster=function(){function a(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;ke(i,function(a){var b=a.children;b&&b.length?(a.x=Qe(b),a.y=Pe(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=Re(i),l=Se(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return ke(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}var b=mg.layout.hierarchy().sort(null).value(null),c=Je,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},ie(a,b)},mg.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(0>b?0:b),c.area=isNaN(d)||0>=d?0:d}function b(c){var f=c.children;if(f&&f.length){var g,h,i,j=l(c),k=[],m=f.slice(),o=1/0,p="slice"===n?j.dx:"dice"===n?j.dy:"slice-dice"===n?1&c.depth?j.dy:j.dx:Math.min(j.dx,j.dy);for(a(m,j.dx*j.dy/c.value),k.area=0;(i=m.length)>0;)k.push(g=m[i-1]),k.area+=g.area,"squarify"!==n||(h=d(k,p))<=o?(m.pop(),o=h):(k.area-=k.pop().area,e(k,p,j,!1),p=Math.min(j.dx,j.dy),k.length=k.area=0,o=1/0);k.length&&(e(k,p,j,!0),k.length=k.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f,g=l(b),h=d.slice(),i=[];for(a(h,g.dx*g.dy/b.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(e(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(f>c&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*o/d,d/(b*f*o)):1/0}function e(a,b,c,d){var e,f=-1,g=a.length,h=c.x,j=c.y,k=b?i(a.area/b):0;if(b==c.dx){for((d||k>c.dy)&&(k=c.dy);++f<g;)e=a[f],e.x=h,e.y=j,e.dy=k,h+=e.dx=Math.min(c.x+c.dx-h,k?i(e.area/k):0);e.z=!0,e.dx+=c.x+c.dx-h,c.y+=k,c.dy-=k}else{for((d||k>c.dx)&&(k=c.dx);++f<g;)e=a[f],e.x=h,e.y=j,e.dx=k,j+=e.dy=Math.min(c.y+c.dy-j,k?i(e.area/k):0);e.z=!1,e.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function f(d){var e=g||h(d),f=e[0];return f.x=f.y=0,f.value?(f.dx=j[0],f.dy=j[1]):f.dx=f.dy=0,g&&h.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),m&&(g=e),e}var g,h=mg.layout.hierarchy(),i=Math.round,j=[1,1],k=null,l=Te,m=!1,n="squarify",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(j=a,f):j},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return null==c?Te(b):Ue(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return Ue(b,a)}if(!arguments.length)return k;var d;return l=null==(k=a)?Te:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(i=a?Math.round:Number,f):i!=Number},f.sticky=function(a){return arguments.length?(m=a,g=null,f):m},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"",f):n},ie(f,h)},mg.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=mg.random.normal.apply(mg,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=mg.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}},mg.scale={};var Ci={floor:x,ceil:x};mg.scale.linear=function(){return _e([0,1],[0,1],xd,!1)};var Di={s:1,g:1,p:1,r:1,e:1};mg.scale.log=function(){return hf(mg.scale.linear().domain([0,1]),10,!0,[1,10])};var Ei=mg.format(".0e"),Fi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};mg.scale.pow=function(){return jf(mg.scale.linear(),1,[0,1])},mg.scale.sqrt=function(){return mg.scale.pow().exponent(.5)},mg.scale.ordinal=function(){return lf([],{t:"range",a:[[]]})},mg.scale.category10=function(){return mg.scale.ordinal().range(Gi)},mg.scale.category20=function(){return mg.scale.ordinal().range(Hi)},mg.scale.category20b=function(){return mg.scale.ordinal().range(Ii)},mg.scale.category20c=function(){return mg.scale.ordinal().range(Ji)};var Gi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ya),Hi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ya),Ii=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ya),Ji=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ya);mg.scale.quantile=function(){return mf([],[])},mg.scale.quantize=function(){return nf(0,1,[0,1])},mg.scale.threshold=function(){return of([.5],[0,1])},mg.scale.identity=function(){return pf([0,1])},mg.svg={},mg.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),j=Math.max(0,+d.apply(this,arguments)),k=g.apply(this,arguments)-Ug,l=h.apply(this,arguments)-Ug,m=Math.abs(l-k),n=k>l?0:1;if(a>j&&(o=j,j=a,a=o),m>=Tg)return b(j,n)+(a?b(a,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+i.apply(this,arguments)||0)/2)&&(q=f===Ki?Math.sqrt(a*a+j*j):+f.apply(this,arguments),n||(B*=-1),j&&(B=ga(q/j*Math.sin(r))),a&&(A=ga(q/a*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Rg?0:1;if(B&&wf(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(a){w=a*Math.cos(l-A),x=a*Math.sin(l-A),y=a*Math.cos(k+A),z=a*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Rg?0:1;if(A&&wf(w,x,y,z)===1-n^F){var G=(k+l)/2;w=a*Math.cos(G),x=a*Math.sin(G),y=z=null}}else w=x=0;if(m>Pg&&(o=Math.min(Math.abs(j-a)/2,+e.apply(this,arguments)))>.001){p=j>a^n?0:1;var H=o,I=o;if(Rg>m){var J=null==y?[w,x]:null==u?[s,t]:Mc([s,t],[y,z],[u,v],[w,x]),K=s-J[0],L=t-J[1],M=u-J[0],N=v-J[1],O=1/Math.sin(Math.acos((K*M+L*N)/(Math.sqrt(K*K+L*L)*Math.sqrt(M*M+N*N)))/2),P=Math.sqrt(J[0]*J[0]+J[1]*J[1]);I=Math.min(o,(a-P)/(O-1)),H=Math.min(o,(j-P)/(O+1))}if(null!=u){var Q=xf(null==y?[w,x]:[y,z],[s,t],j,H,n),R=xf([u,v],[w,x],j,H,n);o===H?C.push("M",Q[0],"A",H,",",H," 0 0,",p," ",Q[1],"A",j,",",j," 0 ",1-n^wf(Q[1][0],Q[1][1],R[1][0],R[1][1]),",",n," ",R[1],"A",H,",",H," 0 0,",p," ",R[0]):C.push("M",Q[0],"A",H,",",H," 0 1,",p," ",R[0])}else C.push("M",s,",",t);if(null!=y){var S=xf([s,t],[y,z],a,-I,n),T=xf([w,x],null==u?[s,t]:[u,v],a,-I,n);o===I?C.push("L",T[0],"A",I,",",I," 0 0,",p," ",T[1],"A",a,",",a," 0 ",n^wf(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",I,",",I," 0 0,",p," ",S[0]):C.push("L",T[0],"A",I,",",I," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",a,",",a," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=rf,d=sf,e=qf,f=Ki,g=tf,h=uf,i=vf;return a.innerRadius=function(b){return arguments.length?(c=Fa(b),a):c},a.outerRadius=function(b){return arguments.length?(d=Fa(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=Fa(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Ki?Ki:Fa(b),a):f},a.startAngle=function(b){return arguments.length?(g=Fa(b),a):g},a.endAngle=function(b){return arguments.length?(h=Fa(b),a):h},a.padAngle=function(b){return arguments.length?(i=Fa(b),a):i},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Ug;return[Math.cos(b)*a,Math.sin(b)*a]},a};var Ki="auto";mg.svg.line=function(){return yf(x)};var Li=mg.map({linear:zf,"linear-closed":Af,step:Bf,"step-before":Cf,"step-after":Df,basis:Jf,"basis-open":Kf,"basis-closed":Lf,bundle:Mf,cardinal:Gf,"cardinal-open":Ef,"cardinal-closed":Ff,monotone:Sf});Li.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var Mi=[0,2/3,1/3,0],Ni=[0,1/3,2/3,0],Oi=[0,1/6,2/3,1/6];mg.svg.line.radial=function(){var a=yf(Tf);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},Cf.reverse=Df,Df.reverse=Cf,mg.svg.area=function(){return Uf(x)},mg.svg.area.radial=function(){var a=Uf(Tf);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},mg.svg.chord=function(){function a(a,h){var i=b(this,f,a,h),j=b(this,g,a,h);return"M"+i.p0+d(i.r,i.p1,i.a1-i.a0)+(c(i,j)?e(i.r,i.p1,i.r,i.p0):e(i.r,i.p1,j.r,j.p0)+d(j.r,j.p1,j.a1-j.a0)+e(j.r,j.p1,i.r,i.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d),f=h.call(a,e,d),g=i.call(a,e,d)-Ug,k=j.call(a,e,d)-Ug;return{r:f,a0:g,a1:k,p0:[f*Math.cos(g),f*Math.sin(g)],p1:[f*Math.cos(k),f*Math.sin(k)]}}function c(a,b){return a.a0==b.a0&&a.a1==b.a1}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Rg)+",1 "+b}function e(a,b,c,d){return"Q 0,0 "+d}var f=xc,g=yc,h=Vf,i=tf,j=uf;return a.radius=function(b){return arguments.length?(h=Fa(b),a):h},a.source=function(b){return arguments.length?(f=Fa(b),a):f},a.target=function(b){return arguments.length?(g=Fa(b),a):g},a.startAngle=function(b){return arguments.length?(i=Fa(b),a):i},a.endAngle=function(b){return arguments.length?(j=Fa(b),a):j},a},mg.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(d),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var b=xc,c=yc,d=Wf;return a.source=function(c){return arguments.length?(b=Fa(c),a):b},a.target=function(b){return arguments.length?(c=Fa(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},mg.svg.diagonal.radial=function(){var a=mg.svg.diagonal(),b=Wf,c=a.projection;return a.projection=function(a){return arguments.length?c(Xf(b=a)):b},a},mg.svg.symbol=function(){function a(a,d){return(Pi.get(b.call(this,a,d))||$f)(c.call(this,a,d))}var b=Zf,c=Yf;return a.type=function(c){return arguments.length?(b=Fa(c),a):b},a.size=function(b){return arguments.length?(c=Fa(b),a):c},a};var Pi=mg.map({circle:$f,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Ri)),c=b*Ri;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Qi),c=b*Qi/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Qi),c=b*Qi/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});mg.svg.symbolTypes=Pi.keys();var Qi=Math.sqrt(3),Ri=Math.tan(30*Vg);Hg.transition=function(a){for(var b,c,d=Si||++Wi,e=dg(a),f=[],g=Ti||{time:Date.now(),ease:Ed,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&eg(c,k,e,d,g),b.push(c)}return ag(f,e,d)},Hg.interrupt=function(a){return this.each(null==a?Ui:_f(dg(a)))};var Si,Ti,Ui=_f(dg()),Vi=[],Wi=0;Vi.call=Hg.call,Vi.empty=Hg.empty,Vi.node=Hg.node,Vi.size=Hg.size,mg.transition=function(a,b){return a&&a.transition?Si?a.transition(b):a:mg.selection().transition(a)},mg.transition.prototype=Vi,Vi.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=H(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),eg(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return ag(g,f,e)},Vi.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=I(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&eg(e,o,h,g,f),b.push(e)}return ag(i,h,g)},Vi.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=U(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return ag(e,this.namespace,this.id)},Vi.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):W(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Vi.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=g(c,a),function(a){this.setAttribute(h,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=g(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Zd:xd,h=mg.ns.qualify(a);return bg(this,"attr."+a,b,h.local?f:e)},Vi.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=mg.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Vi.style=function(a,b,c){function d(){this.style.removeProperty(a)}function e(b){return null==b?d:(b+="",function(){var d,e=g(this).getComputedStyle(this,null).getPropertyValue(a);return e!==b&&(d=xd(e,b),function(b){this.style.setProperty(a,d(b),c)})})}var f=arguments.length;if(3>f){if("string"!=typeof a){2>f&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return bg(this,"style."+a,b,e)},Vi.styleTween=function(a,b,c){function d(d,e){var f=b.call(this,d,e,g(this).getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),c)}}return arguments.length<3&&(c=""),this.tween("style."+a,d)},Vi.text=function(a){return bg(this,"text",a,cg)},Vi.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Vi.ease=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].ease:("function"!=typeof a&&(a=mg.ease.apply(mg,arguments)),W(this,function(d){d[c][b].ease=a}))},Vi.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:W(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Vi.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:W(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Vi.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<2){var e=Ti,f=Si;try{Si=c,W(this,function(b,e,f){Ti=b[d][c],a.call(b,b.__data__,e,f)})}finally{Ti=e,Si=f}}else W(this,function(e){var f=e[d][c];(f.event||(f.event=mg.dispatch("start","end","interrupt"))).on(a,b)});return this},Vi.transition=function(){for(var a,b,c,d,e=this.id,f=++Wi,g=this.namespace,h=[],i=0,j=this.length;j>i;i++){h.push(a=[]);for(var b=this[i],k=0,l=b.length;l>k;k++)(c=b[k])&&(d=c[g][e],eg(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return ag(h,g,f)},mg.svg.axis=function(){function a(a){a.each(function(){var a,j=mg.select(this),k=this.__chart__||c,l=this.__chart__=c.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==b?l.tickFormat?l.tickFormat.apply(l,h):x:b,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Pg),q=mg.transition(o.exit()).style("opacity",Pg).remove(),r=mg.transition(o.order()).style("opacity",1),s=Math.max(e,0)+g,t=We(l),u=j.selectAll(".domain").data([0]),v=(u.enter().append("path").attr("class","domain"),mg.transition(u));p.append("line"),p.append("text");var w,y,z,A,B=p.select("line"),C=r.select("line"),D=o.select("text").text(n),E=p.select("text"),F=r.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=fg,w="x",z="y",y="x2",A="y2",D.attr("dy",0>G?"0em":".71em").style("text-anchor","middle"),v.attr("d","M"+t[0]+","+G*f+"V0H"+t[1]+"V"+G*f)):(a=gg,w="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",0>G?"end":"start"),v.attr("d","M"+G*f+","+t[0]+"H0V"+t[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*s),C.attr(y,0).attr(A,G*e),F.attr(w,0).attr(z,G*s),l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else k.rangeBand?k=l:q.call(a,l,k);p.call(a,k,l),r.call(a,l,l)})}var b,c=mg.scale.linear(),d=Xi,e=6,f=6,g=3,h=[10],i=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Yi?b+"":Xi,a):d},a.ticks=function(){return arguments.length?(h=og(arguments),a):h},a.tickValues=function(b){return arguments.length?(i=b,a):i},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Xi="bottom",Yi={top:1,right:1,bottom:1,left:1};mg.svg.brush=function(){function a(f){f.each(function(){var f=mg.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),g=f.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=f.selectAll(".resize").data(p,x);h.exit().remove(),h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Zi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",a.empty()?"none":null);var i,l=mg.transition(f),m=mg.transition(g);j&&(i=We(j),m.attr("x",i[0]).attr("width",i[1]-i[0]),c(l)),k&&(i=We(k),m.attr("y",i[0]).attr("height",i[1]-i[0]),d(l)),b(l)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+m[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",l[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function d(a){a.select(".extent").attr("y",m[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",m[1]-m[0])}function e(){function e(){32==mg.event.keyCode&&(C||(t=null,F[0]-=l[1],F[1]-=m[1],C=2),D())}function p(){32==mg.event.keyCode&&2==C&&(F[0]+=l[1],F[1]+=m[1],C=0,D())}function q(){var a=mg.mouse(v),e=!1;u&&(a[0]+=u[0],a[1]+=u[1]),C||(mg.event.altKey?(t||(t=[(l[0]+l[1])/2,(m[0]+m[1])/2]),F[0]=l[+(a[0]<t[0])],F[1]=m[+(a[1]<t[1])]):t=null),A&&r(a,j,0)&&(c(y),e=!0),B&&r(a,k,1)&&(d(y),e=!0),e&&(b(y),x({type:"brush",mode:C?"move":"resize"}))}function r(a,b,c){var d,e,g=We(b),i=g[0],j=g[1],k=F[c],p=c?m:l,q=p[1]-p[0];return C&&(i-=k,j-=q+k),d=(c?o:n)?Math.max(i,Math.min(j,a[c])):a[c],C?e=(d+=k)+q:(t&&(k=Math.max(i,Math.min(j,2*t[c]-d))),d>k?(e=d,d=k):e=k),p[0]!=d||p[1]!=e?(c?h=null:f=null,p[0]=d,p[1]=e,!0):void 0}function s(){q(),y.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),mg.select("body").style("cursor",null),G.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),x({type:"brushend"})}var t,u,v=this,w=mg.select(mg.event.target),x=i.of(v,arguments),y=mg.select(v),z=w.datum(),A=!/^(n|s)$/.test(z)&&j,B=!/^(e|w)$/.test(z)&&k,C=w.classed("extent"),E=aa(v),F=mg.mouse(v),G=mg.select(g(v)).on("keydown.brush",e).on("keyup.brush",p);if(mg.event.changedTouches?G.on("touchmove.brush",q).on("touchend.brush",s):G.on("mousemove.brush",q).on("mouseup.brush",s),y.interrupt().selectAll("*").interrupt(),C)F[0]=l[0]-F[0],F[1]=m[0]-F[1];else if(z){var H=+/w$/.test(z),I=+/^n/.test(z);u=[l[1-H]-F[0],m[1-I]-F[1]],F[0]=l[H],F[1]=m[I]}else mg.event.altKey&&(t=F.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),mg.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),q()}var f,h,i=F(a,"brushstart","brush","brushend"),j=null,k=null,l=[0,0],m=[0,0],n=!0,o=!0,p=$i[0];return a.event=function(a){a.each(function(){var a=i.of(this,arguments),b={x:l,y:m,i:f,j:h},c=this.__chart__||b;this.__chart__=b,Si?mg.select(this).transition().each("start.brush",function(){f=c.i,h=c.j,l=c.x,m=c.y,a({type:"brushstart"})}).tween("brush:brush",function(){var c=yd(l,b.x),d=yd(m,b.y);return f=h=null,function(e){l=b.x=c(e),m=b.y=d(e),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){f=b.i,h=b.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(j=b,p=$i[!j<<1|!k],a):j},a.y=function(b){return arguments.length?(k=b,p=$i[!j<<1|!k],a):k},a.clamp=function(b){return arguments.length?(j&&k?(n=!!b[0],o=!!b[1]):j?n=!!b:k&&(o=!!b),a):j&&k?[n,o]:j?n:k?o:null},a.extent=function(b){var c,d,e,g,i;return arguments.length?(j&&(c=b[0],d=b[1],k&&(c=c[0],d=d[0]),f=[c,d],j.invert&&(c=j(c),d=j(d)),c>d&&(i=c,c=d,d=i),(c!=l[0]||d!=l[1])&&(l=[c,d])),k&&(e=b[0],g=b[1],j&&(e=e[1],g=g[1]),h=[e,g],k.invert&&(e=k(e),g=k(g)),e>g&&(i=e,e=g,g=i),(e!=m[0]||g!=m[1])&&(m=[e,g])),a):(j&&(f?(c=f[0],d=f[1]):(c=l[0],d=l[1],j.invert&&(c=j.invert(c),d=j.invert(d)),c>d&&(i=c,c=d,d=i))),k&&(h?(e=h[0],g=h[1]):(e=m[0],g=m[1],k.invert&&(e=k.invert(e),g=k.invert(g)),e>g&&(i=e,e=g,g=i))),j&&k?[[c,e],[d,g]]:j?[c,d]:k&&[e,g])},a.clear=function(){return a.empty()||(l=[0,0],m=[0,0],f=h=null),a},a.empty=function(){return!!j&&l[0]==l[1]||!!k&&m[0]==m[1]},mg.rebind(a,i,"on")};var Zi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$i=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],_i=sh.format=yh.timeFormat,aj=_i.utc,bj=aj("%Y-%m-%dT%H:%M:%S.%LZ");_i.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?hg:bj,hg.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},hg.toString=bj.toString,sh.second=Ta(function(a){return new th(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),sh.seconds=sh.second.range,sh.seconds.utc=sh.second.utc.range,sh.minute=Ta(function(a){return new th(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),sh.minutes=sh.minute.range,sh.minutes.utc=sh.minute.utc.range,sh.hour=Ta(function(a){var b=a.getTimezoneOffset()/60;return new th(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),sh.hours=sh.hour.range,sh.hours.utc=sh.hour.utc.range,sh.month=Ta(function(a){return a=sh.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),sh.months=sh.month.range,sh.months.utc=sh.month.utc.range;var cj=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],dj=[[sh.second,1],[sh.second,5],[sh.second,15],[sh.second,30],[sh.minute,1],[sh.minute,5],[sh.minute,15],[sh.minute,30],[sh.hour,1],[sh.hour,3],[sh.hour,6],[sh.hour,12],[sh.day,1],[sh.day,2],[sh.week,1],[sh.month,1],[sh.month,3],[sh.year,1]],ej=_i.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Ib]]),fj={range:function(a,b,c){return mg.range(Math.ceil(a/c)*c,+b,c).map(jg)},floor:x,ceil:x};dj.year=sh.year,sh.scale=function(){return ig(mg.scale.linear(),dj,ej)};var gj=dj.map(function(a){return[a[0].utc,a[1]]}),hj=aj.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Ib]]);gj.year=sh.year.utc,sh.scale.utc=function(){return ig(mg.scale.linear(),gj,hj)},mg.text=Ga(function(a){return a.responseText}),mg.json=function(a,b){return Ha(a,"application/json",kg,b)},mg.html=function(a,b){return Ha(a,"text/html",lg,b)},mg.xml=Ga(function(a){return a.responseXML}),this.d3=mg,d=mg,e="function"==typeof d?d.call(b,c,b,a):d,!(void 0!==e&&(a.exports=e))}()},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(33),j=c(31),k=c(30),l=d(k),m=c(28),n=d(m),o=c(2),p=d(o),q=void 0,r=function(){q={},q.defaultDiagramConfiguration={},q.diagramsRegistry=[],q.diagramNames=[],q.diagramFactoryMap={},q.createdDiagramsMaxId=0},s=function(){function a(b){f(this,a);var c=this,d=Object.getPrototypeOf(c);c.name=b.name,c._configuration=b.configuration||{},d.configurationKeys=b.configurationKeys||{},(0,i.each)(Object.keys(b.helpers),function(a){(0,i.isFunction)(b.helpers[a])&&(b.helpers[a]=(0,i.bind)(b.helpers[a],c))}),(0,i.merge)(c._configuration,q.defaultDiagramConfiguration),(0,i.each)(Object.keys(c._configuration),function(a){c.configCheckingLocalStorage(a,c._configuration[a])}),(0,i.defaults)(d,b.helpers)}return h(a,null,[{key:"convertDiagram",value:function(b,c){var d=a.getRegistryItemWithCreationId(b),e=d.data.slice(1),f=void 0,g=void 0;f=d.diagram.dataFromSpecificToGeneral.apply({},e),g=q.diagramFactoryMap[c].dataFromGeneralToSpecific.apply({},[f]),n["default"].emit("diagram-to-transform",d.diagram),a.removePreviousDiagrams(),q.diagramFactoryMap[c].apply(d.diagram,[g])}},{key:"removePreviousDiagrams",value:function(){(0,j.selectAll)("input.diagrams-diagram-button").remove(),(0,j.select)("svg").remove()}},{key:"addDivBeforeSvg",value:function(){var a=l["default"].insertInBodyBeforeSvg("div");return a.appendButtonToDiv=function(b,c,d){a.append("input").attr({"class":b+" diagrams-diagram-button btn btn-default",
onclick:d,type:"button",value:c})},a}},{key:"getRegistryItemWithCreationId",value:function(a){var b=(0,i.where)(q.diagramsRegistry,{id:a});return 1===b.length?b[0]:null}},{key:"getDataWithCreationId",value:function(b){var c=a.getRegistryItemWithCreationId(b);return c?c.data:null}}]),h(a,[{key:"reRender",value:function(){return null}},{key:"addMouseListenersToEl",value:function(a,b,c){var d=this,e=function(b,e){e=e||b,a.on(b,function(){d.emit(e,f),c&&c[b]&&c[b](f)})},f={data:b,el:a};e("mouseleave"),e("mouseenter"),e("click","itemclick")}},{key:"removePreviousAndCreate",value:function(){var b=this;a.removePreviousDiagrams(),b.addConversionButtons(),b.create.apply(b,arguments)}},{key:"config",value:function(a,b){var c=arguments.length,d="undefined"==typeof a?"undefined":g(a),e=void 0;if(0===c)return this._configuration;if(1===c){if((0,i.isFunction)(d))e=a();else if((0,i.isString)(a))e=a;else if((0,i.isObject)(a)){for(var f in a)a.hasOwnProperty(f)&&this.config(f,a[f]);return a}return this._configuration[e]}return 2===c?(this._configuration[a]=b,(0,i.isObject)(b)?this.setToLocalStorage(a,b.value):this.setToLocalStorage(a,b),this.emit("configuration-changed",{key:a,value:b}),b):void 0}},{key:"configCheckingLocalStorage",value:function(a,b){var c=this,d=c.getFromLocalStorage(a,b);c.config(a,d)}},{key:"generateLocalStorageKeyPreffix",value:function(a){return"diagramsjs-"+a}},{key:"getFromLocalStorage",value:function(a,b){var c=this,d=function(b){var d=localStorage.getItem(c.generateLocalStorageKeyPreffix(a))||b;return"false"===d?d=!1:"true"===d&&(d=!0),d},e=b;return localStorage&&localStorage.getItem&&((0,i.isObject)(e)?(e.value=d(e.value),e.type&&(e.value=e.type(e.value))):e=d(e)),e}},{key:"setToLocalStorage",value:function(a,b){var c=this;return localStorage&&localStorage.setItem?localStorage.setItem(c.generateLocalStorageKeyPreffix(a),b):void 0}},{key:"generateEmptyRelationships",value:function(a){a.relationships={},a.relationships.dependants=[],a.relationships.dependencies=[]}},{key:"addDependantRelationship",value:function(a,b,c){a.relationships.dependants.push(this.generateRelationship(b,c))}},{key:"addSelfRelationship",value:function(a,b,c){a.relationships.self=this.generateRelationship(b,c)}},{key:"addDependencyRelationship",value:function(a,b,c){a.relationships.dependencies.push(this.generateRelationship(b,c))}},{key:"generateRelationship",value:function(a,b){return{data:b,el:a}}},{key:"getAllRelatedItemsOfItem",value:function(a,b){var c=this,d=[],e=100,f=function h(a,c){(0,i.each)(a.relationships[b],function(b){e>c&&d.indexOf(b)<0&&b.data!==a&&(d.push(b),h(b.data,c+1))})},g=void 0;return b?(f(a,0),d):(g={},(0,i.each)(["dependants","dependencies"],function(b){g[b]=c.getAllRelatedItemsOfItem(a,b)}),g)}},{key:"markRelatedItems",value:function(a,b){var c=void 0,d=this,f=function(b){c.push(d.getAllRelatedItemsOfItem.apply(d,e([a].concat(b))))};b=b||{},d.markRelatedFn&&a.relationships&&(c=[],b.filter?f([b.filter]):(0,i.each)([["dependants"],["dependencies"]],f),(0,i.each)(c,function(a){(0,i.each)(a,d.markRelatedFn)}),d.markRelatedFn(a.relationships.self))}},{key:"handleDiagramId",value:function(){q.createdDiagramsMaxId++,this.diagramId=q.createdDiagramsMaxId}},{key:"addToDiagramsRegistry",value:function(a){q.diagramsRegistry.push({data:a,diagram:this,id:a[0]})}},{key:"register",value:function(){var a=this,b=this;return q.diagramNames.push(b.name),q.diagramFactoryMap[b.name]=function(){for(var c=arguments.length,d=Array(c),f=0;c>f;f++)d[f]=arguments[f];p["default"].runWhenReady(function(){a.handleDiagramId();var c=[a.diagramId].concat(d);a.addToDiagramsRegistry(c),b.addConversionButtons(),b.create.apply(b,e(c)),n["default"].emit("diagram-created",b)})},(0,i.defaults)(q.diagramFactoryMap[b.name],Object.getPrototypeOf(b)),q.diagramFactoryMap[b.name]}},{key:"addConversionButtons",value:function(){var b=this,c=a.addDivBeforeSvg(),d=void 0;(0,i.each)(q.diagramNames,function(a){a!==b.name&&(d="diagrams.Diagram.convertDiagram("+b.diagramId+", '"+a+"')",c.appendButtonToDiv("diagrams-box-conversion-button","To "+a+" diagram",d))})}}]),a}();p["default"].composeWithEventEmitter(s),r(),b["default"]={Diagram:s,getState:function(){return q},resetState:r},a.exports=b["default"]},function(a,b,c){var d;(function(a,e){(function(){function f(a,b){if(a!==b){var c=null===a,d=a===B,e=a===a,f=null===b,g=b===B,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function g(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function h(a,b,c){if(b!==b)return s(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function i(a){return"function"==typeof a||!1}function j(a){return null==a?"":a+""}function k(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function l(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function m(a,b){return f(a.criteria,b.criteria)||a.index-b.index}function n(a,b,c){for(var d=-1,e=a.criteria,g=b.criteria,h=e.length,i=c.length;++d<h;){var j=f(e[d],g[d]);if(j){if(d>=i)return j;var k=c[d];return j*("asc"===k||k===!0?1:-1)}}return a.index-b.index}function o(a){return Ua[a]}function p(a){return Va[a]}function q(a,b,c){return b?a=Ya[a]:c&&(a=Za[a]),"\\"+a}function r(a){return"\\"+Za[a]}function s(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function t(a){return!!a&&"object"==typeof a}function u(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function v(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=U,f[++e]=c);return f}function w(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function x(a){for(var b=-1,c=a.length;++b<c&&u(a.charCodeAt(b)););return b}function y(a){for(var b=a.length;b--&&u(a.charCodeAt(b)););return b}function z(a){return Wa[a]}function A(a){function b(a){if(t(a)&&!Ch(a)&&!(a instanceof e)){if(a instanceof d)return a;if(ag.call(a,"__chain__")&&ag.call(a,"__wrapped__"))return md(a)}return new d(a)}function c(){}function d(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function e(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bg,this.__views__=[]}function u(){var a=new e(this.__wrapped__);return a.__actions__=ab(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ab(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ab(this.__views__),a}function _(){if(this.__filtered__){var a=new e(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function da(){var a=this.__wrapped__.value(),b=this.__dir__,c=Ch(a),d=0>b,e=c?a.length:0,f=Tc(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=wg(i,this.__takeCount__);if(!c||Q>e||e==i&&n==i)return cc(d&&c?a.reverse():a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==S)q=u;else if(!u){if(t==R)continue a;break a}}o[m++]=q}return o}function fa(){this.__data__={}}function Ua(a){return this.has(a)&&delete this.__data__[a]}function Va(a){return"__proto__"==a?B:this.__data__[a]}function Wa(a){return"__proto__"!=a&&ag.call(this.__data__,a)}function Xa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:qg(null),set:new kg};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||He(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||He(a)?b.set.add(a):b.hash[a]=!0}function _a(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Of(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function ab(a,b){var c=-1,d=a.length;for(b||(b=Of(d));++c<d;)b[c]=a[c];return b}function bb(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function cb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function fb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function gb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function hb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function ib(a,b){for(var c=-1,d=a.length,e=Of(d);++c<d;)e[c]=b(a[c],c,a);return e}function jb(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function kb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function lb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function mb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function nb(a,b){for(var c=a.length,d=0;c--;)d+=+b(a[c])||0;return d}function ob(a,b){return a===B?b:a}function pb(a,b,c,d){return a!==B&&ag.call(d,c)?a:b}function qb(a,b,c){for(var d=-1,e=Nh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==B||g in a)||(a[g]=i)}return a}function rb(a,b){return null==b?a:tb(b,Nh(b),a)}function sb(a,b){for(var c=-1,d=null==a,e=!d&&Yc(a),f=e?a.length:0,g=b.length,h=Of(g);++c<g;){var i=b[c];e?h[c]=Zc(i,f)?a[i]:B:h[c]=d?B:a[i]}return h}function tb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function ub(a,b,c){var d=typeof a;return"function"==d?b===B?a:fc(a,b,c):null==a?Bf:"object"==d?Nb(a):b===B?Hf(a):Ob(a,b)}function vb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==B)return h;if(!He(a))return a;var i=Ch(a);if(i){if(h=Uc(a),!b)return ab(a,h)}else{var j=cg.call(a),k=j==$;if(j!=ba&&j!=V&&(!k||e))return Ta[j]?Wc(a,j,b):e?a:{};if(h=Vc(k?{}:a),!b)return rb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?bb:Fb)(a,function(d,e){h[e]=vb(d,b,c,e,a,f,g)}),h}function wb(a,b,c){if("function"!=typeof a)throw new Xf(T);return lg(function(){a.apply(B,c)},b)}function xb(a,b){var c=a?a.length:0,d=[];if(!c)return d;var e=-1,f=Qc(),g=f==h,i=g&&b.length>=Q?oc(b):null,j=b.length;i&&(f=Za,g=!1,b=i);a:for(;++e<c;){var k=a[e];if(g&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;d.push(k)}else f(b,k,0)<0&&d.push(k)}return d}function yb(a,b){var c=!0;return Jg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function zb(a,b,c,d){var e=d,f=e;return Jg(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function Ab(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===B||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function Bb(a,b){var c=[];return Jg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Cb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Db(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];t(g)&&Yc(g)&&(c||Ch(g)||ye(g))?b?Db(g,b,c,d):jb(d,g):c||(d[d.length]=g)}return d}function Eb(a,b){return Lg(a,b,_e)}function Fb(a,b){return Lg(a,b,Nh)}function Gb(a,b){return Mg(a,b,Nh)}function Hb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ge(a[g])&&(f[++e]=g)}return f}function Ib(a,b,c){if(null!=a){c!==B&&c in kd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=a[b[d++]];return d&&d==e?a:B}}function Jb(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!He(a)&&!t(b)?a!==a&&b!==b:Kb(a,b,Jb,c,d,e,f)}function Kb(a,b,c,d,e,f,g){var h=Ch(a),i=Ch(b),j=W,k=W;h||(j=cg.call(a),j==V?j=ba:j!=ba&&(h=Qe(a))),i||(k=cg.call(b),k==V?k=ba:k!=ba&&(i=Qe(b)));var l=j==ba,m=k==ba,n=j==k;if(n&&!h&&!l)return Mc(a,b,j);if(!e){var o=l&&ag.call(a,"__wrapped__"),p=m&&ag.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Lc:Nc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Lb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=kd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===B&&!(h in a))return!1}else{var k=c?c(i,j,h):B;if(!(k===B?Jb(j,i,c,!0):k))return!1}}return!0}function Mb(a,b){var c=-1,d=Yc(a)?Of(a.length):[];return Jg(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Nb(a){var b=Rc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==B||c in kd(a))}}return function(a){return Lb(a,b)}}function Ob(a,b){var c=Ch(a),d=_c(a)&&cd(b),e=a+"";return a=ld(a),function(f){if(null==f)return!1;var g=e;if(f=kd(f),(c||!d)&&!(g in f)){if(f=1==a.length?f:Ib(f,Wb(a,0,-1)),null==f)return!1;g=zd(a),f=kd(f)}return f[g]===b?b!==B||g in f:Jb(b,f[g],B,!0)}}function Pb(a,b,c,d,e){if(!He(a))return a;var f=Yc(b)&&(Ch(b)||Qe(b)),g=f?B:Nh(b);return bb(g||b,function(h,i){if(g&&(i=h,h=b[i]),t(h))d||(d=[]),e||(e=[]),Qb(a,b,i,Pb,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):B,l=k===B;l&&(k=h),k===B&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Qb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):B,l=k===B;l&&(k=i,Yc(i)&&(Ch(i)||Qe(i))?k=Ch(j)?j:Yc(j)?ab(j):[]:Ne(i)||ye(i)?k=ye(j)?Ve(j):Ne(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Rb(a){return function(b){return null==b?B:b[a]}}function Sb(a){var b=a+"";return a=ld(a),function(c){return Ib(c,a,b)}}function Tb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Zc(d)){var e=d;mg.call(a,d,1)}}return a}function Ub(a,b){return a+rg(zg()*(b-a+1))}function Vb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Wb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===B||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Of(e);++d<e;)f[d]=a[d+b];return f}function Xb(a,b){var c;return Jg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Yb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Zb(a,b,c){var d=Oc(),e=-1;b=ib(b,function(a){return d(a)});var f=Mb(a,function(a){var c=ib(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Yb(f,function(a,b){return n(a,b,c)})}function $b(a,b){var c=0;return Jg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function _b(a,b){var c=-1,d=Qc(),e=a.length,f=d==h,g=f&&e>=Q,i=g?oc():null,j=[];i?(d=Za,f=!1):(g=!1,i=b?[]:j);a:for(;++c<e;){var k=a[c],l=b?b(k,c,a):k;if(f&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else d(i,l,0)<0&&((b||g)&&i.push(l),j.push(k))}return j}function ac(a,b){for(var c=-1,d=b.length,e=Of(d);++c<d;)e[c]=a[b[c]];return e}function bc(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Wb(a,d?0:f,d?f+1:e):Wb(a,d?f+1:0,d?e:f)}function cc(a,b){var c=a;c instanceof e&&(c=c.value());for(var d=-1,f=b.length;++d<f;){var g=b[d];c=g.func.apply(g.thisArg,jb([c],g.args))}return c}function dc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Eg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return ec(a,b,Bf,c)}function ec(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===B;f>e;){var j=rg((e+f)/2),k=c(a[j]),l=k!==B,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return wg(f,Dg)}function fc(a,b,c){if("function"!=typeof a)return Bf;if(b===B)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function gc(a){var b=new fg(a.byteLength),c=new ng(b);return c.set(new ng(a)),b}function hc(a,b,c){for(var d=c.length,e=-1,f=vg(a.length-d,0),g=-1,h=b.length,i=Of(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function ic(a,b,c){for(var d=-1,e=c.length,f=-1,g=vg(a.length-e,0),h=-1,i=b.length,j=Of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function jc(a,b){return function(c,d,e){var f=b?b():{};if(d=Oc(d,e,3),Ch(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Jg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function kc(a){return qe(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:B,g=e>2?c[2]:B,h=e>1?c[e-1]:B;for("function"==typeof f?(f=fc(f,h,5),e-=2):(f="function"==typeof h?h:B,e-=f?1:0),g&&$c(c[0],c[1],g)&&(f=3>e?B:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function lc(a,b){return function(c,d){var e=c?Pg(c):0;if(!bd(e))return a(c,d);for(var f=b?e:-1,g=kd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function mc(a){return function(b,c,d){for(var e=kd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function nc(a,b){function c(){var e=this&&this!==db&&this instanceof c?d:a;return e.apply(b,arguments)}var d=qc(a);return c}function oc(a){return qg&&kg?new Ya(a):null}function pc(a){return function(b){for(var c=-1,d=yf(kf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function qc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ig(a.prototype),d=a.apply(c,b);return He(d)?d:c}}function rc(a){function b(c,d,e){e&&$c(c,d,e)&&(d=B);var f=Kc(c,a,B,B,B,B,B,d);return f.placeholder=b.placeholder,f}return b}function sc(a,b){return qe(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(B,c))})}function tc(a,b){return function(c,d,e){if(e&&$c(c,d,e)&&(d=B),d=Oc(d,e,3),1==d.length){c=Ch(c)?c:jd(c);var f=gb(c,d,a,b);if(!c.length||f!==b)return f}return zb(c,d,a,b)}}function uc(a,b){return function(c,d,e){if(d=Oc(d,e,3),Ch(c)){var f=g(c,d,b);return f>-1?c[f]:B}return Cb(c,d,a)}}function vc(a){return function(b,c,d){return b&&b.length?(c=Oc(c,d,3),g(b,c,a)):-1}}function wc(a){return function(b,c,d){return c=Oc(c,d,3),Cb(b,c,a,!0)}}function xc(a){return function(){for(var b,c=arguments.length,e=a?c:-1,f=0,g=Of(c);a?e--:++e<c;){var h=g[f++]=arguments[e];if("function"!=typeof h)throw new Xf(T);!b&&d.prototype.thru&&"wrapper"==Pc(h)&&(b=new d([],!0))}for(e=b?-1:c;++e<c;){h=g[e];var i=Pc(h),j="wrapper"==i?Og(h):B;b=j&&ad(j[0])&&j[1]==(K|G|I|L)&&!j[4].length&&1==j[9]?b[Pc(j[0])].apply(b,j[3]):1==h.length&&ad(h)?b[i]():b.thru(h)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Ch(d)&&d.length>=Q)return b.plant(d).value();for(var e=0,f=c?g[e].apply(this,a):d;++e<c;)f=g[e].call(this,f);return f}}}function yc(a,b){return function(c,d,e){return"function"==typeof d&&e===B&&Ch(c)?a(c,d):b(c,fc(d,e,3))}}function zc(a){return function(b,c,d){return("function"!=typeof c||d!==B)&&(c=fc(c,d,3)),a(b,c,_e)}}function Ac(a){return function(b,c,d){return("function"!=typeof c||d!==B)&&(c=fc(c,d,3)),a(b,c)}}function Bc(a){return function(b,c,d){var e={};return c=Oc(c,d,3),Fb(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function Cc(a){return function(b,c,d){return b=j(b),(a?b:"")+Gc(b,c,d)+(a?"":b)}}function Dc(a){var b=qe(function(c,d){var e=v(d,b.placeholder);return Kc(c,a,B,d,e)});return b}function Ec(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===B&&Ch(c)?a(c,d,e,g):Vb(c,Oc(d,f,4),e,g,b)}}function Fc(a,b,c,d,e,f,g,h,i,j){function k(){for(var s=arguments.length,t=s,u=Of(s);t--;)u[t]=arguments[t];if(d&&(u=hc(u,d,e)),f&&(u=ic(u,f,g)),o||q){var w=k.placeholder,x=v(u,w);if(s-=x.length,j>s){var y=h?ab(h):B,z=vg(j-s,0),A=o?x:B,C=o?B:x,F=o?u:B,G=o?B:u;b|=o?I:J,b&=~(o?J:I),p||(b&=~(D|E));var H=[a,b,c,F,A,G,C,y,i,z],K=Fc.apply(B,H);return ad(a)&&Qg(K,H),K.placeholder=w,K}}var L=m?c:this,M=n?L[a]:a;return h&&(u=hd(u,h)),l&&i<u.length&&(u.length=i),this&&this!==db&&this instanceof k&&(M=r||qc(a)),M.apply(L,u)}var l=b&K,m=b&D,n=b&E,o=b&G,p=b&F,q=b&H,r=n?B:qc(a);return k}function Gc(a,b,c){var d=a.length;if(b=+b,d>=b||!tg(b))return"";var e=b-d;return c=null==c?" ":c+"",qf(c,pg(e/c.length)).slice(0,e)}function Hc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Of(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==db&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&D,g=qc(a);return e}function Ic(a){var b=Sf[a];return function(a,c){return c=c===B?0:+c||0,c?(c=ig(10,c),b(a*c)/c):b(a)}}function Jc(a){return function(b,c,d,e){var f=Oc(d);return null==d&&f===ub?dc(b,c,a):ec(b,c,f(d,e,1),a)}}function Kc(a,b,c,d,e,f,g,h){var i=b&E;if(!i&&"function"!=typeof a)throw new Xf(T);var j=d?d.length:0;if(j||(b&=~(I|J),d=e=B),j-=e?e.length:0,b&J){var k=d,l=e;d=e=B}var m=i?B:Og(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(dd(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:vg(h-j,0)||0,b==D)var o=nc(n[0],n[2]);else o=b!=I&&b!=(D|I)||n[4].length?Fc.apply(B,n):Hc.apply(B,n);var p=m?Ng:Qg;return p(o,n)}function Lc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):B;if(m!==B){if(m)continue;return!1}if(e){if(!mb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Mc(a,b,c){switch(c){case X:case Y:return+a==+b;case Z:return a.name==b.name&&a.message==b.message;case aa:return a!=+a?b!=+b:a==+b;case ca:case ea:return a==b+""}return!1}function Nc(a,b,c,d,e,f,g){var h=Nh(a),i=h.length,j=Nh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:ag.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):B;if(!(q===B?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Oc(a,c,d){var e=b.callback||zf;return e=e===zf?ub:e,d?e(a,c,d):e}function Pc(a){for(var b=a.name,c=Hg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Qc(a,c,d){var e=b.indexOf||xd;return e=e===xd?h:e,a?e(a,c,d):e}function Rc(a){for(var b=af(a),c=b.length;c--;)b[c][2]=cd(b[c][1]);return b}function Sc(a,b){var c=null==a?B:a[b];return Ke(c)?c:B}function Tc(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=wg(b,a+g);break;case"takeRight":a=vg(a,b-g)}}return{start:a,end:b}}function Uc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&ag.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Vc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Uf),new b}function Wc(a,b,c){var d=a.constructor;switch(b){case ga:return gc(a);case X:case Y:return new d(+a);case ha:case ia:case ja:case ka:case la:case ma:case na:case oa:case pa:var e=a.buffer;return new d(c?gc(e):e,a.byteOffset,a.length);case aa:case ea:return new d(a);case ca:var f=new d(a.source,Ia.exec(a));f.lastIndex=a.lastIndex}return f}function Xc(a,b,c){null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),b=zd(b));var d=null==a?a:a[b];return null==d?B:d.apply(a,c)}function Yc(a){return null!=a&&bd(Pg(a))}function Zc(a,b){return a="number"==typeof a||La.test(a)?+a:-1,b=null==b?Fg:b,a>-1&&a%1==0&&b>a}function $c(a,b,c){if(!He(c))return!1;var d=typeof b;if("number"==d?Yc(c)&&Zc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function _c(a,b){var c=typeof a;if("string"==c&&Ba.test(a)||"number"==c)return!0;if(Ch(a))return!1;var d=!Aa.test(a);return d||null!=b&&a in kd(b)}function ad(a){var c=Pc(a);if(!(c in e.prototype))return!1;var d=b[c];if(a===d)return!0;var f=Og(d);return!!f&&a===f[0]}function bd(a){return"number"==typeof a&&a>-1&&a%1==0&&Fg>=a}function cd(a){return a===a&&!He(a)}function dd(a,b){var c=a[1],d=b[1],e=c|d,f=K>e,g=d==K&&c==G||d==K&&c==L&&a[7].length<=b[8]||d==(K|L)&&c==G;if(!f&&!g)return a;d&D&&(a[2]=b[2],e|=c&D?0:F);var h=b[3];if(h){var i=a[3];a[3]=i?hc(i,h,b[4]):ab(h),a[4]=i?v(a[3],U):ab(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?ic(i,h,b[6]):ab(h),a[6]=i?v(a[5],U):ab(b[6])),h=b[7],h&&(a[7]=ab(h)),d&K&&(a[8]=null==a[8]?b[8]:wg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ed(a,b){return a===B?b:Dh(a,b,ed)}function fd(a,b){a=kd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function gd(a,b){var c={};return Eb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function hd(a,b){for(var c=a.length,d=wg(b.length,c),e=ab(a);d--;){var f=b[d];a[d]=Zc(f,c)?e[f]:B}return a}function id(a){for(var b=_e(a),c=b.length,d=c&&a.length,e=!!d&&bd(d)&&(Ch(a)||ye(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Zc(h,d)||ag.call(a,h))&&g.push(h)}return g}function jd(a){return null==a?[]:Yc(a)?He(a)?a:Uf(a):ef(a)}function kd(a){return He(a)?a:Uf(a)}function ld(a){if(Ch(a))return a;var b=[];return j(a).replace(Ca,function(a,c,d,e){b.push(d?e.replace(Ga,"$1"):c||a)}),b}function md(a){return a instanceof e?a.clone():new d(a.__wrapped__,a.__chain__,ab(a.__actions__))}function nd(a,b,c){b=(c?$c(a,b,c):null==b)?1:vg(rg(b)||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Of(pg(e/b));e>d;)g[++f]=Wb(a,d,d+=b);return g}function od(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function pd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0>b?0:b)):[]}function qd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0,0>b?0:b)):[]}function rd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0,!0):[]}function sd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0):[]}function td(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&$c(a,b,c)&&(c=0,d=e),Ab(a,b,c,d)):[]}function ud(a){return a?a[0]:B}function vd(a,b,c){var d=a?a.length:0;return c&&$c(a,b,c)&&(b=!1),d?Db(a,b):[]}function wd(a){var b=a?a.length:0;return b?Db(a,!0):[]}function xd(a,b,c){var d=a?a.length:0;if(!d)return-1;if("number"==typeof c)c=0>c?vg(d+c,0):c;else if(c){var e=dc(a,b);return d>e&&(b===b?b===a[e]:a[e]!==a[e])?e:-1}return h(a,b,c||0)}function yd(a){return qd(a,1)}function zd(a){var b=a?a.length:0;return b?a[b-1]:B}function Ad(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?vg(d+c,0):wg(c||0,d-1))+1;else if(c){e=dc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return s(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Bd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Qc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)mg.call(b,f,1);return b}function Cd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Oc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Tb(a,f),d}function Dd(a){return pd(a,1)}function Ed(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&$c(a,b,c)&&(b=0,c=d),Wb(a,b,c)):[]}function Fd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0,0>b?0:b)):[]}function Gd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0>b?0:b)):[]}function Hd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!1,!0):[]}function Id(a,b,c){return a&&a.length?bc(a,Oc(b,c,3)):[]}function Jd(a,b,c,d){var e=a?a.length:0;if(!e)return[];null!=b&&"boolean"!=typeof b&&(d=c,c=$c(a,b,d)?B:b,b=!1);var f=Oc();return(null!=c||f!==ub)&&(c=f(c,d,3)),b&&Qc()==h?w(a,c):_b(a,c)}function Kd(a){if(!a||!a.length)return[];var b=-1,c=0;a=hb(a,function(a){return Yc(a)?(c=vg(a.length,c),!0):void 0});for(var d=Of(c);++b<c;)d[b]=ib(a,Rb(b));return d}function Ld(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Kd(a);return null==b?e:(b=fc(b,c,4),ib(e,function(a){return kb(a,b,B,!0)}))}function Md(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Yc(c))var d=d?jb(xb(d,c),xb(c,d)):c}return d?_b(d):[]}function Nd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ch(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Od(a){var c=b(a);return c.__chain__=!0,c}function Pd(a,b,c){return b.call(c,a),a}function Qd(a,b,c){return b.call(c,a)}function Rd(){return Od(this)}function Sd(){return new d(this.value(),this.__chain__)}function Td(a){for(var b,d=this;d instanceof c;){var e=md(d);b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b}function Ud(){var a=this.__wrapped__,b=function(a){return c&&c.__dir__<0?a:a.reverse()};if(a instanceof e){var c=a;return this.__actions__.length&&(c=new e(this)),c=c.reverse(),c.__actions__.push({func:Qd,args:[b],thisArg:B}),new d(c,this.__chain__)}return this.thru(b)}function Vd(){return this.value()+""}function Wd(){return cc(this.__wrapped__,this.__actions__)}function Xd(a,b,c){var d=Ch(a)?fb:yb;return c&&$c(a,b,c)&&(b=B),("function"!=typeof b||c!==B)&&(b=Oc(b,c,3)),d(a,b)}function Yd(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,b)}function Zd(a,b){return dh(a,Nb(b))}function $d(a,b,c,d){var e=a?Pg(a):0;return bd(e)||(a=ef(a),e=a.length),c="number"!=typeof c||d&&$c(b,c,d)?0:0>c?vg(e+c,0):c||0,"string"==typeof a||!Ch(a)&&Pe(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&Qc(a,b,c)>-1}function _d(a,b,c){var d=Ch(a)?ib:Mb;return b=Oc(b,c,3),d(a,b)}function ae(a,b){return _d(a,Hf(b))}function be(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function ce(a,b,c){if(c?$c(a,b,c):null==b){a=jd(a);var d=a.length;return d>0?a[Ub(0,d-1)]:B}var e=-1,f=Ue(a),d=f.length,g=d-1;for(b=wg(0>b?0:+b||0,d);++e<b;){var h=Ub(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function de(a){return ce(a,Bg)}function ee(a){var b=a?Pg(a):0;return bd(b)?b:Nh(a).length}function fe(a,b,c){var d=Ch(a)?mb:Xb;return c&&$c(a,b,c)&&(b=B),("function"!=typeof b||c!==B)&&(b=Oc(b,c,3)),d(a,b)}function ge(a,b,c){if(null==a)return[];c&&$c(a,b,c)&&(b=B);var d=-1;b=Oc(b,c,3);var e=Mb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Yb(e,m)}function he(a,b,c,d){return null==a?[]:(d&&$c(b,c,d)&&(c=B),Ch(b)||(b=null==b?[]:[b]),Ch(c)||(c=null==c?[]:[c]),Zb(a,b,c))}function ie(a,b){return Yd(a,Nb(b))}function je(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Xf(T);var c=a;a=b,b=c}return a=tg(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function ke(a,b,c){return c&&$c(a,b,c)&&(b=B),b=a&&null==b?a.length:vg(+b||0,0),Kc(a,K,B,B,B,B,b)}function le(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Xf(T);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=B),c}}function me(a,b,c){function d(){n&&gg(n),j&&gg(j),p=0,j=n=o=B}function e(b,c){c&&gg(c),j=n=o=B,b&&(p=oh(),k=a.apply(m,i),n||j||(i=m=B))}function f(){var a=b-(oh()-l);0>=a||a>b?e(o,j):n=lg(f,a)}function g(){e(r,n)}function h(){if(i=arguments,l=oh(),m=this,o=r&&(n||!s),q===!1)var c=s&&!n;else{j||s||(p=l);var d=q-(l-p),e=0>=d||d>q;e?(j&&(j=gg(j)),p=l,k=a.apply(m,i)):j||(j=lg(g,d))}return e&&n?n=gg(n):n||b===q||(n=lg(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=B),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!0;if("function"!=typeof a)throw new Xf(T);if(b=0>b?0:+b||0,c===!0){var s=!0;r=!1}else He(c)&&(s=!!c.leading,q="maxWait"in c&&vg(+c.maxWait||0,b),r="trailing"in c?!!c.trailing:r);return h.cancel=d,h}function ne(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xf(T);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new ne.Cache,c}function oe(a){if("function"!=typeof a)throw new Xf(T);return function(){return!a.apply(this,arguments)}}function pe(a){return le(2,a)}function qe(a,b){if("function"!=typeof a)throw new Xf(T);return b=vg(b===B?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=vg(c.length-b,0),f=Of(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:
return a.call(this,c[0],c[1],f)}var g=Of(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function re(a){if("function"!=typeof a)throw new Xf(T);return function(b){return a.apply(this,b)}}function se(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xf(T);return c===!1?d=!1:He(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),me(a,b,{leading:d,maxWait:+b,trailing:e})}function te(a,b){return b=null==b?Bf:b,Kc(b,I,B,[a],[])}function ue(a,b,c,d){return b&&"boolean"!=typeof b&&$c(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?vb(a,b,fc(c,d,1)):vb(a,b)}function ve(a,b,c){return"function"==typeof b?vb(a,!0,fc(b,c,1)):vb(a,!0)}function we(a,b){return a>b}function xe(a,b){return a>=b}function ye(a){return t(a)&&Yc(a)&&ag.call(a,"callee")&&!jg.call(a,"callee")}function ze(a){return a===!0||a===!1||t(a)&&cg.call(a)==X}function Ae(a){return t(a)&&cg.call(a)==Y}function Be(a){return!!a&&1===a.nodeType&&t(a)&&!Ne(a)}function Ce(a){return null==a?!0:Yc(a)&&(Ch(a)||Pe(a)||ye(a)||t(a)&&Ge(a.splice))?!a.length:!Nh(a).length}function De(a,b,c,d){c="function"==typeof c?fc(c,d,3):B;var e=c?c(a,b):B;return e===B?Jb(a,b,c):!!e}function Ee(a){return t(a)&&"string"==typeof a.message&&cg.call(a)==Z}function Fe(a){return"number"==typeof a&&tg(a)}function Ge(a){return He(a)&&cg.call(a)==$}function He(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ie(a,b,c,d){return c="function"==typeof c?fc(c,d,3):B,Lb(a,Rc(b),c)}function Je(a){return Me(a)&&a!=+a}function Ke(a){return null==a?!1:Ge(a)?eg.test(_f.call(a)):t(a)&&Ka.test(a)}function Le(a){return null===a}function Me(a){return"number"==typeof a||t(a)&&cg.call(a)==aa}function Ne(a){var b;if(!t(a)||cg.call(a)!=ba||ye(a)||!ag.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Eb(a,function(a,b){c=b}),c===B||ag.call(a,c)}function Oe(a){return He(a)&&cg.call(a)==ca}function Pe(a){return"string"==typeof a||t(a)&&cg.call(a)==ea}function Qe(a){return t(a)&&bd(a.length)&&!!Sa[cg.call(a)]}function Re(a){return a===B}function Se(a,b){return b>a}function Te(a,b){return b>=a}function Ue(a){var b=a?Pg(a):0;return bd(b)?b?ab(a):[]:ef(a)}function Ve(a){return tb(a,_e(a))}function We(a,b,c){var d=Ig(a);return c&&$c(a,b,c)&&(b=B),b?rb(d,b):d}function Xe(a){return Hb(a,_e(a))}function Ye(a,b,c){var d=null==a?B:Ib(a,ld(b),b+"");return d===B?c:d}function Ze(a,b){if(null==a)return!1;var c=ag.call(a,b);if(!c&&!_c(b)){if(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),null==a)return!1;b=zd(b),c=ag.call(a,b)}return c||bd(a.length)&&Zc(b,a.length)&&(Ch(a)||ye(a))}function $e(a,b,c){c&&$c(a,b,c)&&(b=B);for(var d=-1,e=Nh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?ag.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function _e(a){if(null==a)return[];He(a)||(a=Uf(a));var b=a.length;b=b&&bd(b)&&(Ch(a)||ye(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Zc(h,b)||"constructor"==h&&(e||!ag.call(a,h))||f.push(h);return f}function af(a){a=kd(a);for(var b=-1,c=Nh(a),d=c.length,e=Of(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function bf(a,b,c){var d=null==a?B:a[b];return d===B&&(null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),d=null==a?B:a[zd(b)]),d=d===B?c:d),Ge(d)?d.call(a):d}function cf(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||_c(b,a)?[d]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];He(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Zc(b[e+1])?[]:{})),h=h[i]}return a}function df(a,b,c,d){var e=Ch(a)||Qe(a);if(b=Oc(b,d,4),null==c)if(e||He(a)){var f=a.constructor;c=e?Ch(a)?new f:[]:Ig(Ge(f)?f.prototype:B)}else c={};return(e?bb:Fb)(a,function(a,d,e){return b(c,a,d,e)}),c}function ef(a){return ac(a,Nh(a))}function ff(a){return ac(a,_e(a))}function gf(a,b,c){return b=+b||0,c===B?(c=b,b=0):c=+c||0,a>=wg(b,c)&&a<vg(b,c)}function hf(a,b,c){c&&$c(a,b,c)&&(b=c=B);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=zg();return wg(a+f*(b-a+hg("1e-"+((f+"").length-1))),b)}return Ub(a,b)}function jf(a){return a=j(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function kf(a){return a=j(a),a&&a.replace(Ma,o).replace(Fa,"")}function lf(a,b,c){a=j(a),b+="";var d=a.length;return c=c===B?d:wg(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function mf(a){return a=j(a),a&&wa.test(a)?a.replace(ua,p):a}function nf(a){return a=j(a),a&&Ea.test(a)?a.replace(Da,q):a||"(?:)"}function of(a,b,c){a=j(a),b=+b;var d=a.length;if(d>=b||!tg(b))return a;var e=(b-d)/2,f=rg(e),g=pg(e);return c=Gc("",g,c),c.slice(0,f)+a+c}function pf(a,b,c){return(c?$c(a,b,c):null==b)?b=0:b&&(b=+b),a=tf(a),yg(a,b||(Ja.test(a)?16:10))}function qf(a,b){var c="";if(a=j(a),b=+b,1>b||!a||!tg(b))return c;do b%2&&(c+=a),b=rg(b/2),a+=a;while(b);return c}function rf(a,b,c){return a=j(a),c=null==c?0:wg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function sf(a,c,d){var e=b.templateSettings;d&&$c(a,c,d)&&(c=d=B),a=j(a),c=qb(rb({},d||c),e,pb);var f,g,h=qb(rb({},c.imports),e.imports,pb),i=Nh(h),k=ac(h,i),l=0,m=c.interpolate||Na,n="__p += '",o=Vf((c.escape||Na).source+"|"+m.source+"|"+(m===za?Ha:Na).source+"|"+(c.evaluate||Na).source+"|$","g"),p="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Ra+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(l,i).replace(Oa,r),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),l=i+b.length,b}),n+="';\n";var q=c.variable;q||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(qa,""):n).replace(ra,"$1").replace(sa,"$1;"),n="function("+(q||"obj")+") {\n"+(q?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var s=Yh(function(){return Rf(i,p+"return "+n).apply(B,k)});if(s.source=n,Ee(s))throw s;return s}function tf(a,b,c){var d=a;return(a=j(a))?(c?$c(d,b,c):null==b)?a.slice(x(a),y(a)+1):(b+="",a.slice(k(a,b),l(a,b)+1)):a}function uf(a,b,c){var d=a;return a=j(a),a?(c?$c(d,b,c):null==b)?a.slice(x(a)):a.slice(k(a,b+"")):a}function vf(a,b,c){var d=a;return a=j(a),a?(c?$c(d,b,c):null==b)?a.slice(0,y(a)+1):a.slice(0,l(a,b+"")+1):a}function wf(a,b,c){c&&$c(a,b,c)&&(b=B);var d=M,e=N;if(null!=b)if(He(b)){var f="separator"in b?b.separator:f;d="length"in b?+b.length||0:d,e="omission"in b?j(b.omission):e}else d=+b||0;if(a=j(a),d>=a.length)return a;var g=d-e.length;if(1>g)return e;var h=a.slice(0,g);if(null==f)return h+e;if(Oe(f)){if(a.slice(g).search(f)){var i,k,l=a.slice(0,g);for(f.global||(f=Vf(f.source,(Ia.exec(f)||"")+"g")),f.lastIndex=0;i=f.exec(l);)k=i.index;h=h.slice(0,null==k?g:k)}}else if(a.indexOf(f,g)!=g){var m=h.lastIndexOf(f);m>-1&&(h=h.slice(0,m))}return h+e}function xf(a){return a=j(a),a&&va.test(a)?a.replace(ta,z):a}function yf(a,b,c){return c&&$c(a,b,c)&&(b=B),a=j(a),a.match(b||Pa)||[]}function zf(a,b,c){return c&&$c(a,b,c)&&(b=B),t(a)?Cf(a):ub(a,b)}function Af(a){return function(){return a}}function Bf(a){return a}function Cf(a){return Nb(vb(a,!0))}function Df(a,b){return Ob(a,vb(b,!0))}function Ef(a,b,c){if(null==c){var d=He(b),e=d?Nh(b):B,f=e&&e.length?Hb(b,e):B;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Hb(b,Nh(b)));var g=!0,h=-1,i=Ge(a),j=f.length;c===!1?g=!1:He(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=ab(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,jb([this.value()],arguments))}}(l))}return a}function Ff(){return db._=dg,this}function Gf(){}function Hf(a){return _c(a)?Rb(a):Sb(a)}function If(a){return function(b){return Ib(a,ld(b),b+"")}}function Jf(a,b,c){c&&$c(a,b,c)&&(b=c=B),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=vg(pg((b-a)/(c||1)),0),f=Of(e);++d<e;)f[d]=a,a+=c;return f}function Kf(a,b,c){if(a=rg(a),1>a||!tg(a))return[];var d=-1,e=Of(wg(a,Cg));for(b=fc(b,c,1);++d<a;)Cg>d?e[d]=b(d):b(d);return e}function Lf(a){var b=++bg;return j(a)+b}function Mf(a,b){return(+a||0)+(+b||0)}function Nf(a,b,c){return c&&$c(a,b,c)&&(b=B),b=Oc(b,c,3),1==b.length?nb(Ch(a)?a:jd(a),b):$b(a,b)}a=a?eb.defaults(db.Object(),a,eb.pick(db,Qa)):db;var Of=a.Array,Pf=a.Date,Qf=a.Error,Rf=a.Function,Sf=a.Math,Tf=a.Number,Uf=a.Object,Vf=a.RegExp,Wf=a.String,Xf=a.TypeError,Yf=Of.prototype,Zf=Uf.prototype,$f=Wf.prototype,_f=Rf.prototype.toString,ag=Zf.hasOwnProperty,bg=0,cg=Zf.toString,dg=db._,eg=Vf("^"+_f.call(ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fg=a.ArrayBuffer,gg=a.clearTimeout,hg=a.parseFloat,ig=Sf.pow,jg=Zf.propertyIsEnumerable,kg=Sc(a,"Set"),lg=a.setTimeout,mg=Yf.splice,ng=a.Uint8Array,og=Sc(a,"WeakMap"),pg=Sf.ceil,qg=Sc(Uf,"create"),rg=Sf.floor,sg=Sc(Of,"isArray"),tg=a.isFinite,ug=Sc(Uf,"keys"),vg=Sf.max,wg=Sf.min,xg=Sc(Pf,"now"),yg=a.parseInt,zg=Sf.random,Ag=Tf.NEGATIVE_INFINITY,Bg=Tf.POSITIVE_INFINITY,Cg=4294967295,Dg=Cg-1,Eg=Cg>>>1,Fg=9007199254740991,Gg=og&&new og,Hg={};b.support={};b.templateSettings={escape:xa,evaluate:ya,interpolate:za,variable:"",imports:{_:b}};var Ig=function(){function a(){}return function(b){if(He(b)){a.prototype=b;var c=new a;a.prototype=B}return c||{}}}(),Jg=lc(Fb),Kg=lc(Gb,!0),Lg=mc(),Mg=mc(!0),Ng=Gg?function(a,b){return Gg.set(a,b),a}:Bf,Og=Gg?function(a){return Gg.get(a)}:Gf,Pg=Rb("length"),Qg=function(){var a=0,b=0;return function(c,d){var e=oh(),f=P-(e-b);if(b=e,f>0){if(++a>=O)return c}else a=0;return Ng(c,d)}}(),Rg=qe(function(a,b){return t(a)&&Yc(a)?xb(a,Db(b,!1,!0)):[]}),Sg=vc(),Tg=vc(!0),Ug=qe(function(a){for(var b=a.length,c=b,d=Of(l),e=Qc(),f=e==h,g=[];c--;){var i=a[c]=Yc(i=a[c])?i:[];d[c]=f&&i.length>=120?oc(c&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=d[0];a:for(;++k<l;)if(i=j[k],(m?Za(m,i):e(g,i,0))<0){for(var c=b;--c;){var n=d[c];if((n?Za(n,i):e(a[c],i,0))<0)continue a}m&&m.push(i),g.push(i)}return g}),Vg=qe(function(a,b){b=Db(b);var c=sb(a,b);return Tb(a,b.sort(f)),c}),Wg=Jc(),Xg=Jc(!0),Yg=qe(function(a){return _b(Db(a,!1,!0))}),Zg=qe(function(a,b){return Yc(a)?xb(a,b):[]}),$g=qe(Kd),_g=qe(function(a){var b=a.length,c=b>2?a[b-2]:B,d=b>1?a[b-1]:B;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):B,d=B),a.length=b,Ld(a,c,d)}),ah=qe(function(a){return a=Db(a),this.thru(function(b){return _a(Ch(b)?b:[kd(b)],a)})}),bh=qe(function(a,b){return sb(a,Db(b))}),ch=jc(function(a,b,c){ag.call(a,c)?++a[c]:a[c]=1}),dh=uc(Jg),eh=uc(Kg,!0),fh=yc(bb,Jg),gh=yc(cb,Kg),hh=jc(function(a,b,c){ag.call(a,c)?a[c].push(b):a[c]=[b]}),ih=jc(function(a,b,c){a[c]=b}),jh=qe(function(a,b,c){var d=-1,e="function"==typeof b,f=_c(b),g=Yc(a)?Of(a.length):[];return Jg(a,function(a){var h=e?b:f&&null!=a?a[b]:B;g[++d]=h?h.apply(a,c):Xc(a,b,c)}),g}),kh=jc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),lh=Ec(kb,Jg),mh=Ec(lb,Kg),nh=qe(function(a,b){if(null==a)return[];var c=b[2];return c&&$c(b[0],b[1],c)&&(b.length=1),Zb(a,Db(b),[])}),oh=xg||function(){return(new Pf).getTime()},ph=qe(function(a,b,c){var d=D;if(c.length){var e=v(c,ph.placeholder);d|=I}return Kc(a,d,b,c,e)}),qh=qe(function(a,b){b=b.length?Db(b):Xe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Kc(a[e],D,a)}return a}),rh=qe(function(a,b,c){var d=D|E;if(c.length){var e=v(c,rh.placeholder);d|=I}return Kc(b,d,a,c,e)}),sh=rc(G),th=rc(H),uh=qe(function(a,b){return wb(a,1,b)}),vh=qe(function(a,b,c){return wb(a,b,c)}),wh=xc(),xh=xc(!0),yh=qe(function(a,b){if(b=Db(b),"function"!=typeof a||!fb(b,i))throw new Xf(T);var c=b.length;return qe(function(d){for(var e=wg(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),zh=Dc(I),Ah=Dc(J),Bh=qe(function(a,b){return Kc(a,L,B,B,B,Db(b))}),Ch=sg||function(a){return t(a)&&bd(a.length)&&cg.call(a)==W},Dh=kc(Pb),Eh=kc(function(a,b,c){return c?qb(a,b,c):rb(a,b)}),Fh=sc(Eh,ob),Gh=sc(Dh,ed),Hh=wc(Fb),Ih=wc(Gb),Jh=zc(Lg),Kh=zc(Mg),Lh=Ac(Fb),Mh=Ac(Gb),Nh=ug?function(a){var b=null==a?B:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Yc(a)?id(a):He(a)?ug(a):[]}:id,Oh=Bc(!0),Ph=Bc(),Qh=qe(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=ib(Db(b),Wf);return fd(a,xb(_e(a),b))}var c=fc(b[0],b[1],3);return gd(a,function(a,b,d){return!c(a,b,d)})}),Rh=qe(function(a,b){return null==a?{}:"function"==typeof b[0]?gd(a,fc(b[0],b[1],3)):fd(a,Db(b))}),Sh=pc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Th=pc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Uh=Cc(),Vh=Cc(!0),Wh=pc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Xh=pc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Yh=qe(function(a,b){try{return a.apply(B,b)}catch(c){return Ee(c)?c:new Qf(c)}}),Zh=qe(function(a,b){return function(c){return Xc(c,a,b)}}),$h=qe(function(a,b){return function(c){return Xc(a,c,b)}}),_h=Ic("ceil"),ai=Ic("floor"),bi=tc(we,Ag),ci=tc(Se,Bg),di=Ic("round");return b.prototype=c.prototype,d.prototype=Ig(c.prototype),d.prototype.constructor=d,e.prototype=Ig(c.prototype),e.prototype.constructor=e,fa.prototype["delete"]=Ua,fa.prototype.get=Va,fa.prototype.has=Wa,fa.prototype.set=Xa,Ya.prototype.push=$a,ne.Cache=fa,b.after=je,b.ary=ke,b.assign=Eh,b.at=bh,b.before=le,b.bind=ph,b.bindAll=qh,b.bindKey=rh,b.callback=zf,b.chain=Od,b.chunk=nd,b.compact=od,b.constant=Af,b.countBy=ch,b.create=We,b.curry=sh,b.curryRight=th,b.debounce=me,b.defaults=Fh,b.defaultsDeep=Gh,b.defer=uh,b.delay=vh,b.difference=Rg,b.drop=pd,b.dropRight=qd,b.dropRightWhile=rd,b.dropWhile=sd,b.fill=td,b.filter=Yd,b.flatten=vd,b.flattenDeep=wd,b.flow=wh,b.flowRight=xh,b.forEach=fh,b.forEachRight=gh,b.forIn=Jh,b.forInRight=Kh,b.forOwn=Lh,b.forOwnRight=Mh,b.functions=Xe,b.groupBy=hh,b.indexBy=ih,b.initial=yd,b.intersection=Ug,b.invert=$e,b.invoke=jh,b.keys=Nh,b.keysIn=_e,b.map=_d,b.mapKeys=Oh,b.mapValues=Ph,b.matches=Cf,b.matchesProperty=Df,b.memoize=ne,b.merge=Dh,b.method=Zh,b.methodOf=$h,b.mixin=Ef,b.modArgs=yh,b.negate=oe,b.omit=Qh,b.once=pe,b.pairs=af,b.partial=zh,b.partialRight=Ah,b.partition=kh,b.pick=Rh,b.pluck=ae,b.property=Hf,b.propertyOf=If,b.pull=Bd,b.pullAt=Vg,b.range=Jf,b.rearg=Bh,b.reject=be,b.remove=Cd,b.rest=Dd,b.restParam=qe,b.set=cf,b.shuffle=de,b.slice=Ed,b.sortBy=ge,b.sortByAll=nh,b.sortByOrder=he,b.spread=re,b.take=Fd,b.takeRight=Gd,b.takeRightWhile=Hd,b.takeWhile=Id,b.tap=Pd,b.throttle=se,b.thru=Qd,b.times=Kf,b.toArray=Ue,b.toPlainObject=Ve,b.transform=df,b.union=Yg,b.uniq=Jd,b.unzip=Kd,b.unzipWith=Ld,b.values=ef,b.valuesIn=ff,b.where=ie,b.without=Zg,b.wrap=te,b.xor=Md,b.zip=$g,b.zipObject=Nd,b.zipWith=_g,b.backflow=xh,b.collect=_d,b.compose=xh,b.each=fh,b.eachRight=gh,b.extend=Eh,b.iteratee=zf,b.methods=Xe,b.object=Nd,b.select=Yd,b.tail=Dd,b.unique=Jd,Ef(b,b),b.add=Mf,b.attempt=Yh,b.camelCase=Sh,b.capitalize=jf,b.ceil=_h,b.clone=ue,b.cloneDeep=ve,b.deburr=kf,b.endsWith=lf,b.escape=mf,b.escapeRegExp=nf,b.every=Xd,b.find=dh,b.findIndex=Sg,b.findKey=Hh,b.findLast=eh,b.findLastIndex=Tg,b.findLastKey=Ih,b.findWhere=Zd,b.first=ud,b.floor=ai,b.get=Ye,b.gt=we,b.gte=xe,b.has=Ze,b.identity=Bf,b.includes=$d,b.indexOf=xd,b.inRange=gf,b.isArguments=ye,b.isArray=Ch,b.isBoolean=ze,b.isDate=Ae,b.isElement=Be,b.isEmpty=Ce,b.isEqual=De,b.isError=Ee,b.isFinite=Fe,b.isFunction=Ge,b.isMatch=Ie,b.isNaN=Je,b.isNative=Ke,b.isNull=Le,b.isNumber=Me,b.isObject=He,b.isPlainObject=Ne,b.isRegExp=Oe,b.isString=Pe,b.isTypedArray=Qe,b.isUndefined=Re,b.kebabCase=Th,b.last=zd,b.lastIndexOf=Ad,b.lt=Se,b.lte=Te,b.max=bi,b.min=ci,b.noConflict=Ff,b.noop=Gf,b.now=oh,b.pad=of,b.padLeft=Uh,b.padRight=Vh,b.parseInt=pf,b.random=hf,b.reduce=lh,b.reduceRight=mh,b.repeat=qf,b.result=bf,b.round=di,b.runInContext=A,b.size=ee,b.snakeCase=Wh,b.some=fe,b.sortedIndex=Wg,b.sortedLastIndex=Xg,b.startCase=Xh,b.startsWith=rf,b.sum=Nf,b.template=sf,b.trim=tf,b.trimLeft=uf,b.trimRight=vf,b.trunc=wf,b.unescape=xf,b.uniqueId=Lf,b.words=yf,b.all=Xd,b.any=fe,b.contains=$d,b.eq=De,b.detect=dh,b.foldl=lh,b.foldr=mh,b.head=ud,b.include=$d,b.inject=lh,Ef(b,function(){var a={};return Fb(b,function(c,d){b.prototype[d]||(a[d]=c)}),a}(),!1),b.sample=ce,b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ce(b,a)}):ce(this.value())},b.VERSION=C,bb(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),bb(["drop","take"],function(a,b){e.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new e(this);c=null==c?1:vg(rg(c)||0,0);var f=this.clone();return d?f.__takeCount__=wg(f.__takeCount__,c):f.__views__.push({size:c,type:a+(f.__dir__<0?"Right":"")}),f},e.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),bb(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=S;e.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:Oc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),bb(["first","last"],function(a,b){var c="take"+(b?"Right":"");e.prototype[a]=function(){return this[c](1).value()[0]}}),bb(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");e.prototype[a]=function(){return this.__filtered__?new e(this):this[c](1)}}),bb(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Nb:Hf;e.prototype[a]=function(a){return this[c](d(a))}}),e.prototype.compact=function(){return this.filter(Bf)},e.prototype.reject=function(a,b){return a=Oc(a,b,1),this.filter(function(b){return!a(b)})},e.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(a>0||0>b)?new e(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==B&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},e.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},e.prototype.toArray=function(){return this.take(Bg)},Fb(e.prototype,function(a,c){var f=/^(?:filter|map|reject)|While$/.test(c),g=/^(?:first|last)$/.test(c),h=b[g?"take"+("last"==c?"Right":""):c];h&&(b.prototype[c]=function(){var b=g?[1]:arguments,c=this.__chain__,i=this.__wrapped__,j=!!this.__actions__.length,k=i instanceof e,l=b[0],m=k||Ch(i);m&&f&&"function"==typeof l&&1!=l.length&&(k=m=!1);var n=function(a){return g&&c?h(a,1)[0]:h.apply(B,jb([a],b))},o={func:Qd,args:[n],thisArg:B},p=k&&!j;if(g&&!c)return p?(i=i.clone(),i.__actions__.push(o),a.call(i)):h.call(B,this.value())[0];if(!g&&m){i=p?i:new e(this);var q=a.apply(i,b);return q.__actions__.push(o),new d(q,c)}return this.thru(n)})}),bb(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var c=(/^(?:replace|split)$/.test(a)?$f:Yf)[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?c.apply(this.value(),a):this[d](function(b){return c.apply(b,a)})}}),Fb(e.prototype,function(a,c){var d=b[c];if(d){var e=d.name,f=Hg[e]||(Hg[e]=[]);f.push({name:c,func:d})}}),Hg[Fc(B,E).name]=[{name:"wrapper",func:B}],e.prototype.clone=u,e.prototype.reverse=_,e.prototype.value=da,b.prototype.chain=Rd,b.prototype.commit=Sd,b.prototype.concat=ah,b.prototype.plant=Td,b.prototype.reverse=Ud,b.prototype.toString=Vd,b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=Wd,b.prototype.collect=b.prototype.map,b.prototype.head=b.prototype.first,b.prototype.select=b.prototype.filter,b.prototype.tail=b.prototype.rest,b}var B,C="3.10.1",D=1,E=2,F=4,G=8,H=16,I=32,J=64,K=128,L=256,M=30,N="...",O=150,P=16,Q=200,R=1,S=2,T="Expected a function",U="__lodash_placeholder__",V="[object Arguments]",W="[object Array]",X="[object Boolean]",Y="[object Date]",Z="[object Error]",$="[object Function]",_="[object Map]",aa="[object Number]",ba="[object Object]",ca="[object RegExp]",da="[object Set]",ea="[object String]",fa="[object WeakMap]",ga="[object ArrayBuffer]",ha="[object Float32Array]",ia="[object Float64Array]",ja="[object Int8Array]",ka="[object Int16Array]",la="[object Int32Array]",ma="[object Uint8Array]",na="[object Uint8ClampedArray]",oa="[object Uint16Array]",pa="[object Uint32Array]",qa=/\b__p \+= '';/g,ra=/\b(__p \+=) '' \+/g,sa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ta=/&(?:amp|lt|gt|quot|#39|#96);/g,ua=/[&<>"'`]/g,va=RegExp(ta.source),wa=RegExp(ua.source),xa=/<%-([\s\S]+?)%>/g,ya=/<%([\s\S]+?)%>/g,za=/<%=([\s\S]+?)%>/g,Aa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ba=/^\w*$/,Ca=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Da=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ea=RegExp(Da.source),Fa=/[\u0300-\u036f\ufe20-\ufe23]/g,Ga=/\\(\\)?/g,Ha=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ia=/\w*$/,Ja=/^0[xX]/,Ka=/^\[object .+?Constructor\]$/,La=/^\d+$/,Ma=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Na=/($^)/,Oa=/['\n\r\u2028\u2029\\]/g,Pa=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Qa=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ra=-1,Sa={};Sa[ha]=Sa[ia]=Sa[ja]=Sa[ka]=Sa[la]=Sa[ma]=Sa[na]=Sa[oa]=Sa[pa]=!0,Sa[V]=Sa[W]=Sa[ga]=Sa[X]=Sa[Y]=Sa[Z]=Sa[$]=Sa[_]=Sa[aa]=Sa[ba]=Sa[ca]=Sa[da]=Sa[ea]=Sa[fa]=!1;var Ta={};Ta[V]=Ta[W]=Ta[ga]=Ta[X]=Ta[Y]=Ta[ha]=Ta[ia]=Ta[ja]=Ta[ka]=Ta[la]=Ta[aa]=Ta[ba]=Ta[ca]=Ta[ea]=Ta[ma]=Ta[na]=Ta[oa]=Ta[pa]=!0,Ta[Z]=Ta[$]=Ta[_]=Ta[da]=Ta[fa]=!1;var Ua={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Va={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Wa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Xa={"function":!0,object:!0},Ya={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Za={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$a=Xa[typeof b]&&b&&!b.nodeType&&b,_a=Xa[typeof a]&&a&&!a.nodeType&&a,ab=$a&&_a&&"object"==typeof e&&e&&e.Object&&e,bb=Xa[typeof self]&&self&&self.Object&&self,cb=Xa[typeof window]&&window&&window.Object&&window,db=(_a&&_a.exports===$a&&$a,ab||cb!==(this&&this.window)&&cb||bb||this),eb=A();db._=eb,d=function(){return eb}.call(b,c,b,a),!(d!==B&&(a.exports=d))}).call(this)}).call(b,c(10)(a),function(){return this}())},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(32),g=c(1),h=d(g);b["default"]=function(){(0,e.forEach)(function(a){var b=c(35)("./"+a+"/index"),d=b();d.register()})(["Box","Graph","Layer"]);var a=(0,f.getState)(),b=a.diagramFactoryMap,d=(0,e.keys)(b);(0,e.forEach)(function(a){h["default"][a]=b[a]})(d)},a.exports=b["default"]},function(a,b,c){function d(a){return c(e(a))}function e(a){return f[a]||function(){throw new Error("Cannot find module '"+a+"'.")}()}var f={"./Box/creation/index":36,"./Box/helpers/index":37,"./Box/index":62,"./Graph/creation/index":63,"./Graph/helpers/index":64,"./Graph/index":82,"./Layer/creation/index":83,"./Layer/helpers/index":85,"./Layer/index":104};d.keys=function(){return Object.keys(f)},d.resolve=e,a.exports=d,d.id=35},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.getCreationFn=void 0;var e=c(31),f=c(1),g=d(f),h=c(37),i=d(h),j=c(57),k=d(j),l=c(61),m=d(l),n=c(59),o=(0,n.getFeatures)();b.getCreationFn=function(a){return function(b,c,d){var f=g["default"].svg.generateSvg(),h=f.attr("width")-40,j=f.append("g").attr({"class":"box-diagram",transform:"translate(20, 20)"}),l=j.append("g"),n=g["default"].utils.getUrlParams();d=d||{},i["default"].addBodyItemsAndUpdateHeights.set((0,k["default"])({boxG:j,conf:c,diagram:a,svg:f,width:h})),g["default"].svg.addFilterColor({container:f,deviation:3,id:"box",slope:4}),l.append("rect").attr({fill:"#fff",height:o.nameHeight,stroke:"#000",width:h}).style({filter:"url(#diagrams-drop-shadow-box)"}),l.append("text").attr({x:h/2,y:30}).text(c.name).style({"font-weight":"bold","text-anchor":"middle"}),(0,e.select)(document.body).style("opacity",0),i["default"].addBodyItemsAndUpdateHeights.run(),d.allCollapsed===!0&&i["default"].collapseAll(b),i["default"].addButtons(b),(0,e.select)(document.body).style("opacity",1),n.target&&(0,m["default"])(n.target,c)}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(38),f=d(e),g=c(39),h=d(g),i=c(40),j=d(i),k=c(41),l=d(k),m=c(44),n=d(m),o=c(46),p=d(o),q=c(48),r=d(q),s=c(49),t=d(s),u=c(45),v=d(u),w=c(42),x=d(w),y=c(50),z=d(y),A=c(51),B=d(A),C=c(54),D=d(C),E=c(55),F=d(E),G=c(52),H=d(G),I=c(56),J=d(I),K=c(53),L=d(K),M=c(43),N=d(M),O={addAdvantagesDrawbacksOtherToDesc:f["default"],addBodyItemsAndUpdateHeights:h["default"],addButtons:j["default"],collapseAll:l["default"],collapseItem:n["default"],dataFromGeneralToSpecific:p["default"],dataFromSpecificToGeneral:r["default"],expandAll:t["default"],expandItem:v["default"],expandOrCollapseAll:x["default"],filterByString:z["default"],generateContainer:B["default"],generateDefinition:D["default"],generateDefinitionWithSharedGet:F["default"],generateItem:H["default"],generateLink:J["default"],parseItemGenerationOptions:L["default"],traverseBodyDataAndRefresh:N["default"]};b["default"]=O,a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=c(2),f=(0,d.flip)(d.concat),g=(0,e.getClassedDivTokens)(),h=g.lvl1Tkns,i=g.lvl2Tkns,j=g.lvl3Tkns,k=e.editedDescriptionTokenHandler.getEditedDescriptionToken,l=function(a,b){return(0,d.compose)(f("  - "+b+j.thirdToken),f(j.firstToken+"diagrams-box-ado-row"+j.secondToken))(a)},m=function(a,b){return(0,d.compose)(f(""+i.thirdToken),f((0,d.reduce)(l,"",b)),f(""+j.secondToken+a+j.thirdToken+":"),f(""+i.secondToken+j.firstToken+"diagrams-box-ado-section-header"),f(i.firstToken+"diagrams-box-ado-section"))("")},n=function(a,b){return(0,d.compose)((0,d.concat)(k()),f(h.thirdToken),f(m("Other",b[2])),f(m("Drawbacks",b[1])),f(m("Advantages",b[0])),f(h.firstToken+"diagrams-box-ado"+h.secondToken))(a)};b["default"]=n,a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=null;b["default"]={run:function(){return c()},set:function(a){return c=a}},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1);b["default"]=function(a){var b=d.Diagram.addDivBeforeSvg();b.appendButtonToDiv("diagrams-box-collapse-all-button","Collapse all","diagrams.box.collapseAll("+a+")"),b.appendButtonToDiv("diagrams-box-expand-all-button","Expand all","diagrams.box.expandAll("+a+")")},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(42),f=d(e);b["default"]=function(a){(0,f["default"])(a,"collapse")},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(43),g=d(f),h=c(44),i=d(h),j=c(45),k=d(j),l={collapseItem:i["default"],expandItem:k["default"]},m={withCollapsedItems:!0},n=function(a){return a.hasOwnProperty("collapsed")},o=(0,e.curry)(function(a,b){n(b)&&l[a+"Item"](b)});b["default"]=function(a,b){(0,g["default"])(a,m,o(b))},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(32),g=c(39),h=d(g),i=function j(a){var b=a.cb,c=a.items,d=a.opts,f=a.parents;(0,e.forEach)(function(a){b&&b(a,f),a.items&&j({cb:b,items:a.items,opts:d,parents:f.concat(a)}),d.withCollapsedItems&&a.collapsedItems&&j({cb:b,items:a.collapsedItems,opts:d,parents:f.concat(a)})},c)};b["default"]=function(a,b,c){var d=f.Diagram.getDataWithCreationId(a)[1],e=d.body;b=b||{},b.withCollapsedItems=b.withCollapsedItems||!1,i({cb:c,items:e,opts:b,parents:[]}),h["default"].run()},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a){a.items.length>0&&(a.collapsedItems=a.items,a.collapsed=!0,a.items=[])},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a){a.collapsedItems&&(a.items=a.collapsedItems,delete a.collapsedItems),a.collapsed=!1},a.exports=b["default"]},function(a,b,c){(function(d){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(2),g=c(47),h=f.pure.refToProp;b["default"]=function(a){return(0,e.compose)((0,e.omit)(["text","items"]),h("text","name"),h("items","body"),(0,f.dataFromGeneralToSpecificForATreeStructureType)(d.alert,g.diagramName))(a)},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.defaultOptions={isLink:!1,notCompleted:!1},b.diagramName="box"},function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(47),g=function h(a,b,c){(0,e.forEach)(function(a){var g=a.description,i=a.options,j=(0,e.merge)({graphsData:d({},f.diagramName,i?{options:i}:{}),id:++c.maxId,name:a.text},g?{description:g}:{});c.finalItems.push(j),b?c.connections.push({from:j.id,to:b.id}):c.connections.push({from:j.id,to:0}),a.items&&a.items.length>0&&h(a.items,j,c)},a)};b["default"]=function(a){var b={connections:[],finalItems:[],maxId:-1};return b.finalItems.push({id:++b.maxId,name:a.name}),g(a.body,null,b),{connections:b.connections,items:b.finalItems}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(42),f=d(e);b["default"]=function(a){(0,f["default"])(a,"expand")},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(33),g=c(43),h=d(g),i=(0,e.curry)(function(a,b){return b.hidden=a}),j=i({isHidden:!1}),k=i({isHidden:!0}),l=function(a){return a.hidden!==!0},m=function(a){return(0,e.any)(a,l)},n=(0,e.curry)(function(a,b,c){var d=a.showChildren===!0&&m(c)===!0;d?j(b):o(a,b,c)}),o=function(a,b,c){var d=new RegExp(a.str,"i").test(b.text);d===!1?k(b):((0,e.forEach)(j)(c),j(b))};b["default"]=(0,f.debounce)(function(a,b){(0,h["default"])(b,null,n(a))},500),a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(52),g=d(f),h=(0,e.compose)(e.isArrayLike,(0,e.nth)(1)),i=function j(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return h(b)?j(b[0],null,b[1],b[2]):(0,g["default"])({description:b[1],items:b[2],options:b[3],text:b[0]})};b["default"]=i,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{
"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(47),g=c(53),h=d(g);b["default"]=function(a){var b=a.description,c=void 0===b?null:b,d=a.items,g=void 0===d?[]:d,i=a.options,j=void 0===i?{}:i,k=a.text,l=(0,h["default"])(j);return(0,e.merge)({items:g,options:(0,e.merge)(f.defaultOptions,l),text:k},c?{description:c}:{})},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=(0,d.is)(String),f=(0,d.compose)(d.toUpper,(0,d.nth)(1)),g=function(a,b){var c=b.replace(/-([a-z])/g,f);return(0,d.assoc)(c,!0,a)},h=(0,d.compose)((0,d.reduce)(g,{}),(0,d.split)(" "));b["default"]=function(a){return a=a||{},e(a)?h(a):a},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(52),f=d(e);b["default"]=function(a,b){return(0,f["default"])({description:b,text:a})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(1),f=c(54),g=d(f);b["default"]=function(a){var b=arguments.length<=1||void 0===arguments[1]?"":arguments[1],c=b+a.split("(")[0],d=e.shared.get(c);return(0,g["default"])(a,d)},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(52),f=d(e);b["default"]=function(a,b){return(0,f["default"])({description:b,items:null,options:{isLink:!0},text:a})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(24),g=c(1),h=d(g),i=c(30),j=c(37),k=d(j),l=c(58),m=d(l),n=c(60),o=d(n),p=c(59),q=(0,p.getFeatures)(),r=void 0,s=void 0,t=0,u=function v(a){var b=a.conf,c=a.container,d=a.depth,g=a.diagram,i=a.items,j=a.svg,l=void 0,n=void 0,o=void 0,p=void 0,u=void 0,w=void 0;i=i||b.body,c=c||s,d=d||1,i===b.body&&(r=1),i&&(0,f.each)(function(a,f){if(a.hidden!==!0){var s="diagrams-box-text-"+t++;(0,e.isString)(a)&&(a=k["default"].generateItem({text:a}),i[f]=a),a.items=a.items||[],a.items.length>0?(l=c.append("g"),u=h["default"].utils.formatShortDescription(a.text),a.items&&a.items.length>0&&(u+=":"),a.description?(a.fullText=h["default"].utils.generateATextDescriptionStr(u,a.description),u+=" (...)"):a.fullText=a.text,n=l.append("text").text(u).attr({id:s,x:q.depthWidth*d,y:q.rowHeight*++r}),v({bodyPosition:r,conf:b,container:l,depth:d+1,diagram:g,items:a.items,svg:j})):a.options&&a.options.isLink===!0?(l=c.append("svg:a").attr("xlink:href",a.description),n=l.append("text").text(h["default"].utils.formatShortDescription(a.text)).attr({fill:q.shortDescriptionColor,id:s,x:q.depthWidth*d,y:q.rowHeight*++r}),a.fullText=a.text+" ("+a.description+")"):(l=c.append("g").attr({id:s}),n=l.append("text").text(h["default"].utils.formatShortDescription(a.text)).attr({"class":"diagrams-box-definition-text",x:q.depthWidth*d,y:q.rowHeight*++r}),a.description&&(o=n[0][0].getBoundingClientRect().width,p=j[0][0].getBoundingClientRect().width-o-q.depthWidth*d-30,l.append("text").text("- "+h["default"].utils.formatShortDescription(a.description)).attr({x:q.depthWidth*d+o+5,y:q.rowHeight*r-1}).each(h["default"].svg.textEllipsis(p))),a.fullText=h["default"].utils.generateATextDescriptionStr(a.text,a.description)),(0,m["default"])(l,a),a.textG=l,a.textEl=n,a.options&&a.options.notCompleted===!0&&(a.textG.attr("class",""+(a.textG.attr("class")||"")+" diagrams-box-not-completed-block"),w=a.textEl.text(),a.textEl.text(""),a.textEl.append("tspan").text(w+" "),a.textEl.append("tspan").text("[NOT COMPLETED]").attr("class","diagrams-box-not-completed-tag")),g.addMouseListenersToEl(n,a)}},i)};b["default"]=function(a){var b=a.boxG,c=a.conf,d=a.diagram,e=a.svg,f=a.width;return function(){var a=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);e.attr("height",q.svgInitialNeglectableHeight),s&&s.remove(),s=b.append("g").attr({transform:"translate(0, "+q.nameHeight+")"});var g=s.append("rect").attr({fill:q.bodyRect.fill,stroke:q.bodyRect.stroke,width:f}).style({filter:"url(#diagrams-drop-shadow-box)"});o["default"].reset(),u({bodyG:s,conf:c,container:null,depth:null,diagram:d,items:null,svg:e}),d.setRelationships(c.body),(0,i.updateHeigthOfElWithOtherEl)(e,b,50),(0,i.updateHeigthOfElWithOtherEl)(g,b,25-q.nameHeight),window.scrollTo(0,a),d.emit("items-rendered")}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(37),g=c(59),h=c(60),i=d(h),j=(0,g.getFeatures)(),k=function(a,b){(b.items.length>0||b.collapsedItems)&&!function(){var c=a.select("text"),d=Number(c.attr("y")),g=Number(c.attr("x")),h=a.append("g").attr({"class":"collapsible-trigger"}),k=function(){(0,f.collapseItem)(b),f.addBodyItemsAndUpdateHeights.run()},l=function(){(0,f.expandItem)(b),f.addBodyItemsAndUpdateHeights.run()},m=h.append("text").attr({x:g+j.trigger.text.xOffset,y:d+j.trigger.text.yOffset}),n=function(){m.text("-").attr("class","minus"),h.on("click",k)},o=function(){m.text("+").attr({"class":"plus",y:d}),h.on("click",l)},p=void 0;i["default"].increase(),p="clippath-"+i["default"].get(),h.append("clipPath").attr("id",p).append("rect").attr({height:j.trigger.CP.height,width:j.trigger.CP.width,x:g+j.trigger.CP.xOffset,y:d+j.trigger.CP.yOffset}),m.attr("clip-path","url(#"+p+")"),(0,e.isUndefined)(b.collapsed)?(b.collapsed=!1,n()):b.collapsed===!0?o():b.collapsed===!1&&n()}()};b["default"]=k,a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c={bodyRect:{fill:"#fff",stroke:"#000"},depthWidth:35,nameHeight:50,rowHeight:30,shortDescriptionColor:"#3962B8",svgInitialNeglectableHeight:10,trigger:{CP:{height:15,width:20,xOffset:-20,yOffset:-17},text:{xOffset:-20,yOffset:5}}};b.getFeatures=function(){return c},b.setFeatures=function(a){return c=a}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=void 0,d={get:function(){return c},increase:function(){c+=1},reset:function(){c=0}};b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=(0,d.equals)(null),f=(0,d.is)(String),g=function h(a,b){return(0,d.reduce)(function(b,c){return e(b)?f(c.text)&&c.text.indexOf(a)>-1?c:c.items?h(a,c.items):null:b},null,b)};b["default"]=function(a,b){var c=g(a,b.body);c&&!function(){var a=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),b=c.textG[0][0].getBoundingClientRect().top;setTimeout(function(){window.scrollTo(0,b+a)},0)}()},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(5),j=c(1),k=d(j),l=c(37),m=d(l),n=c(36),o=c(47),p=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"create",value:function(){(0,n.getCreationFn)(this).apply(void 0,arguments)}},{key:"setRelationships",value:function(a,b){var c=this;(0,i.forEach)(function(a){c.generateEmptyRelationships(a),b&&(c.addDependantRelationship(b,a.textG,a),c.addDependencyRelationship(a,b.textG,b)),a.items&&a.items.length>0&&c.setRelationships(a.items,a)})(a)}}]),b}(k["default"].Diagram);b["default"]=function(){return new p({helpers:m["default"],name:o.diagramName})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.getCreationFn=void 0;var e=c(31),f=d(e),g=c(33),h=d(g),i=c(1),j=d(i),k=c(64),l=d(k),m="Show connections selectively",n="dia graph zoom",o="Drag nodes on click (may make links difficult)",p="All arrows are curved",q={"private":!0,type:Number,value:1},r=j["default"].utils.positionFn,s=j["default"].utils.textFn;b.getCreationFn=function(a){return function(b,c,d){var i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),k=j["default"].svg.generateSvg(),t=k.append("g"),u=k.attr("width"),v=a.config(o),w=a.config(p),x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=void 0,G=void 0,H=void 0;l["default"].linksNumberMapHandler().reset();var I=j["default"].svg.selectScreenHeightOrHeight(i-250),J=function(){var a=function(a){z.select("path."+a).attr("d",function(a){var b=l["default"].getLinksNumberMapItemWithLink(a),c=a.data.linkIndex,d=a.target.x-a.source.x,e=a.target.y-a.source.y,f=Math.sqrt(d*d+e*e)*(w?3.5:1)*(c+(w?1:0)/(3*b));return"M"+a.source.x+","+a.source.y+"A"+(f+","+f+" 0 0,1 ")+(a.target.x+","+a.target.y)})};(0,g.each)(["link-path","link-path-outer"],a),B.each(function(a){"circle"===a.shape?B.select("circle").attr("cx",r("x")).attr("cy",r("y")):("triangle"===a.shape?F=B.select("path.triangle"):"square"===a.shape&&(F=B.select("path.square")),j["default"].utils.applySimpleTransform(F))}),B.select("text").attr("x",r("x")).attr("y",r("y",-20))},K=function(){var b=(0,g.reduce)(c,function(a,b){var c=b.id||0;return a>c?a:c},0),f={},h={},i=e.scale.category20(),j=function(a,b){a.connections.length>0&&(0,g.each)(a.connections,function(a){(0,g.each)(a.nodesIds,function(c){p=f[c],p&&(d.hideNodesWithoutLinks&&(h[p.index]=!0,h[b]=!0),q={},"out"===a.direction?(q.source=b,q.target=p.index):(q.source=p.index,q.target=b),q.data=a,q.color=H.nodes[q.source].color,l["default"].updateLinksNumberMapWithLink(q),q.data.linkIndex=l["default"].getLinksNumberMapItemWithLink(q)-1,q.data.text&&(q.data.fullText=q.data.text),H.links.push(q))})})},m=void 0,n=void 0,o=void 0,p=void 0,q=void 0;H={links:[],nodes:[]},G=[],(0,g.each)(c,function(a,c){m=(0,g.isUndefined)(a.id)?b++:a.id,n=i(c),o=a.options||{},H.nodes.push({bold:o.bold||!1,color:n,connections:a.connections||[],description:a.description||null,id:m,linkToUrl:o.linkToUrl||null,name:a.name,shape:o.shape||"circle"}),f[m]={index:c},f[m].color=n,G.push({color:n,id:m})}),a.config(d),d.info&&l["default"].addDiagramInfo(a,k,d.info),(0,g.each)(H.nodes,j),d.hideNodesWithoutLinks===!0&&(0,g.each)(H.nodes,function(a,b){h[b]!==!0&&(a.hidden=!0)})},L=function(b,c){c=c||1,t.attr("transform","translate("+b+")scale("+c+")"),q.value=c,a.config(n,q)},M=function(){f["default"].event.sourceEvent.stopPropagation(),(0,e.select)(this).classed("dragging",!0),x.start()},N=function(a){(0,e.select)(this).attr("cx",a.x=f["default"].event.x).attr("cy",a.y=f["default"].event.y)},O=function(){(0,e.select)(this).classed("dragging",!1)},P=function(){(0,g.each)(H.nodes,a.generateEmptyRelationships,a),(0,g.each)(H.nodes,function(b){a.addSelfRelationship(b,b.shapeEl,b)}),(0,g.each)(H.links,function(b){a.addDependencyRelationship(b.source,b.target.shapeEl,b.target),a.addDependantRelationship(b.target,b.source.shapeEl,b.source)})},Q=function(){return t.selectAll(".link")},R=function(){return Q().filter(function(a){return a.data.hasOwnProperty("shyIsHiding")})},S=function(b,c){var d=void 0;a.config(m)&&(b===!1?c.data.shyIsHiding=b:b===!0&&(d=R(),d.each(function(a){a.data.shyIsHiding=!0})),c.data.shyIsHidingChanged=!0)},T=function(a,b){var c="show"===a,d="hide"===a,e=b.data,f=R(),g=Q().filter(function(a){return a.source.id===e.id||a.target.id===e.id}),h=function(a,b){a.classed("shy-link-hidden",!b),a.classed("shy-link-showed",b)},i=function(a){h(a,!1),a.each(function(a){delete a.data.shyIsHiding})},j=function m(){setTimeout(function(){k=!0,l=!0,g.each(function(a){k=k&&a.data.shyIsHiding,a.data.shyIsHidingChanged&&(l=!1,delete a.data.shyIsHidingChanged)}),k&&l?i(g):m()},500)},k=void 0,l=void 0;0===f[0].length?c?h(g,!0):d&&(g.each(function(a){a.data.shyIsHiding=!0}),j()):c?f.each(function(a,b){0===b&&(a.data.shyIsHiding=!1)}):d&&S(!0,f.data()[0])},U=(0,g.partial)(l["default"].setReRender,a,b,c,h["default"]);a.markRelatedFn=function(a){var b=a.el.attr("class");a.el.attr("class",b+" marked")},a.unmarkAllItems=function(){(0,g.each)(H.nodes,function(a){var b=a.shapeEl.attr("class");a.shapeEl.attr("class",b?b.replace(/ marked/gm,""):"")})},d=d||{},K(),k.attr({"class":"graph-diagram",height:I}),C=e.behavior.zoom().scaleExtent([.1,10]).on("zoom",function(){L(f["default"].event.translate,f["default"].event.scale)}),k.call(C),C.translate([100,100]).scale(a.config(n).value),L(C.translate(),C.scale()),x=e.layout.force().size([u,I]).charge(d.charge||-1e4).linkDistance(d.linkDistance||140).on("tick",J),y=e.behavior.drag().origin(function(a){return a}).on("dragstart",M).on("drag",N).on("dragend",O),x.nodes(H.nodes).links(H.links).start(),t.append("svg:defs").selectAll("marker").data(G).enter().append("svg:marker").attr({"class":"arrow-head",fill:s("color"),id:s("id","arrow-head-"),markerHeight:8,markerWidth:8,orient:"auto",refX:19,refY:w?-1.5:0,viewBox:"0 -5 10 10"}).append("svg:path").attr("d","M0,-5L10,0L0,5"),z=t.selectAll(".link").data(H.links).enter().append("g").attr("class",function(){var b="link";return a.config(m)&&(b+=" shy-link shy-link-hidden"),b}),z.append("svg:path").attr({"class":"link-path","marker-end":function(a){return"url(#arrow-head-"+a.source.id+")"}}).style({stroke:s("color"),"stroke-dasharray":function(a){return"plain"===a.data.line?null:"dotted"===a.data.line?"5,5":"morse"===a.data.line?"20,10,5,5,5,10":void 0}}),A=z.append("g"),A.append("svg:path").attr("class","link-path-outer"),A.each(function(b){a.addMouseListenersToEl((0,e.select)(this),b.data,{mouseenter:function(a){S(!1,a)},mouseleave:function(a){S(!0,a)}})}),B=t.selectAll(".node").data(H.nodes).enter().append("g").attr({"class":function(a){var b="node";return a.hidden===!0&&(b+=" node-hidden"),b},id:s("id","node-")}),B.each(function(b){var c="";D=(0,e.select)(this),b.fullText=j["default"].utils.generateATextDescriptionStr(b.name,b.description),"circle"===b.shape?F=D.append("circle").attr({fill:s("color"),r:12}):(E=e.svg.symbol().size(750),F=D.append("path"),"triangle"===b.shape?(E=E.type("triangle-up"),c+=" triangle"):"square"===b.shape&&(E=E.type("square"),c+=" square"),F=F.attr({d:E,fill:s("color")}),j["default"].utils.applySimpleTransform(F)),v===!0&&F.call(y),c+=b.bold===!0?" bold":" thin",F.attr("class",c),b.shapeEl=F,a.addMouseListenersToEl(F,b,{click:function(a){a.data.linkToUrl&&window.open(a.data.linkToUrl)},mouseenter:function(b){a.config(m)&&T("show",b)},mouseleave:function(b){a.config(m)&&T("hide",b)}})}),B.append("text").text(s("name")),P(),U(d),a.listen("configuration-changed",function(d){(d.key===m||d.key===o)&&(U(d),a.removePreviousAndCreate(b,c,d))})}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(65),f=d(e),g=c(66),h=d(g),i=c(67),j=d(i),k=c(68),l=d(k),m=c(69),n=d(m),o=c(71),p=d(o),q=c(73),r=d(q),s=c(74),t=d(s),u=c(72),v=d(u),w=c(75),x=d(w),y=c(76),z=d(y),A=c(77),B=d(A),C=c(78),D=d(C),E=c(79),F=d(E),G=c(70),H=d(G),I=c(80),J=d(I),K=c(81),L=d(K);b["default"]={addDiagramInfo:f["default"],connectionFnFactory:h["default"],dataFromGeneralToSpecific:j["default"],doWithMinIdAndMaxIdOfLinkNodes:l["default"],generateConnectionWithText:n["default"],generateFnNodeWithSharedGetAndBoldIfFile:p["default"],generateNode:r["default"],generateNodeOptions:t["default"],generateNodeWithSharedGet:v["default"],generateNodeWithTargetLink:x["default"],generateNodeWithTextAsTargetLink:z["default"],generatePrivateNode:B["default"],getLinksNumberMapItemWithLink:D["default"],linksNumberMapHandler:F["default"],mergeWithDefaultConnection:H["default"],setReRender:J["default"],updateLinksNumberMapWithLink:L["default"]},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(1),g=d(f),h=function(a){var b=a.diagram,c=a.el,d=a.hasDescription,e=a.info;d&&b.addMouseListenersToEl(c,{el:c,fullText:g["default"].utils.generateATextDescriptionStr(e[0],e[1])})};b["default"]=function(a,b,c){(0,e.isString)(c)&&(c=[c]);var d=2===c.length,f=b[0][0].getBoundingClientRect().width,i=c[0]+(d?" (...)":""),j=b.append("g").attr({"class":"graph-info",transform:"translate(10, 50)"}).append("text").text(i).each(g["default"].svg.textEllipsis(f));h({diagram:a,el:j,hasDescription:d,info:c})},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(33),e=function(a){var b=a.changedProp,c=a.changedVal,d=a.connection;return function(a){return a[b]=c,d}};b["default"]=function(a,b,c){return function(){var f=a.apply(void 0,arguments),g=e({changedProp:b,changedVal:c,connection:f});return(0,d.isArray)(f)?(0,d.map)(f,g):g(f)}},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(33),e=function(a){var b=a.connection,c=a.currentNode,d=a.otherNodeId;return"out"===b.direction?{from:c.id,to:d}:"in"===b.direction?{from:d,to:c.id}:void 0},f=function(a,b){return(0,d.map)(b.nodesIds,function(c){var d=e({connection:b,currentNode:a,otherNodeId:c});return d})};b["default"]=function(a){var b=[],c=[];return(0,d.each)(a,function(a){b.push({description:a.description,id:a.id,name:a.name}),(0,d.each)(a.connections,function(b){c=c.concat(f(a,b))})}),{connections:c,items:b}},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(33);b["default"]=function(a,b){var c=function(a){return(0,d.isNumber)(a)?a:a.index},e=[c(a.source),c(a.target)],f=(0,d.min)(e),g=(0,d.max)(e);return b(f,g)},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(70),g=d(f),h=c(69),i=d(h);b["default"]=function(a,b){return(0,e.isArray)(a)&&(0,e.isArray)(a[0])?(0,e.map)(a,function(a){return i["default"].apply({},a)}):((0,e.isString)(a)?a=a.split(" ").map(Number):(0,e.isNumber)(a)&&(a=[a]),(0,g["default"])({nodesIds:a,text:b}))},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(33);b["default"]=function(a){var b={direction:"out",line:"plain",symbol:"arrow"};return(0,d.defaults)(a,b)},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=arguments,f=c(72),g=d(f);b["default"]=function(a){return function(){var b="",c="";return e[0].split("@")[0]===a&&(b="b"),e.length>2&&(c=e[2]),e.length>3&&(b=e[3]+" "+b),(0,g["default"])(e[0],e[1],c,b)}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=arguments,f=c(1),g=d(f),h=c(73),i=d(h);b["default"]=function(){var a=e[0],b=void 0,c=void 0,d=void 0;return c=e.length>2?e[2]:"",b=c+a.split("(")[0],d=e.length>3?e[3]:null,(0,i["default"])(a,e[1],g["default"].shared.get(b),d)},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(33),g=c(24),h=c(74),i=d(h),j=c(70),k=d(j),l=function(a,b){a.connections.push((0,k["default"])({nodesIds:[b]}))},m=function r(a,b){(0,f.isArray)(b)?(0,e.forEach)(function(b){r(a,b)},b):(0,f.isNumber)(b)?r({nodesIds:[b]}):(0,f.isObject)(b)&&((0,k["default"])(b),a.connections.push(b))},n=function(a,b){var c=b.split(" ").map(Number);c.length>0&&(a.id=c[0]),c.length>1&&(0,g.each)(function(b,c){c>0&&m(a,b)},c)},o=function(a,b){var c=b.slice(1);a.id=b[0],(0,e.forEach)(function(b){(0,f.isNumber)(b)?l(a,b):m(a,b)},c)},p=function(a,b){(0,f.isString)(b)?n(a,b):(0,f.isArray)(b)?o(a,b):(0,f.isNumber)(b)&&(a.id=b)},q=function(a,b){var c=b[1];p(a,c),b.length>2&&(a.description=b[2]),b.length>3&&(a.options=(0,i["default"])(b[3]))};b["default"]=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d={name:b[0]};return b.length>1&&(d.connections=[],q(d,b)),d},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(74),g=d(f),h=function(a){var b=a.obj;return function(a){if("s-"===a.substr(0,2)){var c=a.substr(2,a.length-2);"t"===c?b.shape="triangle":"s"===c?b.shape="square":b.shape="circle"}else"b"===a?b.bold=!0:"l~"===a.substr(0,2)&&(b.linkToUrl=a.substr(2,a.length-2))}};b["default"]=function(a){var b={};return(0,e.isString)(a)?(0,g["default"])(a.split(" ")):(0,e.isArray)(a)?((0,e.each)(a,h({obj:b})),b):void 0},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(73),g=d(f);b["default"]=function(a,b){return function(){for(var c=arguments.length,d=Array(c),f=0;c>f;f++)d[f]=arguments[f];return(0,e.isUndefined)(d[3])?d[3]="":d[3]+=" ",d[3]+="l~"+a+"?target="+encodeURIComponent(b),g["default"].apply({},d)}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=arguments,f=c(1),g=d(f);b["default"]=function(a){return function(){return g["default"].graph.generateNodeWithTargetLink(a,e[0]).apply({},e)}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}Object.defineProperty(b,"__esModule",{value:!0});var f=arguments,g=c(73),h=d(g);b["default"]=function(){var a=Array.prototype.slice.call(f);return a[2]+="<br><strong>PRIVATE</strong>",a[3]="s-t",h["default"].apply(void 0,e(a))},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(68),f=d(e),g=c(79),h=d(g);b["default"]=function(a){return(0,f["default"])(a,function(a,b){return(0,h["default"])().get()[a][b]})},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c={},d={get:function(){return c},reset:function(){return c={}}};b["default"]=function(){return d},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a,b,c){a.reRender=function(d){a.unlisten("configuration-changed"),a.reRender=null,a.removePreviousAndCreate(b,c,d)}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(68),g=d(f),h=c(79),i=d(h);b["default"]=function(a){(0,g["default"])(a,function(a,b){var c=(0,i["default"])().get();(0,e.isUndefined)(c[a])&&(c[a]={}),(0,e.isUndefined)(c[a][b])?c[a][b]=1:c[a][b]+=1})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(1),k=d(j),l=c(64),m=d(l),n=c(63),o="Show connections selectively",p="dia graph zoom",q="Drag nodes on click (may make links difficult)",r="All arrows are curved",s={"private":!0,type:Number,value:1};b["default"]=function(){var a,b=function(a){function b(){return f(this,b),g(this,Object.getPrototypeOf(b).apply(this,arguments))}return h(b,a),i(b,[{key:"create",value:function(){(0,n.getCreationFn)(this).apply(void 0,arguments)}}]),b}(k["default"].Diagram);return new b({configuration:(a={},e(a,r,!1),e(a,q,!1),e(a,p,s),e(a,o,!0),e(a,"info",null),a),configurationKeys:{SHY_CONNECTIONS:o},helpers:m["default"],name:"graph"})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.getCreationFn=void 0;var e=c(31),f=c(33),g=c(1),h=d(g),i=c(84),j=d(i),k=c(85),l=d(k),m=c(91),n=0,o=h["default"].utils.textFn,p=function q(a){(0,f.each)(a,function(a){a.hasOwnProperty("items")===!1?a.items=[]:q(a.items)})};b.getCreationFn=function(a){return function(b,c){var d=l["default"].getConfigHandler();d.setDefault();var g=d.get(),i=["#ECD078","#D95B43","#C02942","#78E4B7","#53777A","#00A8C6","#AEE239","#FAAE8A"],k=function(a,b){var c=function(a){return{x:(a.x+a.width/2)*g.widthSize+g.depthWidthFactor*a.depth,y:a.y*g.heightSize+g.depthHeightFactor*a.depth}},d=function(a){return{x:(a.x+a.width/2)*g.widthSize+g.depthWidthFactor*a.depth,y:(a.y+a.height)*g.heightSize-g.depthHeightFactor*a.depth}},e=function(a){return{x:a.x*g.widthSize+g.depthWidthFactor*a.depth,y:(a.y+a.height/2)*g.heightSize+g.depthHeightFactor*a.depth}},h=function(a){return{x:(a.x+a.width)*g.widthSize-g.depthWidthFactor*a.depth,y:(a.y+a.height/2)*g.heightSize+g.depthHeightFactor*a.depth}},i=function(a){return{bottom:d(a),left:e(a),right:h(a),top:c(a)}},j={val:1/0},k=function(a){var b=a.posA,c=a.posB,d=a.sideA,e=a.sideB;if("bottom"!==d&&"left"!==d&&"top"!==d||"right"!==e){if("bottom"!==d&&"right"!==d&&"top"!==d||"left"!==e){if("bottom"!==d&&"right"!==d&&"left"!==d||"top"!==e){if(("left"===d||"right"===d||"top"===d)&&"bottom"===e&&b.y<c.y)return!1}else if(b.y>c.y)return!1}else if(b.x>c.x)return!1}else if(b.x<c.x)return!1;return!0},l=function(a,b){var c=function(a){return Math.pow(a,2)},d=Math.sqrt(c(a.x-b.x)+c(a.y-b.y));return d<j.val?(j.val=d,j.from=a,j.to=b,!0):!1},m=function(a){(0,f.each)(["top","bottom","left","right"],function(b){a(b)})},n=function(a,b){var c=!1;return(0,f.each)([[a,b],[b,a]],function(a){"top"===a[0]&&"bottom"===a[1]?c=!0:"left"===a[0]&&"right"===a[1]&&(c=!0)}),c},o=function(b){m(function(c){m(function(d){(0,f.isUndefined)(p.connectionsAlreadyProcessed)&&(p.connectionsAlreadyProcessed=[]),c!==d&&a.connectionsAlreadyProcessed.indexOf(c)<0&&p.connectionsAlreadyProcessed.indexOf(d)<0&&(b===!1&&n(c,d)===!1||n(c,d))&&k({posA:q[c],posB:r[d],sideA:c,sideB:d})&&(s=l(q[c],r[d]),s===!0&&(j.sideA=c,j.sideB=d))})})},p=b.layer,q=i(a),r=i(p),s=void 0;return o(!0),s!==!0&&o(!1),a.connectionsAlreadyProcessed.push(j.sideA),p.connectionsAlreadyProcessed.push(j.sideB),j},q=function(a){var b=a.layer.container,c=a.layer.containerData,d=void 0,g=void 0,h=void 0,j=void 0,l=void 0;(0,f.each)(a.connectedTo,function(f){h=k(a.layer,f),j=e.svg.line().x(o("x")).y(o("y")),g=a.layer.id+"-"+f.layer.id,d=b.append("g").attr("id",g),h.from&&h.to&&(l=d.append("path").attr("d",j([h.from,h.to])).style({fill:"none",stroke:"#000"}),"dashed"===f.type&&l.style("stroke-dasharray","5, 5"),d.append("circle").attr({cx:h.to.x,cy:h.to.y,fill:i[a.layer.depth-1],r:5}).style({stroke:"#000"}),c.connections=c.connections||[],c.connections.push({el:d,id:g}))})},r=function w(a){a=a||c,(0,f.chain)(a).filter(function(a){return a.hasOwnProperty("connectedTo")}).map(function(b){var c=[],d=void 0,e=void 0,g=void 0;return(0,f.each)(b.connectedTo,function(b){e=(0,f.isObject)(b)?b.id:b,g=(0,f.isObject)(b)&&b.type?b.type:m.defaultConnectionType,d=(0,f.where)(a,{id:e})[0],c.push({layer:d,type:g})}),{connectedTo:c,layer:b}}).each(function(a){q(a)}).value(),(0,f.chain)(a).filter(function(a){return a.items.length>0}).each(function(a){w(a.items)}).value()},s=function(){var a=function(a){return a.y+a.height},b=(0,f.max)(c,a),d=a(b),e=d*g.heightSize+20;v.attr("height",e)},t=function(){var b=document.body.getBoundingClientRect().width;a.maxUnityWidth=Math.floor(b/g.widthSize)},u=function x(b,d,e){var k=g.widthSize,m=g.heightSize,o=void 0,p=void 0,q=void 0,r=void 0;b=b||c,d=d||v,(0,f.each)(b,function(b,c){var f="diagrams-layer-g-"+n++,s=void 0;o=d.append("g").attr({"class":"layer-node",id:f,transform:"translate("+b.x*k+", "+b.y*m+")"}),b.layerG=o,b.container=d,b.containerData=e,q=l["default"].getFinalLayerDimensions(b),p=o.append("g"),b.conditional===!0?p.append("path").attr({d:j["default"].hexagon({height:q.height,width:q.width,widthPercent:97+Math.abs(3-b.depth)}),fill:q.fill,stroke:"#f00",transform:q.transform}):p.append("rect").attr({fill:q.fill,height:q.height,transform:q.transform,width:q.width}).style({filter:"url(#diagrams-drop-shadow-layer)"}),r=p.append("text").attr({transform:q.transform,x:b.depth,y:b.height*m-3*b.depth-10}).text(function(){return h["default"].utils.formatShortDescription(b.text)}),b.fullText=b.text,a.addMouseListenersToEl(p,b),r.each(h["default"].svg.textEllipsis(b.width*k-g.depthWidthFactor*b.depth*2)),q.numberTransform&&(s=p.append("g").attr({"class":"number",transform:q.numberTransform}),s.append("circle").attr({cx:4,cy:-4,fill:i[b.depth-1],filter:"none",r:10,stroke:"#000","stroke-width":2}),s.append("text").text(c+1).attr("fill","#000")),b.items.length>0&&x(b.items,o,b)})},v=h["default"].svg.generateSvg({margin:"20px 0 0 20px"});a.markRelatedFn=function(a){a.data.origFill=a.data.origFill||a.el.select("rect").style("fill"),a.el.select("rect").style({fill:"rgb(254, 255, 209)"})},a.unmarkAllItems=function(){var a=function b(a){(0,f.each)(a,function(a){a.layerG.style({"stroke-width":"1px"}),a.origFill&&a.layerG.select("rect").style("fill",a.origFill),a.items&&b(a.items)})};a(c)},(0,f.each)(i,function(a,b){h["default"].svg.addVerticalGradientFilter(v,"color-"+b,["#fff",a])}),v.attr("class","layers-diagram"),(0,f.isArray)(c)===!1&&(c=[c]),h["default"].svg.addFilterColor({container:v,deviation:3,id:"layer",slope:2}),p(c),t(),l["default"].generateLayersData(a,c),u(),r(),s(),a.generateRelationships(c)}}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d={hexagon:function(a){var b=a.height/2,d=a.width/2,e=a.widthPercent?(1-a.widthPercent/100)*a.width:(a.width-a.height)/2,f=a.center||[d,b],g=c(f,2),h=g[0],i=g[1];return"M"+(h-d)+","+i+("L"+(h-d+e)+","+(i+b))+("L"+(h+d-e)+","+(i+b))+("L"+(h+d)+","+i)+("L"+(h+d-e)+","+(i-b))+("L"+(h-d+e)+","+(i-b))+"Z"}};b["default"]=d,
a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(86),g=d(f),h=c(87),i=d(h),j=c(88),k=d(j),l=c(90),m=d(l),n=c(92),o=d(n),p=c(93),q=d(p),r=c(94),s=d(r),t=c(95),u=d(t),v=c(98),w=d(v),x=c(99),y=d(x),z=c(96),A=d(z),B=c(100),C=d(B),D=c(97),E=d(D),F=c(101),G=d(F),H=c(103),I=d(H),J=c(102),K=d(J),L=c(89),M=d(L),N={Grid:i["default"],calculateLayerWithChildrenDimensions:k["default"],connectWithOpt:m["default"],dataFromGeneralToSpecific:o["default"],dataFromSpecificToGeneral:q["default"],generateLayersData:s["default"],getConfigHandler:u["default"],getFinalLayerDimensions:w["default"],getStaticOptsLetters:y["default"],handleConnectedToNextCaseIfNecessary:A["default"],idOpt:C["default"],idsHandler:E["default"],newLayer:G["default"],newLayerConnectedToNext:I["default"],parseOptsString:K["default"],shouldItemsOfLayerBeSorted:M["default"]},O=(0,e.reduce)(function(a,b){var c=(0,g["default"])(a,b);return(0,e.merge)(a,c)},N,["newLayer","newLayerConnectedToNext"]);b["default"]=O,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(b,"__esModule",{value:!0});var e=c(2),f=c(5),g=function(a,b){var c=(0,f.isArrayLike)(b)?b.join("\n"):b;return a(c)};b["default"]=function(a,b){var c;return c={},d(c,b+"WithCode",function(c){var d=(0,e.codeBlockOfLanguageFn)(c);return function(){for(var c=arguments.length,e=Array(c),f=0;c>f;f++)e[f]=arguments[f];var h=e[0];return e[0]=g(d,h),a[b].apply(a,e)}}),d(c,b+"WithParagraphAndCode",function(c){var d=(0,e.codeBlockOfLanguageFn)(c);return function(){for(var c=arguments.length,f=Array(c),h=0;c>h;h++)f[h]=arguments[h];var i=f[0],j=f[1],k=(0,e.wrapInParagraph)(i)+g(d,j);return f=f.splice(2),f.unshift(k),a[b].apply(this,f)}}),c},a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){var b=a.cells.length;return 0===b?0:h(a)?b-1:b}function f(a,b,c){var d=void 0;b.x=c.x,b.y=c.y;for(var e=0;e<b.height;e++){g(a,e+c.y),d=a.cells[e+c.y];for(var f=0;f<b.width;f++)d[f+c.x]=!0}i(a)}function g(a,b){(0,l.isUndefined)(a.cells[b])&&(a.cells[b]=[])}function h(a){for(var b=a.cells.length,c=0;c<a.width;c++)if(a.cells[b-1][c]===!0)return!1;return!0}function i(a){for(var b=0;1e3>b;){if(a.position.x+=1,a.position.x===a.width)a.position.x=-1,a.position.y+=1,g(a,a.position.y);else if(a.cells[a.position.y][a.position.x]!==!0)break;b++}}function j(a,b,c){for(var d=void 0,e=0;e<b.height;e++){if(d=a.cells[e+c.y],(0,l.isUndefined)(d))return!0;for(var f=0;f<b.width;f++){if(d[f+c.x]===!0)return!1;if(f+c.x+1>a.width)return!1}}return!0}Object.defineProperty(b,"__esModule",{value:!0});var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=c(33),m=function(){function a(b){d(this,a),this.position={x:0,y:0},this.width=b,this.cells=[]}return k(a,[{key:"addItemAtNewRow",value:function(a){var b=0;for(this.position.x=0;1e3>b&&(this.position.y+=1,!this.itemFitsAtCurrentPos(a));)b++;this.addItemAtCurrentPos(a)}},{key:"addItemAtCurrentPos",value:function(a){f(this,a,this.position)}},{key:"itemFitsAtCurrentPos",value:function(a){return j(this,a,this.position)}},{key:"movePositionToNextRow",value:function(){this.position.y++,this.position.x=0,g(this,this.position.y)}},{key:"getSize",value:function(){return{height:e(this),width:this.width}}}]),a}();b["default"]=m,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(87),g=d(f),h=c(89),i=d(h),j=function(a){var b={itemsArray:[],itemsOfLayerIndex:0,maxHeight:0,maxWidth:0,totalHeight:0,totalWidth:0,whileCounter:0};return(0,e.reduce)(function(a,b){return a.totalWidth+=b.width,a.totalHeight+=b.height,a.maxHeight=b.height>a.maxHeight?b.height:a.maxHeight,a.maxWidth=b.width>a.maxWidth?b.width:a.maxWidth,a.itemsArray.push(b),a},b,a.items)},k=function(a,b,c){var d=b.grid,e=b.itemsOfLayer;return e[a].inNewRow===!0?(d.addItemAtNewRow(e[a]),e.splice(a,1),c.itemsOfLayerIndex=0,!0):d.itemFitsAtCurrentPos(e[a])?(d.addItemAtCurrentPos(e[a]),e.splice(a,1),c.itemsOfLayerIndex=0,!0):!1},l=function(a,b){a.x=0,a.y=0,a.width=b.width,a.height=a.items.length>0?b.height+1:b.height},m=function(a){var b=a.layer,c=a.maxWidth,d=a.totalHeight,e=a.totalWidth;return e/2>=c?d>e?d/2<b.items.length?Math.ceil(e/2):e:Math.ceil(e/2):c},n=function(a,b,c){var d=c.maxWidth,e=c.totalHeight,f=c.totalWidth,g=m({layer:b,maxWidth:d,totalHeight:e,totalWidth:f});return a.maxUnityWidth<g?a.maxUnityWidth:g},o=function(a,b){var c=b.itemsArray;return a?c.sort(function(a,b){return a.width===b.width?a.height<b.height:a.width<b.width}):c},p=function(a,b){var c=o(d,b),d=(0,i["default"])(b.itemsArray);for(k(0,{grid:a,itemsOfLayer:c},b);c.length>0&&b.whileCounter<1e3;)k(b.itemsOfLayerIndex,{grid:a,itemsOfLayer:c},b)||(d?(b.itemsOfLayerIndex++,b.itemsOfLayerIndex===c.length&&(b.itemsOfLayerIndex=0,a.movePositionToNextRow())):a.movePositionToNextRow()),b.whileCounter++};b["default"]=function(a,b){var c=j(b),d=n(a,b,c),e=new g["default"](d);p(e,c),l(b,e.getSize())},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5);b["default"]=function(a){return(0,d.none)(function(a){return a.hasOwnProperty("connectedTo")||a.connectToNext===!0},a)},a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=c(91),f=(0,d.is)(Number),g=(0,d.curry)(function(a,b,c){return(0,d.concat)(b,[{id:"layer-"+c+"-custom",type:a}])});b["default"]=function(a,b){var c=arguments.length<=2||void 0===arguments[2]?e.defaultConnectionType:arguments[2],h=f(a)?[a]:a,i=(0,d.reduce)(g(c),[],h);b.connectedTo=b.connectedTo?b.connectedTo.concat(i):i},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.diagramName="layer",b.defaultConnectionType="standard"},function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var f=c(91),g=c(14),h=e(g);b["default"]=function(a){return(0,h["default"])(d.alert,f.diagramName,a)},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(b,"__esModule",{value:!0});var e=c(5),f=c(91),g=c(24),h=function(){return{connections:[],finalItems:[],idCounter:-1}},i=function(a,b,c){var h=a.description,i=a.name;return(0,g.removeUndefined)({description:h,graphsData:(0,e.merge)(b.graphsData||{},d({},f.diagramName,(0,g.removeUndefined)({id:b.id,relationships:b.options}))),id:++c.idCounter,name:i||b.fullText})},j=function k(a,b,c){var d=a.connections,f=a.finalItems;(0,e.forEach)(function(b){var e=/(\. |:)/.exec(b.fullText),g=void 0,h=void 0;if(e){var j=b.fullText.split(e[0]);g=j[0],h=j.slice(1).join(e)}var l=i({description:h,name:g},b,a);f.push(l),c&&d.push({from:l.id,to:c.id}),b.items&&b.items.length>0&&k(a,b.items,l)},b)};b["default"]=function(a){var b=h();return(0,e.isEmpty)(a)||j(b,[a]),{connections:b.connections,items:b.finalItems}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(24),f=c(88),g=d(f),h=c(95),i=d(h),j=c(96),k=d(j),l=function m(a,b,c){var d=(0,i["default"])().get(),f=void 0,h=void 0;return c=c||1,f=c,(0,e.each)(function(e,i){e.showNumbersAll===!0&&(d.showNumbersAll=!0),e.depth=c,(0,k["default"])(b,i),e.items.length>0?(h=m(a,e.items,c+1),(0,g["default"])(a,e),f=h>f?h:f):(e.width=1,e.height=1,f=h>f?h:f),e.connectionsAlreadyProcessed=[]},b),f};b["default"]=l,a.exports=b["default"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e={depthHeightFactor:2,depthWidthFactor:4,heightSize:60,showNumbersAll:!1,widthSize:350},f=void 0,g={get:function(){return f},setDefault:function(){return f=(0,d.merge)({},e)}};b["default"]=function(){return g},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(97),g=d(f);b["default"]=function(a,b){var c=a[b],d=a[b+1],f=void 0,h=void 0;c.hasOwnProperty("connectedWithNext")===!0&&d&&(d.id?h=d.id:(h="to-next-"+String(g["default"].increase()),d.id=h),f=(0,e.isObject)(c.connectedWithNext)&&c.connectedWithNext.type?{id:h,type:c.connectedWithNext.type}:h,c.connectedTo?c.connectedTo.push(f):c.connectedTo=[f])},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=0;b["default"]={increase:function(){return++c},reset:function(){return c=0}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(95),f=d(e);b["default"]=function(a){var b=(0,f["default"])().get(),c=a.height*b.heightSize-b.depthHeightFactor*a.depth*2,d=a.width*b.widthSize-b.depthWidthFactor*a.depth*2,e="translate("+b.depthWidthFactor*a.depth+","+(b.depthHeightFactor*a.depth+")"),g="url(#color-"+String(a.depth-1)+")",h={fill:g,height:c,transform:e,width:d};return(b.showNumbersAll===!0||a.containerData&&a.containerData.showNumbers===!0)&&(h.numberTransform="translate("+(String(d-15+b.depthWidthFactor*a.depth)+",")+(String(b.depthHeightFactor*a.depth+c+0)+")")),h},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(){return{cn:{connectedWithNext:!0},cnd:{connectedWithNext:{type:"dashed"}},co:{conditional:!0},nr:{inNewRow:!0},sn:{showNumbers:!0},sna:{showNumbersAll:!0}}},a.exports=b["default"]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=function(a){return{id:"layer-"+a+"-custom"}},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(97),g=d(f),h=c(102),i=d(h);b["default"]=function(a,b,c){var d={text:a};return(0,e.isArray)(b)?c=b:((0,e.isString)(b)&&(b=(0,i["default"])(b)),(0,e.isObject)(b)&&(d=(0,e.extend)(d,b))),c&&(d.items=c),(0,e.isUndefined)(d.id)&&(d.id="layer-"+g["default"].increase()+"-auto"),d},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(33),f=c(100),g=d(f),h=c(99),i=d(h),j=c(90),k=d(j);b["default"]=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d={};return(0,e.each)(b,function(a){"string"==typeof a?(0,e.each)(a.split(" "),function(a){"id-"===a.substr(0,3)?d=(0,e.extend)(d,(0,g["default"])(a.substr(3,a.length))):"ct-"===a.substr(0,3)?(0,k["default"])(Number(a.substr(3,a.length)),d):"ctd-"===a.substr(0,4)?(0,k["default"])(Number(a.substr(4,a.length)),d,"dashed"):d=(0,e.extend)(d,(0,i["default"])()[a])}):(0,e.isObject)(a)&&(d=(0,e.extend)(d,a))}),d},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},f=c(101),g=d(f);b["default"]=function(){var a=arguments.length;if(1===a)return(0,g["default"])(arguments.length<=0?void 0:arguments[0],"cn");if(2===a){if("object"===e(arguments.length<=1?void 0:arguments[1]))return(0,g["default"])(arguments.length<=0?void 0:arguments[0],"cn",arguments.length<=1?void 0:arguments[1]);if(e("string"===(arguments.length<=1?void 0:arguments[1])))return(0,g["default"])(arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])+" cn")}else if(3===a)return(0,g["default"])(arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])+" cn",arguments.length<=2?void 0:arguments[2])},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(33),j=c(1),k=d(j),l=c(85),m=d(l),n=c(83),o=c(91);b["default"]=function(){var a=function(a){function b(){return e(this,b),f(this,Object.getPrototypeOf(b).apply(this,arguments))}return g(b,a),h(b,[{key:"create",value:function(){(0,n.getCreationFn)(this).apply(void 0,arguments)}},{key:"generateRelationships",value:function(a,b){var c=this;(0,i.each)(a,function(a){c.generateEmptyRelationships(a),c.addSelfRelationship(a,a.layerG,a),b&&(c.addDependantRelationship(b,a.layerG,a),c.addDependencyRelationship(a,b.layerG,b)),a.items&&a.items.length>0&&c.generateRelationships(a.items,a)})}}]),b}(k["default"].Diagram);return new a({helpers:m["default"],name:o.diagramName})},a.exports=b["default"]}]);